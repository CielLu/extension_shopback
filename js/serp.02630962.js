webpackJsonp([7],{0:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(52);n.FONT_FAMILY="Roboto, Helvetica, arial, sans-serif",n.ACTIVATE_TAOBAO_PRODUCT_FROM_SB="ACTIVATE_TAOBAO_PRODUCT_FROM_SB",n.FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_SUCCESS="FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_SUCCESS",n.FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_ERROR="FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_ERROR",n.FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS="FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS",n.FETCH_TAOBAO_PRODUCT_DEEP_LINK_ERROR="FETCH_TAOBAO_PRODUCT_DEEP_LINK_ERROR",n.DETECT_STAND_DOWN_AFFILIATE_NETWORK="DETECT_STAND_DOWN_AFFILIATE_NETWORK",n.DETACH_STAND_DOWN_AFFILIATE_NETWORK="DETACH_STAND_DOWN_AFFILIATE_NETWORK",n.CLOSE_ACTIVATED_MERCHANT_NOTIFIER="CLOSE_ACTIVATED_MERCHANT_NOTIFIER",n.DELETE_EXPIRED_ACTIVATED_MERCHANT="DELETE_EXPIRED_ACTIVATED_MERCHANT",n.VISIT_ACTIVATED_MERCHANT_NOTIFIER="VISIT_ACTIVATED_MERCHANT_NOTIFIER",n.GET_EXTENSION_SETTINGS_SUCCEESS="GET_EXTENSION_SETTINGS_SUCCEESS",n.t="ps",n.START_ACTIVATE_TAOBAO_PRODUCT="START_ACTIVATE_TAOBAO_PRODUCT",n.STAND_DOWN_MERCHANT_NOTIFIER="STAND_DOWN_MERCHANT_NOTIFIER",n.FETCH_TOP_MERCHANTS_SUCCESS="FETCH_TOP_MERCHANTS_SUCCESS",n.CLEAR_DIRTY_LOGIN_FROM_MENU="CLEAR_DIRTY_LOGIN_FROM_MENU",n.STAND_UP_MERCHANT_NOTIFIER="STAND_UP_MERCHANT_NOTIFIER",n.FETCH_TAOBAO_PRODUCT_ERROR="FETCH_TAOBAO_PRODUCT_ERROR",n.CAPTURE_MERCHANT_PAGE_HTML="CAPTURE_MERCHANT_PAGE_HTML",n.OPEN_BROWESER_SETTING_PAGE="OPEN_BROWESER_SETTING_PAGE",n.DEACTIVATE_TAOBAO_PRODUCT="DEACTIVATE_TAOBAO_PRODUCT",n.FETCH_TOP_MERCHANTS_ERROR="FETCH_TOP_MERCHANTS_ERROR",n.REFETCH_MERCHANTS_SUCCESS="REFETCH_MERCHANTS_SUCCESS",n.n="ll",n.r="pwd",n.DETECCT_PERMISSION_CHANGE="DETECCT_PERMISSION_CHANGE",n.CLOSE_PERMISSION_NOTIFIER="CLOSE_PERMISSION_NOTIFIER",n.RESET_PERMISSION_NOTIFIER="RESET_PERMISSION_NOTIFIER",n.CLEAN_INVALID_PERMISSION="CLEAN_INVALID_PERMISSION",n.CLOSE_MERCHANT_NOTIFIER="CLOSE_MERCHANT_NOTIFIER",n.FETCH_USER_INFO_SUCCESS="FETCH_USER_INFO_SUCCESS",n.FETCH_MERCHANTS_SUCCESS="FETCH_MERCHANTS_SUCCESS",n.SYNC_USER_FROM_SHOPBACK="SYNC_USER_FROM_SHOPBACK",n.DETECT_SB_REDIRECT_PAGE="DETECT_SB_REDIRECT_PAGE",n.OPEN_TAOBAO_SEARCH_BAR="OPEN_TAOBAO_SEARCH_BAR",n.e="cp",n.FETCH_MERCHANTS_ERROR="FETCH_MERCHANTS_ERROR",n.FETCH_USER_INFO_ERROR="FETCH_USER_INFO_ERROR",n.DIRTY_LOGIN_FROM_MENU="DIRTY_LOGIN_FROM_MENU",n.FETCH_SETTINGS_ERROR="FETCH_SETTINGS_ERROR",n.FETCH_TOP_MERCHANTS="FETCH_TOP_MERCHANTS",n.FETCH_DEALS_SUCCESS="FETCH_DEALS_SUCCESS",n.DEEP_LINK_REDIRECT="DEEP_LINK_REDIRECT",n.ADD_DIRTY_REDIRECT="ADD_DIRTY_REDIRECT",n.FETCH_DEALS_ERROR="FETCH_DEALS_ERROR",n.CLEAN_ACTIVATION="CLEAN_ACTIVATION",n.FETCH_CC_SUCCESS="FETCH_CC_SUCCESS",n.DROP_COOKIE_DONE="DROP_COOKIE_DONE",n.SET_COOKIE_DONE="SET_COOKIE_DONE",n.SET_COOKIE_FAIL="SET_COOKIE_FAIL",n.o="netstat",n.DISABLE_TRACKING="DISABLE_TRACKING",n.ENABLE_TRACKING="ENABLE_TRACKING",n.TOGGLE_TRACKING="TOGGLE_TRACKING",n.FETCH_USER_INFO="FETCH_USER_INFO",n.FETCH_CC_ERROR="FETCH_CC_ERROR",n.START_ACTIVATE="START_ACTIVATE",n.GEN_SB_EXT_ID="GEN_SB_EXT_ID",n.OPEN_POPUP_UI="OPEN_POPUP_UI",n.LOGIN_NOT_OK="LOGIN_NOT_OK",n.FETCH_DEALS="FETCH_DEALS",n.SWITCH_USER="SWITCH_USER",n.DE_ACTIVATE="DE_ACTIVATE",n.u="mv",n.API_ERROR="API_ERROR",n.LOGIN_OK="LOGIN_OK",n.LOGOUT="LOGOUT",n.OPEN_NEW_TAB="OPEN_NEW_TAB",n.CLOSE_TAB="CLOSE_TAB",n.REFRESH_ACCESS_TOKEN_SUCCESS="REFRESH_ACCESS_TOKEN_SUCCESS",n.TOGGLE_LOGGER="TOGGLE_LOGGER",n.EVENT_EXT_CLICK="EVENT_EXT_CLICK",n.EVENT_EXT_LOGIN="EVENT_EXT_LOGIN",n.EVENT_EXT_SEARCH="EVENT_EXT_SEARCH",n.EVENT_EXT_UPDATED="EVENT_EXT_UPDATED",n.EVENT_EXT_REDIRECT="EVENT_EXT_REDIRECT",n.EVENT_EXT_MENU_OPEN="EVENT_EXT_MENU_OPEN",n.EVENT_EXT_INSTALLED="EVENT_EXT_INSTALLED",n.EVENT_EXT_PAGE_VISITED="EVENT_EXT_PAGE_VISITED",n.EVENT_EXT_SERP_VISITED="EVENT_EXT_SERP_VISITED",n.EVENT_EXT_SERP_CLICKED="EVENT_EXT_SERP_CLICKED",n.EVENT_EXT_NOTIFIER_PROMPT="EVENT_EXT_NOTIFIER_PROMPT",n.EVENT_EXT_APPLY_COUPON_CODE="EVENT_EXT_APPLY_COUPON_CODE",n.EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT="EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT",n.EVENT_EXT_ERROR_OCCURED="EVENT_EXT_ERROR_OCCURED",n.EVENT_EXT_MANUAL_APPLY_COUPON_CODE="EVENT_EXT_MANUAL_APPLY_COUPON_CODE",n.DEFAULT_COUNTRY="COM",n.ACTIVATE_FROM_POPUP="ACTIVATE_FROM_POPUP",n.MENU_STORE="Menu Store",n.MENU_ACCOUNT_LOGIN="Menu_Account_Login",n.MENU_ACCOUNT_SWITCH_POPUP="Menu_Account_Country_Switch_Popup",n.POPUP_CUSTOM_LOGOUT_EVENT="LOGOUT",n.POPUP_CUSTOM_LOGIN_EVENT="LOGIN_DIRECTLY",n.POPUP_CUSTOM_LOGIN="NON_LOGIN_USER_TO_LOGIN",n.POPUP_CUSTOM_SEARCH_TAOBAO="CLICK_TO_SEARCH",n.POPUP_CUSTOM_ACTIVATE_EVENT="ACTIVATE_FROM_MENU",n.POPUP_CUSTOM_OPEN_COUNTRY_SELECTOR="OPEN_COUNTRY_SELECTOR",n.POPUP_CUSTOM_CHOOSE_COUNTRY="POPUP_CUSTOM_CHOOSE_COUNTRY",n.POPUP_CUSTOM_CHANGE_TAB_EVENT="TAB_CHANGE",n.POPUP_CUSTOM_GO_WITHDRAW="GO_TO_WITHDRAW",n.POPUP_CUSTOM_GO_OVERVIEW="GO_TO_OVERVIEW",n.POPUP_CUSTOM_GO_REFER="GO_TO_REFER",n.POPUP_CUSTOM_GO_FAQ="GO_TO_FAQ",n.POPUP_CUSTOM_GO_RATE="GO_TO_RATE",n.POPUP_CUSTOM_CANCEL_SWITCH="CANCEL_SWITCH",n.POPUP_CUSTOM_MENU_CAMPAIGN_PROMPT="POPUP_CUSTOM_MENU_CAMPAIGN_PROMPT",n.POPUP_CUSTOM_MENU_CAMPAIGN_CLOSE="POPUP_CUSTOM_MENU_CAMPAIGN_CLOSE",n.POPUP_CUSTOM_MENU_CAMPAIGN_CLICK="POPUP_CUSTOM_MENU_CAMPAIGN_CLICK",n.TIME_TO_CLOSE_ACTIVATED_NOTIFIER=1e4,n.ACTIVATED_EXPIRED_MS=e.ACTIVATED_EXPIRED_MS,n.ACTIVATED_EXPIRED_MS_FOR_TAOBAO=e.ACTIVATED_EXPIRED_MS_FOR_TAOBAO,n.REFETCH_MERCHANT_INTERVAL_MS=3e5,n.REFETCH_SETTING_INTERVAL_MS=18e5,n.STAND_DOWN_MERCHANT_NOTIFIER_TIMER_MS=864e5,n.PERMISSION_NOTIFIER_TTL=e.PERMISSION_NOTIFIER_TTL,n.CASHBACK_STATUS_UNAVAILABLE="unavailable",n.CASHBACK_STATUS_AVAILABLE="available",n.CASHBACK_STATUS_ACTIVATED="activated",n.CASHBACK_STATUS_FETCHING="fetching",n.CASHBACK_STATUS_TAOBAO_API_DOWN="down",n.ACTIVATE_STATE_NOT_ACTIVATED="ACTIVATE_STATE_NOT_ACTIVATED",n.ACTIVATE_STATE_ACTIVATING="ACTIVATE_STATE_ACTIVATING",n.ACTIVATE_STATE_ACTIVATED="ACTIVATE_STATE_ACTIVATED",n.DEFAULT_DISABLE_REASON="2",n.TAOBAO_SET_PRODUCT_FROM_AI_TAOBAO_SEARCH_TO_ACTIVATED="TAOBAO_SET_PRODUCT_FROM_AI_TAOBAO_SEARCH_TO_ACTIVATED",n.TAOBAO_TOGGLE_SEARCH_BOX="TAOBAO_TOGGLE_SEARCH_BOX",n.TAOBAO_OPEN_NOTIFIER="TAOBAO_OPEN_NOTIFIER",n.TAOBAO_CLOSE_NOTIFIER="TAOBAO_CLOSE_NOTIFIER",n.TAOBAO_OPEN_CONFIRMATION_NOTIFIER="TAOBAO_OPEN_CONFIRMATION_NOTIFIER",n.TAOBAO_CLOSE_CONFIRMATION_NOTIFIER="TAOBAO_CLOSE_CONFIRMATION_NOTIFIER",n.TAOBAO_OPEN_API_DOWN_NOTIFIER="TAOBAO_OPEN_API_DOWN_NOTIFIER",n.TAOBAO_CLOSE_API_DOWN_NOTIFIER="TAOBAO_CLOSE_API_DOWN_NOTIFIER",n.TAOBAO_MATERIAL_LIB_TYPE_HAS_CASHBACK=["1","1,2"],n.SHOPBACK_TAOBAO_CART="shopback-taobao-cart",n.GET_TAB_OF_CONTENT_SCRIPT="GET_TAB_OF_CONTENT_SCRIPT",n.SET_ICON_BADGE_TEXT="SET_ICON_BADGE_TEXT",n.COUNTRIES=["au","id","my","ph","sg","th","tw"],n.c=0,n.s=1,n.COUNTRY_LOCALES={au:"en-AU",id:"id",my:"ms-MY",ph:"en",sg:"en-SG",th:"th",tw:"en"},n.COUNTRY_CURRENCY_CODES={au:"AUD",id:"IDR",my:"MYR",ph:"PHP",sg:"SGD",th:"THB",tw:"NTD"},n.TOP_MERCHANT_TAB="topMerchants",n.COUPONS_TAB="coupons",n.MY_ACCOUNT_TAB="myAccount",n.UTM_BE_NOTIFIER_CASHBACK="be_cashback_notifier",n.p="be_disable_notifier",n.UTM_BE_CONFIRM_NOTIFIER="be_confirmation_notifier",n.UTM_BE_MENU_CASHBACK="be_menu_getcashback",n.UTM_BE_MENU_LOGIN_CASHBACK="be_menu_logintogetcashback",n.UTM_BE_MENU_STORE_NONLOGIN="be_menu_store_nonlogin",n.UTM_BE_MENU_STORE="be_menu_store",n.UTM_BE_LOGIN_NOTIFIER="be_login_notifier",n.UTM_BE_TAOBAO_LOGIN_CASHBACK_NOTIFIER="be_taobao_login_cashback_notifier",n.UTM_BE_TAOBAO_SEARCH="be_taobao_searchbar",n.UTM_BE_TAOBAO_CASHBACK_NOTIFIER="be_taobao_cashback_notifier",n.UTM_BE_TAOBAO_LOGIN_SEARCHBAR="be_taobao_login_searchbar",n.HEIGHT_OF_NORMAL_MENU=468,n.HEIGHT_OF_MERCHANT_MENU=537,n.HEIGHT_OF_TAOBAO_MENU=603,n.ACTIVATED_NOTIFIER_NOT_YET_VISITED=0,n.ACTIVATED_NOTIFIER_VISITED=1,n.ACTIVATED_NOTIFIER_CLOSED=2,n.SENTRY_ERROR_LOGGING="SENTRY_ERROR_LOGGING",n.SERP_LIST=[{domain:"yahoo",rx:"search\\.yahoo\\.com\\/",pattern:"h3.title > a",href:"=(http[^/]*)",searchInputPattern:"div#sbq-wrap > #yschsp"},{domain:"bing",rx:"\\.bing\\.com\\/search.*[&?]q=([^&]*)",pattern:'#b_results>.b_algo, #b_results>li, #b_results h2 a, div[class="sb_tlst"] * a',searchInputPattern:"#sb_form_q"},{domain:"google",rx:"^https?:\\/\\/(?:www\\.|encrypted\\.)?google\\.[\\w\\.]{2,6}.*",pattern:"div.rc > .r > a",searchInputPattern:".gLFyf"}],n.OTHER_SERP_PATTERN_LIST=[".ebates-serp","#gym_serp"],n.OPEN_BROWSER_WINDOW="OPEN_BROWSER_WINDOW",n.COUNTRY_BOOKING_IDENTIFIER={au:{aid:"1465791"},id:{aid:"1691096"},my:{aid:"1691091"},ph:{aid:"1244848"},sg:{aid:"1691090"},th:{aid:"1275028"},tw:{aid:"1244849"},com:{aid:"1691090"}},n.ICON_BADGE_BACKGROUND_COLOR="#fbb215",n.COUPON_NOTIFIER_DIV_ID="shopback-coupon-notifier",n.COUPON_APPLIER_DIV_ID="shopback-coupon-applier",n.CASHBACK_NOTIFIER_DIV_ID="shopback-cashback-notifier",n.POPUP_SEARCH_MERCHANT_INPUT_BOX_ID="shopback-popup-search-input-box",n.TAOBAO_NAVIGATOR_DIV_ID="shopback-taobao-navigator",n.IS_FIREFOX=-1===navigator.userAgent.indexOf("Chrome"),n.ACCESS_TOKEN_NAME="sbet",n.SECONDS_OF_ONE_YEAR=31536e3,n.HEADERS={X_SHOPBACK_LAST_CC:"X-SHOPBACK-LAST-CC",X_SHOPBACK_IRONGATE_ENABLED:"X-SHOPBACK-IRONGATE-ENABLED",X_SHOPBACK_DOMAIN:"X-SHOPBACK-DOMAIN",X_SHOPBACK_CLIENT_USER_AGENT:"X-SHOPBACK-CLIENT-USER-AGENT",X_SHOPBACK_ACCESS_TOKEN:"X-SHOPBACK-ACCESS-TOKEN",X_SHOPBACK_REFRESH_TOKEN:"X-SHOPBACK-REFRESH-TOKEN",CONTENT_TYPE:"Content-Type",ACCEPT:"Accept"},n.DEFAULT_EVENT_REASON="For more information, please visit",n.DEFAULT_USER_DATA_POLICY_URL="https://support.shopback.sg/hc/en-us/articles/360039652893",n.EVENT_REASONS_MAP={EVENT_EXT_INSTALLED:"To report ShopBack installs for product analytics. For more information, please visit",EVENT_EXT_PAGE_VISITED:"To look up domain to determine if it is a site ShopBack supports and determine appropriate ShopBack behavior. For more information, please visit",EVENT_EXT_NOTIFIER_PROMPT:"To report first interaction with ShopBack for product analytics. For more information, please visit",EVENT_EXT_REDIRECT:"To report affiliate tagging for product analytics. For more information, please visit",EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT:"To report affiliate activation to verify ShopBack is performing as expected. For more information, please visit",EVENT_EXT_MENU_OPEN:"To report ShopBack manually opened for product analytics. For more information, please visit",EVENT_EXT_CLICK:"To report interactions with ShopBack for product analytics. For more information, please visit",EVENT_EXT_SEARCH:"To report interactions with ShopBack for product analytics. For more information, please visit",EVENT_EXT_ERROR_OCCURED:"To report when ShopBack is not performing as expected. For more information, please visit",EVENT_EXT_LOGIN:"To report interactions with ShopBack for product analytics. For more information, please visit",EVENT_EXT_UPDATED:"To report version update for product analytics. For more information, please visit",EVENT_EXT_APPLY_COUPON_CODE:"To report coupon application status for product analytics. For more information, please visit",EVENT_EXT_MANUAL_APPLY_COUPON_CODE:"To report coupon application status for product analytics. For more information, please visit",EVENT_EXT_SERP_VISITED:"To report interactions with ShopBack for product analytics. For more information, please visit",EVENT_EXT_SERP_CLICKED:"To report interactions with ShopBack for product analytics. For more information, please visit"},n.USER_DATA_POLICY_PAGE_URLS={au:"https://support.shopback.com.au/hc/en-us/articles/360039114834",tw:"https://support.shopback.com.tw/hc/zh-tw/articles/360039187814",id:"https://support.shopback.co.id/hc/id/articles/360039941853",my:"https://support.shopback.my/hc/en-us/articles/360026274913",sg:"https://support.shopback.sg/hc/en-us/articles/360039652893",ph:"https://support.shopback.ph/hc/en-us/articles/115010370828",th:"https://support.shopback.co.th/hc/th/articles/360037977973"}},10:function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},105:function(t,n,r){"use strict";n.__esModule=!0,n.default=function(t,n){var r={};for(var e in t)n.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}},106:function(t,n,r){r(107);var e=r(2).Object;t.exports=function(t,n,r){return e.defineProperty(t,n,r)}},107:function(t,n,r){var e=r(13);e(e.S+e.F*!r(6),"Object",{defineProperty:r(8).f})},11:function(t,n,r){t.exports=r(145)()},110:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isLoggerEnabled=void 0;var e=r(17);n.isLoggerEnabled=(0,e.createSelector)([function(t){return t.extension}],function(t){return!!t.loggerEnabled})},12:function(t,n,r){var e=r(8),o=r(22);t.exports=r(6)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},120:function(t,n){},127:function(t,n,r){t.exports={default:r(128),__esModule:!0}},128:function(t,n,r){r(28),r(39),t.exports=r(61).f("iterator")},129:function(t,n,r){t.exports={default:r(130),__esModule:!0}},13:function(t,n,r){var e=r(4),o=r(2),i=r(46),u=r(12),c=r(10),a=function(t,n,r){var s,f,p,_=t&a.F,l=t&a.G,v=t&a.S,E=t&a.P,h=t&a.B,T=t&a.W,d=l?o:o[n]||(o[n]={}),O=d.prototype,b=l?e:v?e[n]:(e[n]||{}).prototype;for(s in l&&(r=n),r)(f=!_&&b&&void 0!==b[s])&&c(d,s)||(p=f?b[s]:r[s],d[s]=l&&"function"!=typeof b[s]?r[s]:h&&f?i(p,e):T&&b[s]==p?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(p):E&&"function"==typeof p?i(Function.call,p):p,E&&((d.virtual||(d.virtual={}))[s]=p,t&a.R&&O&&!O[s]&&u(O,s,p)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},130:function(t,n,r){r(131),r(120),r(136),r(137),t.exports=r(2).Symbol},131:function(t,n,r){"use strict";var e=r(4),o=r(10),i=r(6),u=r(13),c=r(59),a=r(132).KEY,s=r(18),f=r(41),p=r(40),_=r(27),l=r(3),v=r(61),E=r(62),h=r(133),T=r(134),d=r(9),O=r(15),b=r(37),m=r(16),S=r(47),A=r(22),y=r(48),C=r(135),R=r(99),I=r(49),N=r(8),g=r(26),w=R.f,k=N.f,P=C.f,L=e.Symbol,F=e.JSON,D=F&&F.stringify,M=l("_hidden"),H=l("toPrimitive"),U={}.propertyIsEnumerable,j=f("symbol-registry"),B=f("symbols"),K=f("op-symbols"),V=Object.prototype,X="function"==typeof L&&!!I.f,G=e.QObject,x=!G||!G.prototype||!G.prototype.findChild,W=i&&s(function(){return 7!=y(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=w(V,n);e&&delete V[n],k(t,n,r),e&&t!==V&&k(V,n,e)}:k,Q=function(t){var n=B[t]=y(L.prototype);return n._k=t,n},Y=X&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},z=function(t,n,r){return t===V&&z(K,n,r),d(t),n=S(n,!0),d(r),o(B,n)?(r.enumerable?(o(t,M)&&t[M][n]&&(t[M][n]=!1),r=y(r,{enumerable:A(0,!1)})):(o(t,M)||k(t,M,A(1,{})),t[M][n]=!0),W(t,n,r)):k(t,n,r)},q=function(t,n){d(t);for(var r,e=h(n=m(n)),o=0,i=e.length;i>o;)z(t,r=e[o++],n[r]);return t},J=function(t){var n=U.call(this,t=S(t,!0));return!(this===V&&o(B,t)&&!o(K,t))&&(!(n||!o(this,t)||!o(B,t)||o(this,M)&&this[M][t])||n)},$=function(t,n){if(t=m(t),n=S(n,!0),t!==V||!o(B,n)||o(K,n)){var r=w(t,n);return!r||!o(B,n)||o(t,M)&&t[M][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=P(m(t)),e=[],i=0;r.length>i;)o(B,n=r[i++])||n==M||n==a||e.push(n);return e},tt=function(t){for(var n,r=t===V,e=P(r?K:m(t)),i=[],u=0;e.length>u;)!o(B,n=e[u++])||r&&!o(V,n)||i.push(B[n]);return i};X||(c((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=_(arguments.length>0?arguments[0]:void 0),n=function(r){this===V&&n.call(K,r),o(this,M)&&o(this[M],t)&&(this[M][t]=!1),W(this,t,A(1,r))};return i&&x&&W(V,t,{configurable:!0,set:n}),Q(t)}).prototype,"toString",function(){return this._k}),R.f=$,N.f=z,r(98).f=C.f=Z,r(36).f=J,I.f=tt,i&&!r(23)&&c(V,"propertyIsEnumerable",J,!0),v.f=function(t){return Q(l(t))}),u(u.G+u.W+u.F*!X,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)l(nt[rt++]);for(var et=g(l.store),ot=0;et.length>ot;)E(et[ot++]);u(u.S+u.F*!X,"Symbol",{for:function(t){return o(j,t+="")?j[t]:j[t]=L(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in j)if(j[n]===t)return n},useSetter:function(){x=!0},useSimple:function(){x=!1}}),u(u.S+u.F*!X,"Object",{create:function(t,n){return void 0===n?y(t):q(y(t),n)},defineProperty:z,defineProperties:q,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var it=s(function(){I.f(1)});u(u.S+u.F*it,"Object",{getOwnPropertySymbols:function(t){return I.f(b(t))}}),F&&u(u.S+u.F*(!X||s(function(){var t=L();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var n,r,e=[t],o=1;arguments.length>o;)e.push(arguments[o++]);if(r=n=e[1],(O(n)||void 0!==t)&&!Y(t))return T(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!Y(n))return n}),e[1]=n,D.apply(F,e)}}),L.prototype[H]||r(12)(L.prototype,H,L.prototype.valueOf),p(L,"Symbol"),p(Math,"Math",!0),p(e.JSON,"JSON",!0)},132:function(t,n,r){var e=r(27)("meta"),o=r(15),i=r(10),u=r(8).f,c=0,a=Object.isExtensible||function(){return!0},s=!r(18)(function(){return a(Object.preventExtensions({}))}),f=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},p=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!a(t))return"F";if(!n)return"E";f(t)}return t[e].i},getWeak:function(t,n){if(!i(t,e)){if(!a(t))return!0;if(!n)return!1;f(t)}return t[e].w},onFreeze:function(t){return s&&p.NEED&&a(t)&&!i(t,e)&&f(t),t}}},133:function(t,n,r){var e=r(26),o=r(49),i=r(36);t.exports=function(t){var n=e(t),r=o.f;if(r)for(var u,c=r(t),a=i.f,s=0;c.length>s;)a.call(t,u=c[s++])&&n.push(u);return n}},134:function(t,n,r){var e=r(32);t.exports=Array.isArray||function(t){return"Array"==e(t)}},135:function(t,n,r){var e=r(16),o=r(98).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(e(t))}},136:function(t,n,r){r(62)("asyncIterator")},137:function(t,n,r){r(62)("observable")},138:function(t,n,r){t.exports={default:r(139),__esModule:!0}},139:function(t,n,r){r(140),t.exports=r(2).Object.setPrototypeOf},14:function(t,n){t.exports={}},140:function(t,n,r){var e=r(13);e(e.S,"Object",{setPrototypeOf:r(141).set})},141:function(t,n,r){var e=r(15),o=r(9),i=function(t,n){if(o(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{(e=r(46)(Function.call,r(99).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return i(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:i}},142:function(t,n,r){t.exports={default:r(143),__esModule:!0}},143:function(t,n,r){r(144);var e=r(2).Object;t.exports=function(t,n){return e.create(t,n)}},144:function(t,n,r){var e=r(13);e(e.S,"Object",{create:r(48)})},145:function(t,n,r){"use strict";var e=r(176),o=r(146),i=r(147);t.exports=function(){function t(t,n,r,e,u,c){c!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function n(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n};return r.checkPropTypes=e,r.PropTypes=r,r}},146:function(t,n,r){"use strict";var e=function(t){};t.exports=function(t,n,r,o,i,u,c,a){if(e(n),!t){var s;if(void 0===n)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,o,i,u,c,a],p=0;(s=new Error(n.replace(/%s/g,function(){return f[p++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},147:function(t,n,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},15:function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},16:function(t,n,r){var e=r(53),o=r(33);t.exports=function(t){return e(o(t))}},175:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.addDOMContentCompleteEventListener=function(t){"complete"!==document.readyState?window.addEventListener("load",function(){t()}):t()},n.addDOMContentLoadedEventListener=function(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){t()}):t()},n.createMutationObserver=function(t){var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;return n?new n(function(n){n.forEach(function(n){t(n)})}):null}},18:function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},184:function(t,n,r){var e=r(9);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&e(i.call(t)),n}}},185:function(t,n,r){var e=r(14),o=r(3)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},186:function(t,n,r){var e=r(3)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},19:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isYahooRedirectUrl=n.patchCouponStatsAPI=n.getTrendingCouponsAPI=n.getCouponReportIssuePage=n.getCouponCodesNotWorkPage=n.isSBHomePage=n.getHtmlParseServiceUrl=n.getCouponsByMerchantAPI=n.getDealsAPI=n.getEventTrackingAPI=n.getSettingsAPI=n.getMerchantsAPI=n.getRefreshTokenAPI=n.getAccountAPI=n.getTaobaoGuidePage=n.getLinkTaoBaoToActivatePage=n.getLoginToActivatePage=n.getFAQPage=n.getReferPage=n.getOverviewPage=n.getWithdrawPage=n.getLogoutPage=n.getLoginPage=n.getHomePage=n.getTaobaoActivatePage=n.getActivatePage=n.getUrlDomain=n.getHelpCenterFromCC=n.getExtensionStoreFromCC=n.getDomainFromCC=n.getCCFromDomain=n.listWebsiteLoginAPIPatterns=n.getHost=n.isSBPage=n.isLoginPage=n.isProductRedirectPage=n.isMerchantRedirectPage=n.isRedirectPage=void 0;var e=r(0),o=r(52);n.default=o;n.isRedirectPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY,n=arguments[1];return n.includes(o.SB_WEBSITE_XX[t]+"/redirect/alink")||n.includes(o.SB_WEBSITE_XX[t]+"/product/redirect/plink")},n.isMerchantRedirectPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return arguments[1].includes(o.SB_WEBSITE_XX[t]+"/redirect/alink")},n.isProductRedirectPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY,n=arguments[1];return n.includes(o.SB_WEBSITE_XX[t]+"/product/redirect/plink")||new URL(n).searchParams.get("storeId")},n.isLoginPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return arguments[1].includes(o.SB_WEBSITE_XX[t]+"/login")},n.isSBPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return arguments[1].includes(""+o.SB_WEBSITE_XX[t])};var i=n.getHost=function(t){return"https://"+((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{api:!0}).api?o.API_HOST_XX:o.SB_WEBSITE_XX)[function(t){return o.API_HOST_XX[t]?t:e.DEFAULT_COUNTRY}(t)]},u=(n.listWebsiteLoginAPIPatterns=function(){return Object.keys(o.SB_WEBSITE_XX).reduce(function(t,n){return t.push("*://"+o.SB_WEBSITE_XX[n]+"/account/login","*://"+o.SB_WEBSITE_XX[n]+"/account/authenticateWithFacebook")&&t},[])},n.getCCFromDomain=function(t){var n=t.split(".");return n[n.length-1].toUpperCase()},n.getDomainFromCC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return o.SB_WEBSITE_XX[t]},n.getExtensionStoreFromCC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return e.IS_FIREFOX?o.EXTENSION_STORES.FIREFOX:o.EXTENSION_STORES[t]},n.getHelpCenterFromCC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return o.HELP_CENTER[t]},n.getUrlDomain=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(?:https?:\/\/)?(?:\w+:\/)?[^:?#/\s]*?([^.\s]+\.(?:[a-z]{2,}|co\.uk|org\.uk|ac\.uk|org\.au|com\.au))(?:[:?#/]|$)/gi.exec(t)},n.getActivatePage=function(t,n){var r=new URL(t);return r.searchParams.has("utm_medium")&&"be"!==r.searchParams.get("utm_medium")||r.searchParams.set("utm_medium",n),r.href}),c=n.getTaobaoActivatePage=function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.UTM_BE_TAOBAO_SEARCH,i=encodeURIComponent(r),u=new URL(t);return u.searchParams.set("storeId",n),u.searchParams.set("search",i),u.searchParams.set("utm_medium",o),u.toString()},a=n.getHomePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return""+i(t,{api:!1})};n.getLoginPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t,{api:!1})+"/login"},n.getLogoutPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t,{api:!1})+"/logout"},n.getWithdrawPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t,{api:!1})+"/payment"},n.getOverviewPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t,{api:!1})+"/cashback"},n.getReferPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t,{api:!1})+"/referral/invite"},n.getFAQPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t,{api:!1})+"/cashback-button/how-it-works"},n.getLoginToActivatePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY,n=arguments[1],r=arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(n&&r){var a=new URL(u(n,r)),s=""+a.pathname+a.search;o&&c&&(s+="&from_taobao");var f=encodeURIComponent(s);return i(t,{api:!1})+"/login?redirect="+f}return i(t,{api:!1})+"/login"},n.getLinkTaoBaoToActivatePage=function(t,n,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=e&&o?c(n,e,o,r):u(n,r),s=new URL(a),f=""+s.pathname+s.search,p=encodeURIComponent(f);return i(t,{api:!1})+"/taobao/link?redirect="+p},n.getTaobaoGuidePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t,{api:!1})+"/taobao#guide"},n.getAccountAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t)+"/api/v2/accounts/me"},n.getRefreshTokenAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t)+"/members/me/refresh-jwt-token"},n.getMerchantsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?new URL(i(t)+"/api/v2/stores"):new URL(i(t)+"/api/stores");return n.confirmation&&r.push("confirmation-urls"),n.disableReason&&r.push("cashback-disable-reasons"),n.metaInfo?r.push("store-meta-info"):n.top&&o.searchParams.set("top","true"),r.length>0&&o.searchParams.set("metadata",r.join(",")),o.toString()},n.getSettingsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t)+"/api/settings"},n.getEventTrackingAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY,n=arguments[1];return n===e.EVENT_EXT_INSTALLED?i(t)+"/api/events/ext-installed":n===e.EVENT_EXT_PAGE_VISITED?i(t)+"/api/events/ext-page-visited":n===e.EVENT_EXT_NOTIFIER_PROMPT?i(t)+"/api/events/ext-notifier-prompt":n===e.EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT?i(t)+"/api/events/ext-notifier-activated":n===e.EVENT_EXT_SEARCH?i(t)+"/api/events/ext-search":n===e.EVENT_EXT_CLICK?i(t)+"/api/events/ext-click":n===e.EVENT_EXT_REDIRECT?i(t)+"/api/events/ext-redirect":n===e.EVENT_EXT_LOGIN?i(t)+"/api/events/ext-login":n===e.EVENT_EXT_MENU_OPEN?i(t)+"/api/events/ext-menu-open":n===e.EVENT_EXT_UPDATED?i(t)+"/api/events/ext-updated":n===e.EVENT_EXT_SERP_VISITED?i(t)+"/api/events/ext-serp-view":n===e.EVENT_EXT_SERP_CLICKED?i(t)+"/api/events/ext-serp-click":n===e.EVENT_EXT_APPLY_COUPON_CODE?i(t)+"/api/events/ext-apply-coupon-code":n===e.EVENT_EXT_ERROR_OCCURED?i(t)+"/api/events/ext-error":n===e.EVENT_EXT_MANUAL_APPLY_COUPON_CODE?i(t)+"/api/events/ext-success-code":""},n.getDealsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY,n=arguments[1];return isNaN(parseInt(n,10))?i(t)+"/deals?top=true":i(t)+"/deals?store_id="+n},n.getCouponsByMerchantAPI=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DEFAULT_COUNTRY;return i(n)+"/api/v2/coupons/merchant/"+t},n.getHtmlParseServiceUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t)+"/api/parsers/html"},n.isSBHomePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY,n=arguments[1],r=new URL(n),o=new URL(a(t));return r.href===o.href},n.getCouponCodesNotWorkPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return o.SB_HELP_CENTER_COUPON_CODES_NOT_WORK_XX[t]},n.getCouponReportIssuePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return o.SB_COUPONS_REPORT_ISSUE_XX[t]},n.getTrendingCouponsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY;return i(t)+"/api/v1/coupons/trending-codes"},n.patchCouponStatsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_COUNTRY,n=arguments[1];return i(t)+"/api/v1/coupons/"+n},n.isYahooRedirectUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!t&&/r\.search\.yahoo\.com/.test(t)}},197:function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(256),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return(0,i.default)(t)}},2:function(t,n){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},21:function(t,n,r){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},22:function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},23:function(t,n){t.exports=!0},24:function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(97),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==(void 0===n?"undefined":(0,i.default)(n))&&"function"!=typeof n?t:n}},25:function(t,n,r){"use strict";n.__esModule=!0;var e=u(r(138)),o=u(r(142)),i=u(r(97));function u(t){return t&&t.__esModule?t:{default:t}}n.default=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":(0,i.default)(n)));t.prototype=(0,o.default)(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(e.default?(0,e.default)(t,n):t.__proto__=n)}},256:function(t,n,r){t.exports={default:r(257),__esModule:!0}},257:function(t,n,r){r(28),r(258),t.exports=r(2).Array.from},258:function(t,n,r){"use strict";var e=r(46),o=r(13),i=r(37),u=r(184),c=r(185),a=r(66),s=r(259),f=r(67);o(o.S+o.F*!r(186)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,o,p,_=i(t),l="function"==typeof this?this:Array,v=arguments.length,E=v>1?arguments[1]:void 0,h=void 0!==E,T=0,d=f(_);if(h&&(E=e(E,v>2?arguments[2]:void 0,2)),void 0==d||l==Array&&c(d))for(r=new l(n=a(_.length));n>T;T++)s(r,T,h?E(_[T],T):_[T]);else for(p=d.call(_),r=new l;!(o=p.next()).done;T++)s(r,T,h?u(p,E,[o.value,T],!0):o.value);return r.length=T,r}})},259:function(t,n,r){"use strict";var e=r(8),o=r(22);t.exports=function(t,n,r){n in t?e.f(t,n,o(0,r)):t[n]=r}},26:function(t,n,r){var e=r(60),o=r(42);t.exports=Object.keys||function(t){return e(t,o)}},27:function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},28:function(t,n,r){"use strict";var e=r(88)(!0);r(54)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},29:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getActivatedMerchantInfo=n._=n.l=n.v=n.isActivateFromPartnership=n.isActivated=n.getActivatedTimeByMerchant=n.findByExt=void 0;var e=r(17),o=function(t){return t.activation.byExt},i=function(t,n){return n.merchant},u=n.findByExt=function(t,n){return t.activation.byExt[n.merchantId]},c=(n.getActivatedTimeByMerchant=(0,e.createSelector)([i,o],function(t,n){return n[t.id]?n[t.id].activatedAt:null}),n.isActivated=(0,e.createSelector)([i,o],function(t,n){return!!t&&!(!n[t.id]||!n[t.id].activated)})),a=(n.isActivateFromPartnership=(0,e.createSelector)([i,o],function(t,n){return!!t&&!(!n[t.id]||void 0===n[t.id].partnershipId)}),n.v=(0,e.createSelector)([i,o],function(t,n){if(!t)return!1;var r=n[t.id];return!!(r&&r.disabled&&r.focusing)})),s=n.l=(0,e.createSelector)([i,o],function(t,n){return!!t&&!(!n[t.id]||!n[t.id].disabled)});n._=(0,e.createSelector)([s,a],function(t,n){return t&&!n}),n.getActivatedMerchantInfo=(0,e.createSelector)([c,i,function(t){return t}],function(t,n,r){if(t)return u(r,{merchantId:n.id})})},3:function(t,n,r){var e=r(41)("wks"),o=r(27),i=r(4).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},31:function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(74),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),(0,i.default)(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}()},32:function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},33:function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},34:function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},35:function(t,n,r){var e=r(41)("keys"),o=r(27);t.exports=function(t){return e[t]||(e[t]=o(t))}},36:function(t,n){n.f={}.propertyIsEnumerable},37:function(t,n,r){var e=r(33);t.exports=function(t){return Object(e(t))}},38:function(t,n,r){"use strict";n.__esModule=!0;var e=i(r(78)),o=i(r(90));function i(t){return t&&t.__esModule?t:{default:t}}n.default=function(){return function(t,n){if(Array.isArray(t))return t;if((0,e.default)(Object(t)))return function(t,n){var r=[],e=!0,i=!1,u=void 0;try{for(var c,a=(0,o.default)(t);!(e=(c=a.next()).done)&&(r.push(c.value),!n||r.length!==n);e=!0);}catch(t){i=!0,u=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw u}}return r}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},39:function(t,n,r){r(80);for(var e=r(4),o=r(12),i=r(14),u=r(3)("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<c.length;a++){var s=c[a],f=e[s],p=f&&f.prototype;p&&!p[u]&&o(p,u,s),i[s]=i.Array}},4:function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},40:function(t,n,r){var e=r(8).f,o=r(10),i=r(3)("toStringTag");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},41:function(t,n,r){var e=r(2),o=r(4),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,n){return i[t]||(i[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(23)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},42:function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},43:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getMerchantByAffiliateId=n.shouldFetchMerchants=n.getMerchantMetaHash=n.getMerchantOfSerpMap=n.merchantHasCashback=n.getStandDownNotifierTimerId=n.isReloadNecessaryMerchant=n.transformWithPartnership=n.mapReason=n.h=n.findPartnershipMerchant=n.findMerchant=n.matchConfirmPage=n.isInConfirmPage=n.matchMerchant=n.findTaobaoRelatedMerchant=void 0;var e=s(r(5)),o=s(r(38)),i=r(17),u=r(0),c=r(29),a=r(19);function s(t){return t&&t.__esModule?t:{default:t}}var f=function(t){return t.merchants.all},p=function(t,n){return n.url},_=function(t,n){return n.id};n.findTaobaoRelatedMerchant=(0,i.createSelector)([f],function(t){return t.filter(function(t){return t.isTaobao})});var l=n.matchMerchant=(0,i.createSelector)([f,p,function(t,n){return(0,a.getUrlDomain)(n.url)}],function(t,n,r){if(r){var e=(0,o.default)(r,2),i=e[0],u=e[1],c=t.filter(function(t){return t.rx=t.url_pattern?new RegExp(t.url_pattern):null,(i.indexOf(t.url_domain)>=0||u.indexOf(t.url_domain)>=0)&&t.rx&&t.rx.test(n)});if(c.length)return a=c,s=(0,o.default)(a,1)[0],a.forEach(function(t){t.rx>s.rx&&(s=t)}),s}var a,s;return null}),v=n.isInConfirmPage=(0,i.createSelector)([function(t,n){return n.merchant},p],function(t,n){return!!t&&(t.metadata.confirmation_urls.length>0&&t.metadata.confirmation_urls.some(function(t){return new RegExp(t).test(n)}))}),E=(n.matchConfirmPage=(0,i.createSelector)([f,p],function(t,n){return t.find(function(t){return v({},{merchant:t,url:n})})}),n.findMerchant=(0,i.createSelector)([f,_],function(t,n){return t.find(function(t){return t.id===n})})),h=(n.findPartnershipMerchant=(0,i.createSelector)([f,_],function(t,n){return t.find(function(t){var r=Object.keys(t.partnership_stores);return r.length>0&&r.indexOf(""+n)>-1})}),n.h=(0,i.createSelector)([function(t){return t},function(t,n){return n.referrer},function(t,n){return n.merchant}],function(t,n,r){var e=l(t,{url:n});return r.metadata.check_referrer&&!(0,a.isSBPage)(t.cc,n)&&!(e&&e.id===r.id)}),n.mapReason=(0,i.createSelector)([function(t){return t.settings.cashbackDisableReasons},function(t,n){return n.merchant}],function(t,n){return n?t[n.metadata.cashback_disable_reasons]||t[u.DEFAULT_DISABLE_REASON]:null}),n.transformWithPartnership=(0,i.createSelector)([function(t){return t},function(t,n){return n.merchant},c.isActivateFromPartnership,function(t,n){return n.activated},function(t,n){return n.disabled}],function(t,n,r,o,i){if(!n||!r)return n;if(o||i){var u=(0,c.findByExt)(t,{merchantId:n.id}),a=(0,e.default)({},n),s=n.partnership_stores[u.partnershipId];return a.activation_url=s.activation_url,a.cashback_amount=s.cashback_amount,a.cashbackHeader=s.cashbackHeader,a.reActivateX=s.reActivateX,a}return n}),n.isReloadNecessaryMerchant=(0,i.createSelector)([function(t,n){return n.merchant}],function(t){return t&&t.metadata.reload_tabs}),n.getStandDownNotifierTimerId=(0,i.createSelector)([E],function(t){return t&&t.standDownTimerId}),n.merchantHasCashback=(0,i.createSelector)([E],function(t){return!(!t||!t.cashback)&&!!parseFloat(t.cashback.amount)}));n.getMerchantOfSerpMap=(0,i.createSelector)([function(t,n){return n.links.filter(function(t){return!t.getAttribute("shopback-serp")})},function(t){return t}],function(t,n){var r=[];return t.forEach(function(t){var e=t.getAttribute("href");if((0,a.isYahooRedirectUrl)(e)){var o=new URL(e).pathname.split("/").find(function(t){return t.startsWith("RU=")});o&&(e=decodeURIComponent(o.split("=").pop()))}var i=l(n,{url:e});i&&!1!==i.isSerpEnabled&&h(n,{id:i.id})&&r.push({link:t,merchant:i})}),r}),n.getMerchantMetaHash=(0,i.createSelector)([f],function(t){var n={};return t.forEach(function(t){n[t.id]={logoUrl:t.logo_url,activationUrl:t.activation_url,hasCashBack:!!t.cashback&&!!parseFloat(t.cashback.amount)}}),n}),n.shouldFetchMerchants=(0,i.createSelector)([function(t){return t.merchants},function(t,n){return n.now}],function(t,n){if(!t)return!0;var r=t.fetchedAt;return"number"!=typeof r||n-r>u.REFETCH_MERCHANT_INTERVAL_MS}),n.getMerchantByAffiliateId=(0,i.createSelector)([f,function(t,n){return n.affiliateId}],function(t,n){return t.find(function(t){return t.affiliated_id===n})})},46:function(t,n,r){var e=r(65);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},47:function(t,n,r){var e=r(15);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},48:function(t,n,r){var e=r(9),o=r(84),i=r(42),u=r(35)("IE_PROTO"),c=function(){},a=function(){var t,n=r(50)("iframe"),e=i.length;for(n.style.display="none",r(73).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a.prototype[i[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c.prototype=e(t),r=new c,c.prototype=null,r[u]=t):r=a(),void 0===n?r:o(r,n)}},49:function(t,n){n.f=Object.getOwnPropertySymbols},5:function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(93),i=(e=o)&&e.__esModule?e:{default:e};n.default=i.default||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}},50:function(t,n,r){var e=r(15),o=r(4).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},51:function(t,n,r){var e=r(32),o=r(3)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:i?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},52:function(t,n){t.exports={URL_AFTER_INSTALL:"https://www.shopback.com/cashback-button/success",URL_AFTER_UNINSTALL:"https://www.shopback.com/uninstall",URL_COUNTRY_CODE:"https://api.shopback.com/location/countrycode",API_HOST_XX:{COM:"api.shopback.com",SG:"api.shopback.sg",MY:"api.shopback.my",PH:"api.shopback.ph",ID:"api.shopback.co.id",IN:"api.shopback.in",TW:"api.shopback.com.tw",AU:"api.shopback.com.au",TH:"api.myshopback.co.th"},SB_WEBSITE_XX:{COM:"www.shopback.com",SG:"www.shopback.sg",MY:"www.shopback.my",PH:"www.shopback.ph",ID:"www.shopback.co.id",IN:"www.shopback.in",TW:"www.shopback.com.tw",AU:"www.shopback.com.au",TH:"www.shopback.co.th"},EXTENSION_STORES:{COM:"https://chrome.google.com/webstore/detail/shopback-cashback-button/clomojagppekiladdknhnpjoihabjmnm",SG:"https://chrome.google.com/webstore/detail/shopback-cashback-button/hjngckebbndpdeeakdgohmcdnecidcjk",MY:"https://chrome.google.com/webstore/detail/shopback-cashback-button/fgobhpdfgjoognbahjpeabmlheajfpik",PH:"https://chrome.google.com/webstore/detail/shopback-cashback-button/ngeinbnbakgkpcmokhonplkllgbnohoo",ID:"https://chrome.google.com/webstore/detail/shopback-cashback-button/ambfhpcdfdlobjbckfbajgdoohfhaahn",TW:"https://chrome.google.com/webstore/detail/shopback-%E7%8F%BE%E9%87%91%E5%9B%9E%E9%A5%8B%E5%B0%8F%E5%B9%AB%E6%89%8B/djjjmdgomejlopjnccoejdhgjmiappap",AU:"https://chrome.google.com/webstore/detail/shopback-cashback-button/dlkceoecbkpgngncmlcbmcnedjkpihni",TH:"https://chrome.google.com/webstore/detail/shopback-cashback-button/ccbgpokbhaoahpebadnnjeoamielibki",FIREFOX:"https://addons.mozilla.org/en-US/firefox/addon/shopback-cashback-button"},HELP_CENTER:{COM:"https://shopback.zendesk.com/hc/en-us/articles/215540757",SG:"https://support.shopback.sg/hc/en-us/articles/115010365348",MY:"https://support.shopback.my/hc/en-us/articles/115010204007",PH:"https://support.shopback.ph/hc/en-us/articles/115010204547",ID:"https://support.shopback.co.id/hc/en-us/articles/115010369648",TW:"https://support.shopback.com.tw/hc/zh-tw/articles/360013698513",AU:"https://support.shopback.com.au/hc/en-us/articles/360001888848",TH:"https://support.shopback.co.th/hc/th/articles/360013913233"},SB_HELP_CENTER_COUPON_CODES_NOT_WORK_XX:{COM:"https://support.shopback.sg/hc/en-us/articles/360025371214",SG:"https://support.shopback.sg/hc/en-us/articles/360025371214",MY:"https://support.shopback.sg/hc/en-us/articles/360025371214",PH:"https://support.shopback.sg/hc/en-us/articles/360025371214",ID:"https://support.shopback.sg/hc/en-us/articles/360025371214",IN:"https://support.shopback.sg/hc/en-us/articles/360025371214",TW:"https://support.shopback.sg/hc/en-us/articles/360025371214",AU:"https://support.shopback.sg/hc/en-us/articles/360025371214",TH:"https://support.shopback.sg/hc/en-us/articles/360025371214"},SB_COUPONS_REPORT_ISSUE_XX:{COM:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",SG:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",MY:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",PH:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",ID:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",IN:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",TW:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",AU:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",TH:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform"},ACTIVATED_EXPIRED_MS:36e5,ACTIVATED_EXPIRED_MS_FOR_TAOBAO:864e5,PERMISSION_NOTIFIER_TTL:36e5,SENTRY_DSN:"https://5740ea62fe804eeaa16f0b7c55d9f521@sentry.io/1189626",SENTRY_SAMPLE_RATE:.2}},53:function(t,n,r){var e=r(32);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},54:function(t,n,r){"use strict";var e=r(23),o=r(13),i=r(59),u=r(12),c=r(14),a=r(83),s=r(40),f=r(87),p=r(3)("iterator"),_=!([].keys&&"next"in[].keys()),l=function(){return this};t.exports=function(t,n,r,v,E,h,T){a(r,n,v);var d,O,b,m=function(t){if(!_&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},S=n+" Iterator",A="values"==E,y=!1,C=t.prototype,R=C[p]||C["@@iterator"]||E&&C[E],I=R||m(E),N=E?A?m("entries"):I:void 0,g="Array"==n&&C.entries||R;if(g&&(b=f(g.call(new t)))!==Object.prototype&&b.next&&(s(b,S,!0),e||"function"==typeof b[p]||u(b,p,l)),A&&R&&"values"!==R.name&&(y=!0,I=function(){return R.call(this)}),e&&!T||!_&&!y&&C[p]||u(C,p,I),c[n]=I,c[S]=l,E)if(d={values:A?I:m("values"),keys:h?I:m("keys"),entries:N},T)for(O in d)O in C||i(C,O,d[O]);else o(o.P+o.F*(_||y),n,d);return d}},58:function(t,n,r){t.exports=!r(6)&&!r(18)(function(){return 7!=Object.defineProperty(r(50)("div"),"a",{get:function(){return 7}}).a})},59:function(t,n,r){t.exports=r(12)},6:function(t,n,r){t.exports=!r(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},60:function(t,n,r){var e=r(10),o=r(16),i=r(85)(!1),u=r(35)("IE_PROTO");t.exports=function(t,n){var r,c=o(t),a=0,s=[];for(r in c)r!=u&&e(c,r)&&s.push(r);for(;n.length>a;)e(c,r=n[a++])&&(~i(s,r)||s.push(r));return s}},61:function(t,n,r){n.f=r(3)},62:function(t,n,r){var e=r(4),o=r(2),i=r(23),u=r(61),c=r(8).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},64:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.logger=void 0;var e,o=r(1),i=(e=o)&&e.__esModule?e:{default:e},u=r(110),c=r(0);var a=n.logger={info:function(t,n){if((0,u.isLoggerEnabled)(t.getState())){var r={message:n,timeStamp:(0,i.default)().format(i.default.HTML5_FMT.DATETIME_LOCAL_MS)};console.groupCollapsed(n,r.timeStamp),console.trace(),console.info(r),console.groupEnd()}},warn:function(t,n){if((0,u.isLoggerEnabled)(t.getState())){var r={message:n,timeStamp:(0,i.default)().format(i.default.HTML5_FMT.DATETIME_LOCAL_MS)};c.IS_FIREFOX?(console.groupCollapsed(n,r.timeStamp),console.trace(),console.warn(r),console.groupEnd()):console.warn(r)}},error:function(t,n){if((0,u.isLoggerEnabled)(t.getState())){var r={message:n,timeStamp:(0,i.default)().format(i.default.HTML5_FMT.DATETIME_LOCAL_MS)};console.error(r)}}};n.default=a},65:function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},66:function(t,n,r){var e=r(34),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},67:function(t,n,r){var e=r(51),o=r(3)("iterator"),i=r(14);t.exports=r(2).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[e(t)]}},69:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.uiTrackExtManualSuccessfulCode=n.trackExtManualSuccessfulCode=n.uiTrackExtErrorOccured=n.trackExtErrorOccured=n.uiTrackExtApplyCouponCode=n.trackExtApplyCouponCode=n.uiTrackExtSerpClicked=n.trackExtSerpClicked=n.uiTrackExtSerpVisited=n.trackExtSerpVisited=n.uiTrackExtMenuOpen=n.trackExtMenuOpen=n.uiTrackExtSwitchLogin=n.trackExtSwitchLogin=n.uiTrackExtRedirect=n.trackExtRedirect=n.uiTrackExtClick=n.trackExtClick=n.uiTrackExtSearch=n.trackExtSearch=n.uiTrackExtNotifierActivatedPrompt=n.trackExtNotifierActivatedPrompt=n.uiTrackExtNotifierPrompt=n.trackExtNotifierPrompt=n.uiTrackExtPageVisited=n.trackExtPageVisited=n.trackExtLogin=n.trackExtUpdated=n.trackExtInstalled=void 0;var e=u(r(105)),o=u(r(5)),i=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function u(t){return t&&t.__esModule?t:{default:t}}n.trackExtInstalled=function(){return{type:i.EVENT_EXT_INSTALLED,payload:{message:"cute whale born"}}},n.trackExtUpdated=function(){return{type:i.EVENT_EXT_UPDATED,payload:{message:"little whale grow"}}},n.trackExtLogin=function(t,n,r,e){return{type:i.EVENT_EXT_LOGIN,payload:{location:t,countrySelected:n,status:r,url:e}}},n.trackExtPageVisited=function(t){return{type:i.EVENT_EXT_PAGE_VISITED,payload:(0,o.default)({},t)}},n.uiTrackExtPageVisited=function(t,n,r){return{type:i.EVENT_EXT_PAGE_VISITED,url:n,storeId:t,referrerUrl:r}};n.trackExtNotifierPrompt=function(t){var n=t.propertyType,r=(0,e.default)(t,["propertyType"]);return{type:i.EVENT_EXT_NOTIFIER_PROMPT,payload:(0,o.default)({},r,{type:n})}};n.uiTrackExtNotifierPrompt=function(t,n,r){return{type:i.EVENT_EXT_NOTIFIER_PROMPT,propertyType:t,storeId:n,url:r}},n.trackExtNotifierActivatedPrompt=function(t){return{type:i.EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT,payload:(0,o.default)({},t)}},n.uiTrackExtNotifierActivatedPrompt=function(t,n){return{type:i.EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT,storeId:t,url:n}},n.trackExtSearch=function(t){return{type:i.EVENT_EXT_SEARCH,payload:(0,o.default)({},t)}},n.uiTrackExtSearch=function(t,n,r,e){return{type:i.EVENT_EXT_SEARCH,storeId:r,url:e,location:t,searchTerm:n}},n.trackExtClick=function(t){return{type:i.EVENT_EXT_CLICK,payload:(0,o.default)({},t)}},n.uiTrackExtClick=function(t,n,r,e,u,c,a,s,f){var p={type:i.EVENT_EXT_CLICK,componentName:t,objectName:n,objectPosition:r,objectType:e,objectId:u,objectDestinationUrl:c,storeId:a,url:s};return f?(0,o.default)({},p,{applyingId:f}):p},n.trackExtRedirect=function(t){return{type:i.EVENT_EXT_REDIRECT,payload:(0,o.default)({},t)}},n.uiTrackExtRedirect=function(t){return(0,o.default)({type:i.EVENT_EXT_REDIRECT},t)},n.trackExtSwitchLogin=function(t){return{type:i.EVENT_EXT_LOGIN,payload:(0,o.default)({},t)}},n.uiTrackExtSwitchLogin=function(t,n,r,e){return{type:i.EVENT_EXT_LOGIN,location:t,countrySelected:n,status:r,url:e}},n.trackExtMenuOpen=function(t){return{type:i.EVENT_EXT_MENU_OPEN,payload:(0,o.default)({},t)}},n.uiTrackExtMenuOpen=function(t,n){return{type:i.EVENT_EXT_MENU_OPEN,storeId:t,url:n}},n.trackExtSerpVisited=function(t){return{type:i.EVENT_EXT_SERP_VISITED,payload:(0,o.default)({},t)}},n.uiTrackExtSerpVisited=function(t,n,r,e){return{type:i.EVENT_EXT_SERP_VISITED,serpDomain:t,url:n,searchKeyword:r,injectionCount:e}},n.trackExtSerpClicked=function(t){return{type:i.EVENT_EXT_SERP_CLICKED,payload:(0,o.default)({},t)}},n.uiTrackExtSerpClicked=function(t,n,r,e){return{type:i.EVENT_EXT_SERP_CLICKED,serpDomain:t,linkUrl:n,storeId:r,clickTarget:e}};n.trackExtApplyCouponCode=function(t){var n=t.applyType,r=(0,e.default)(t,["applyType"]);return{type:i.EVENT_EXT_APPLY_COUPON_CODE,payload:(0,o.default)({},r,{type:n})}};n.uiTrackExtApplyCouponCode=function(t){return(0,o.default)({type:i.EVENT_EXT_APPLY_COUPON_CODE},t)},n.trackExtErrorOccured=function(t){return{type:i.EVENT_EXT_ERROR_OCCURED,payload:(0,o.default)({},t)}},n.uiTrackExtErrorOccured=function(t,n,r,e,o,u,c){return{type:i.EVENT_EXT_ERROR_OCCURED,applyingId:t,location:n,errorCode:r,errorMessage:e,targetPattern:o,url:u,storeId:c}},n.trackExtManualSuccessfulCode=function(t,n){return{type:i.EVENT_EXT_MANUAL_APPLY_COUPON_CODE,payload:{storeId:t,successfulCode:n}}},n.uiTrackExtManualSuccessfulCode=function(t,n){return{type:i.EVENT_EXT_MANUAL_APPLY_COUPON_CODE,storeId:t,successfulCode:n}}},73:function(t,n,r){var e=r(4).document;t.exports=e&&e.documentElement},74:function(t,n,r){t.exports={default:r(106),__esModule:!0}},78:function(t,n,r){t.exports={default:r(79),__esModule:!0}},79:function(t,n,r){r(39),r(28),t.exports=r(89)},8:function(t,n,r){var e=r(9),o=r(58),i=r(47),u=Object.defineProperty;n.f=r(6)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},80:function(t,n,r){"use strict";var e=r(81),o=r(82),i=r(14),u=r(16);t.exports=r(54)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])},"values"),i.Arguments=i.Array,e("keys"),e("values"),e("entries")},81:function(t,n){t.exports=function(){}},82:function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},83:function(t,n,r){"use strict";var e=r(48),o=r(22),i=r(40),u={};r(12)(u,r(3)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:o(1,r)}),i(t,n+" Iterator")}},831:function(t,n,r){"use strict";var e=_(r(197)),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(7)),i=r(148),u=r(156),c=r(70),a=r(832),s=r(175),f=_(r(64)),p=_(r(833));function _(t){return t&&t.__esModule?t:{default:t}}var l=(0,a.curry)(function(t,n){return n.find(t)}),v=(0,a.curry)(function(t,n){return!!n.rx&&new RegExp(n.rx).test(t)});(0,u.createUIStore)().then(function(t){var n=window.location.href,r=window.location.host,u=t.getState(),_=(0,a.compose)(l,v)(n)(u.settings.serp);if(_&&r.indexOf(_.domain)>=0){f.default.info(t,"match serp domain: "+_.domain);var E=(0,s.createMutationObserver)(function(r){var u=r.target,a=_.pattern;if(u&&a){var s=document.createElement("div"),l=document.querySelector(_.searchInputPattern).value;s.id="shopback-serp-container";var v=u.querySelectorAll(a+":not([shopback-serp])");v.length&&(f.default.info(t,"find undecorated serp links"),document.documentElement.appendChild(s),(0,i.render)(o.createElement(c.Provider,{store:t},o.createElement(p.default,{url:n,serp:_,links:[].concat((0,e.default)(v)),searchKeyword:l,unMount:function(){(0,i.unmountComponentAtNode)(s),document.documentElement.removeChild(s)}})),s),E.disconnect())}});E.observe(document.body,{attributes:!1,childList:!0,subtree:!0,characterData:!1})}})},832:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.curry=n.compose=void 0;var e,o=r(197),i=(e=o)&&e.__esModule?e:{default:e};n.compose=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var e=n.length;return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];for(var u=r,c=e-1;c>=0;c-=1){var a;u=[(a=n[c]).call.apply(a,[null].concat((0,i.default)(u)))]}return u[0]}},n.curry=function(t){var n=t.length;return function r(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return o.length<n?r.bind.apply(r,[null].concat(o)):t.call.apply(t,[null].concat(o))}}},833:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SerpContainer=void 0;var e=T(r(5)),o=T(r(21)),i=T(r(31)),u=T(r(24)),c=T(r(25)),a=T(r(7)),s=r(148),f=T(r(11)),p=r(100),_=r(70),l=r(43),v=r(69),E=r(0),h=T(r(834));function T(t){return t&&t.__esModule?t:{default:t}}var d=n.SerpContainer=function(t){function n(t){(0,o.default)(this,n);var r=(0,u.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.sbSerpClasses=["shopback-serp","shopback-serp-link","shopback-serp-logo","shopback-serp-text"],r.getLinkClickHandler=r.getLinkClickHandler.bind(r),r.trackSerpLinkClick=r.trackSerpLinkClick.bind(r),r}return(0,c.default)(n,t),(0,i.default)(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.url,r=t.serp,e=t.merchantOfSerpMap,o=t.searchKeyword,i=e.length;i?this.props.trackExtSerpVisited(r.domain,n,o,i):this.props.unMount()}},{key:"getLinkClickHandler",value:function(t,n){var r=this,e=t.getAttribute("href");return function(t){r.trackSerpLinkClick(t,e,n.id)}}},{key:"matchClickTarget",value:function(t,n){var r=this.sbSerpClasses.some(function(t){return n.matches("."+t)}),e=E.OTHER_SERP_PATTERN_LIST.some(function(r){var e=t.querySelector(r);return!!e&&(n.isEqualNode(e)||e.contains(n))}),o="rawLink";return r?o="sbSerp":e&&(o="otherSerp"),o}},{key:"trackSerpLinkClick",value:function(t,n,r){var e=this.props.serp,o=t.currentTarget,i=t.target,u=this.matchClickTarget(o,i);this.props.dispatch((0,v.uiTrackExtSerpClicked)(e.domain,n,r,u))}},{key:"renderSerpLinks",value:function(t){var n=this,r=this.props.serp;t.forEach(function(t){var e=t.merchant,o=t.link,i=document.createElement("div");i.className="shopback-serp",o.setAttribute("shopback-serp","true"),o.onclick=n.getLinkClickHandler(o,e);var u,c,f="google"===r.domain?o.parentElement.parentElement.parentElement:o;c=i,(u=f).insertBefore(c,u.firstChild),(0,s.render)(a.default.createElement(h.default,{merchant:e}),i)})}},{key:"render",value:function(){var t=this.props.merchantOfSerpMap;return t.length&&this.renderSerpLinks(t),null}}]),n}(a.default.Component);d.propTypes={url:f.default.string.isRequired,serp:f.default.object.isRequired,unMount:f.default.func.isRequired,merchantOfSerpMap:f.default.array.isRequired,trackExtSerpVisited:f.default.func.isRequired,searchKeyword:f.default.string.isRequired,dispatch:f.default.func.isRequired},n.default=(0,_.connect)(function(t,n){return{merchantOfSerpMap:(0,l.getMerchantOfSerpMap)(t,{links:n.links})}},function(t){return(0,e.default)({},(0,p.bindActionCreators)({trackExtSerpVisited:v.uiTrackExtSerpVisited},t),{dispatch:t})})(d)},834:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=i(r(7)),o=i(r(11));function i(t){return t&&t.__esModule?t:{default:t}}r(835);var u=function(t){return e.default.createElement("div",{className:"shopback-serp-link"},e.default.createElement("div",{className:"shopback-serp-logo"}),e.default.createElement("div",{className:"shopback-serp-text"},t.merchant.serpCashbackInfo))};u.propTypes={merchant:o.default.object.isRequired},n.default=u},835:function(t,n){},84:function(t,n,r){var e=r(8),o=r(9),i=r(26);t.exports=r(6)?Object.defineProperties:function(t,n){o(t);for(var r,u=i(n),c=u.length,a=0;c>a;)e.f(t,r=u[a++],n[r]);return t}},85:function(t,n,r){var e=r(16),o=r(66),i=r(86);t.exports=function(t){return function(n,r,u){var c,a=e(n),s=o(a.length),f=i(u,s);if(t&&r!=r){for(;s>f;)if((c=a[f++])!=c)return!0}else for(;s>f;f++)if((t||f in a)&&a[f]===r)return t||f||0;return!t&&-1}}},86:function(t,n,r){var e=r(34),o=Math.max,i=Math.min;t.exports=function(t,n){return(t=e(t))<0?o(t+n,0):i(t,n)}},87:function(t,n,r){var e=r(10),o=r(37),i=r(35)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},88:function(t,n,r){var e=r(34),o=r(33);t.exports=function(t){return function(n,r){var i,u,c=String(o(n)),a=e(r),s=c.length;return a<0||a>=s?t?"":void 0:(i=c.charCodeAt(a))<55296||i>56319||a+1===s||(u=c.charCodeAt(a+1))<56320||u>57343?t?c.charAt(a):i:t?c.slice(a,a+2):u-56320+(i-55296<<10)+65536}}},89:function(t,n,r){var e=r(51),o=r(3)("iterator"),i=r(14);t.exports=r(2).isIterable=function(t){var n=Object(t);return void 0!==n[o]||"@@iterator"in n||i.hasOwnProperty(e(n))}},9:function(t,n,r){var e=r(15);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},90:function(t,n,r){t.exports={default:r(91),__esModule:!0}},91:function(t,n,r){r(39),r(28),t.exports=r(92)},92:function(t,n,r){var e=r(9),o=r(67);t.exports=r(2).getIterator=function(t){var n=o(t);if("function"!=typeof n)throw TypeError(t+" is not iterable!");return e(n.call(t))}},93:function(t,n,r){t.exports={default:r(94),__esModule:!0}},94:function(t,n,r){r(95),t.exports=r(2).Object.assign},95:function(t,n,r){var e=r(13);e(e.S+e.F,"Object",{assign:r(96)})},96:function(t,n,r){"use strict";var e=r(6),o=r(26),i=r(49),u=r(36),c=r(37),a=r(53),s=Object.assign;t.exports=!s||r(18)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=s({},t)[r]||Object.keys(s({},n)).join("")!=e})?function(t,n){for(var r=c(t),s=arguments.length,f=1,p=i.f,_=u.f;s>f;)for(var l,v=a(arguments[f++]),E=p?o(v).concat(p(v)):o(v),h=E.length,T=0;h>T;)l=E[T++],e&&!_.call(v,l)||(r[l]=v[l]);return r}:s},97:function(t,n,r){"use strict";n.__esModule=!0;var e=u(r(127)),o=u(r(129)),i="function"==typeof o.default&&"symbol"==typeof e.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}n.default="function"==typeof o.default&&"symbol"===i(e.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},98:function(t,n,r){var e=r(60),o=r(42).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},99:function(t,n,r){var e=r(36),o=r(22),i=r(16),u=r(47),c=r(10),a=r(58),s=Object.getOwnPropertyDescriptor;n.f=r(6)?s:function(t,n){if(t=i(t),n=u(n,!0),a)try{return s(t,n)}catch(t){}if(c(t,n))return o(!e.f.call(t,n),t[n])}}},[831]);