webpackJsonp([3],[function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(52);n.FONT_FAMILY="Roboto, Helvetica, arial, sans-serif",n.ACTIVATE_TAOBAO_PRODUCT_FROM_SB="ACTIVATE_TAOBAO_PRODUCT_FROM_SB",n.FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_SUCCESS="FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_SUCCESS",n.FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_ERROR="FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_ERROR",n.FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS="FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS",n.FETCH_TAOBAO_PRODUCT_DEEP_LINK_ERROR="FETCH_TAOBAO_PRODUCT_DEEP_LINK_ERROR",n.DETECT_STAND_DOWN_AFFILIATE_NETWORK="DETECT_STAND_DOWN_AFFILIATE_NETWORK",n.DETACH_STAND_DOWN_AFFILIATE_NETWORK="DETACH_STAND_DOWN_AFFILIATE_NETWORK",n.CLOSE_ACTIVATED_MERCHANT_NOTIFIER="CLOSE_ACTIVATED_MERCHANT_NOTIFIER",n.DELETE_EXPIRED_ACTIVATED_MERCHANT="DELETE_EXPIRED_ACTIVATED_MERCHANT",n.VISIT_ACTIVATED_MERCHANT_NOTIFIER="VISIT_ACTIVATED_MERCHANT_NOTIFIER",n.GET_EXTENSION_SETTINGS_SUCCEESS="GET_EXTENSION_SETTINGS_SUCCEESS",n.t="ps",n.START_ACTIVATE_TAOBAO_PRODUCT="START_ACTIVATE_TAOBAO_PRODUCT",n.STAND_DOWN_MERCHANT_NOTIFIER="STAND_DOWN_MERCHANT_NOTIFIER",n.FETCH_TOP_MERCHANTS_SUCCESS="FETCH_TOP_MERCHANTS_SUCCESS",n.CLEAR_DIRTY_LOGIN_FROM_MENU="CLEAR_DIRTY_LOGIN_FROM_MENU",n.STAND_UP_MERCHANT_NOTIFIER="STAND_UP_MERCHANT_NOTIFIER",n.FETCH_TAOBAO_PRODUCT_ERROR="FETCH_TAOBAO_PRODUCT_ERROR",n.CAPTURE_MERCHANT_PAGE_HTML="CAPTURE_MERCHANT_PAGE_HTML",n.OPEN_BROWESER_SETTING_PAGE="OPEN_BROWESER_SETTING_PAGE",n.DEACTIVATE_TAOBAO_PRODUCT="DEACTIVATE_TAOBAO_PRODUCT",n.FETCH_TOP_MERCHANTS_ERROR="FETCH_TOP_MERCHANTS_ERROR",n.REFETCH_MERCHANTS_SUCCESS="REFETCH_MERCHANTS_SUCCESS",n.n="ll",n.e="pwd",n.DETECCT_PERMISSION_CHANGE="DETECCT_PERMISSION_CHANGE",n.CLOSE_PERMISSION_NOTIFIER="CLOSE_PERMISSION_NOTIFIER",n.RESET_PERMISSION_NOTIFIER="RESET_PERMISSION_NOTIFIER",n.CLEAN_INVALID_PERMISSION="CLEAN_INVALID_PERMISSION",n.CLOSE_MERCHANT_NOTIFIER="CLOSE_MERCHANT_NOTIFIER",n.FETCH_USER_INFO_SUCCESS="FETCH_USER_INFO_SUCCESS",n.FETCH_MERCHANTS_SUCCESS="FETCH_MERCHANTS_SUCCESS",n.SYNC_USER_FROM_SHOPBACK="SYNC_USER_FROM_SHOPBACK",n.DETECT_SB_REDIRECT_PAGE="DETECT_SB_REDIRECT_PAGE",n.OPEN_TAOBAO_SEARCH_BAR="OPEN_TAOBAO_SEARCH_BAR",n.r="cp",n.FETCH_MERCHANTS_ERROR="FETCH_MERCHANTS_ERROR",n.FETCH_USER_INFO_ERROR="FETCH_USER_INFO_ERROR",n.DIRTY_LOGIN_FROM_MENU="DIRTY_LOGIN_FROM_MENU",n.FETCH_SETTINGS_ERROR="FETCH_SETTINGS_ERROR",n.FETCH_TOP_MERCHANTS="FETCH_TOP_MERCHANTS",n.FETCH_DEALS_SUCCESS="FETCH_DEALS_SUCCESS",n.DEEP_LINK_REDIRECT="DEEP_LINK_REDIRECT",n.ADD_DIRTY_REDIRECT="ADD_DIRTY_REDIRECT",n.FETCH_DEALS_ERROR="FETCH_DEALS_ERROR",n.CLEAN_ACTIVATION="CLEAN_ACTIVATION",n.FETCH_CC_SUCCESS="FETCH_CC_SUCCESS",n.DROP_COOKIE_DONE="DROP_COOKIE_DONE",n.SET_COOKIE_DONE="SET_COOKIE_DONE",n.SET_COOKIE_FAIL="SET_COOKIE_FAIL",n.o="netstat",n.DISABLE_TRACKING="DISABLE_TRACKING",n.ENABLE_TRACKING="ENABLE_TRACKING",n.TOGGLE_TRACKING="TOGGLE_TRACKING",n.FETCH_USER_INFO="FETCH_USER_INFO",n.FETCH_CC_ERROR="FETCH_CC_ERROR",n.START_ACTIVATE="START_ACTIVATE",n.GEN_SB_EXT_ID="GEN_SB_EXT_ID",n.OPEN_POPUP_UI="OPEN_POPUP_UI",n.LOGIN_NOT_OK="LOGIN_NOT_OK",n.FETCH_DEALS="FETCH_DEALS",n.SWITCH_USER="SWITCH_USER",n.DE_ACTIVATE="DE_ACTIVATE",n.u="mv",n.API_ERROR="API_ERROR",n.LOGIN_OK="LOGIN_OK",n.LOGOUT="LOGOUT",n.OPEN_NEW_TAB="OPEN_NEW_TAB",n.CLOSE_TAB="CLOSE_TAB",n.REFRESH_ACCESS_TOKEN_SUCCESS="REFRESH_ACCESS_TOKEN_SUCCESS",n.TOGGLE_LOGGER="TOGGLE_LOGGER",n.EVENT_EXT_CLICK="EVENT_EXT_CLICK",n.EVENT_EXT_LOGIN="EVENT_EXT_LOGIN",n.EVENT_EXT_SEARCH="EVENT_EXT_SEARCH",n.EVENT_EXT_UPDATED="EVENT_EXT_UPDATED",n.EVENT_EXT_REDIRECT="EVENT_EXT_REDIRECT",n.EVENT_EXT_MENU_OPEN="EVENT_EXT_MENU_OPEN",n.EVENT_EXT_INSTALLED="EVENT_EXT_INSTALLED",n.EVENT_EXT_PAGE_VISITED="EVENT_EXT_PAGE_VISITED",n.EVENT_EXT_SERP_VISITED="EVENT_EXT_SERP_VISITED",n.EVENT_EXT_SERP_CLICKED="EVENT_EXT_SERP_CLICKED",n.EVENT_EXT_NOTIFIER_PROMPT="EVENT_EXT_NOTIFIER_PROMPT",n.EVENT_EXT_APPLY_COUPON_CODE="EVENT_EXT_APPLY_COUPON_CODE",n.EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT="EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT",n.EVENT_EXT_ERROR_OCCURED="EVENT_EXT_ERROR_OCCURED",n.EVENT_EXT_MANUAL_APPLY_COUPON_CODE="EVENT_EXT_MANUAL_APPLY_COUPON_CODE",n.DEFAULT_COUNTRY="COM",n.ACTIVATE_FROM_POPUP="ACTIVATE_FROM_POPUP",n.MENU_STORE="Menu Store",n.MENU_ACCOUNT_LOGIN="Menu_Account_Login",n.MENU_ACCOUNT_SWITCH_POPUP="Menu_Account_Country_Switch_Popup",n.POPUP_CUSTOM_LOGOUT_EVENT="LOGOUT",n.POPUP_CUSTOM_LOGIN_EVENT="LOGIN_DIRECTLY",n.POPUP_CUSTOM_LOGIN="NON_LOGIN_USER_TO_LOGIN",n.POPUP_CUSTOM_SEARCH_TAOBAO="CLICK_TO_SEARCH",n.POPUP_CUSTOM_ACTIVATE_EVENT="ACTIVATE_FROM_MENU",n.POPUP_CUSTOM_OPEN_COUNTRY_SELECTOR="OPEN_COUNTRY_SELECTOR",n.POPUP_CUSTOM_CHOOSE_COUNTRY="POPUP_CUSTOM_CHOOSE_COUNTRY",n.POPUP_CUSTOM_CHANGE_TAB_EVENT="TAB_CHANGE",n.POPUP_CUSTOM_GO_WITHDRAW="GO_TO_WITHDRAW",n.POPUP_CUSTOM_GO_OVERVIEW="GO_TO_OVERVIEW",n.POPUP_CUSTOM_GO_REFER="GO_TO_REFER",n.POPUP_CUSTOM_GO_FAQ="GO_TO_FAQ",n.POPUP_CUSTOM_GO_RATE="GO_TO_RATE",n.POPUP_CUSTOM_CANCEL_SWITCH="CANCEL_SWITCH",n.POPUP_CUSTOM_MENU_CAMPAIGN_PROMPT="POPUP_CUSTOM_MENU_CAMPAIGN_PROMPT",n.POPUP_CUSTOM_MENU_CAMPAIGN_CLOSE="POPUP_CUSTOM_MENU_CAMPAIGN_CLOSE",n.POPUP_CUSTOM_MENU_CAMPAIGN_CLICK="POPUP_CUSTOM_MENU_CAMPAIGN_CLICK",n.TIME_TO_CLOSE_ACTIVATED_NOTIFIER=1e4,n.ACTIVATED_EXPIRED_MS=r.ACTIVATED_EXPIRED_MS,n.ACTIVATED_EXPIRED_MS_FOR_TAOBAO=r.ACTIVATED_EXPIRED_MS_FOR_TAOBAO,n.REFETCH_MERCHANT_INTERVAL_MS=3e5,n.REFETCH_SETTING_INTERVAL_MS=18e5,n.STAND_DOWN_MERCHANT_NOTIFIER_TIMER_MS=864e5,n.PERMISSION_NOTIFIER_TTL=r.PERMISSION_NOTIFIER_TTL,n.CASHBACK_STATUS_UNAVAILABLE="unavailable",n.CASHBACK_STATUS_AVAILABLE="available",n.CASHBACK_STATUS_ACTIVATED="activated",n.CASHBACK_STATUS_FETCHING="fetching",n.CASHBACK_STATUS_TAOBAO_API_DOWN="down",n.ACTIVATE_STATE_NOT_ACTIVATED="ACTIVATE_STATE_NOT_ACTIVATED",n.ACTIVATE_STATE_ACTIVATING="ACTIVATE_STATE_ACTIVATING",n.ACTIVATE_STATE_ACTIVATED="ACTIVATE_STATE_ACTIVATED",n.DEFAULT_DISABLE_REASON="2",n.TAOBAO_SET_PRODUCT_FROM_AI_TAOBAO_SEARCH_TO_ACTIVATED="TAOBAO_SET_PRODUCT_FROM_AI_TAOBAO_SEARCH_TO_ACTIVATED",n.TAOBAO_TOGGLE_SEARCH_BOX="TAOBAO_TOGGLE_SEARCH_BOX",n.TAOBAO_OPEN_NOTIFIER="TAOBAO_OPEN_NOTIFIER",n.TAOBAO_CLOSE_NOTIFIER="TAOBAO_CLOSE_NOTIFIER",n.TAOBAO_OPEN_CONFIRMATION_NOTIFIER="TAOBAO_OPEN_CONFIRMATION_NOTIFIER",n.TAOBAO_CLOSE_CONFIRMATION_NOTIFIER="TAOBAO_CLOSE_CONFIRMATION_NOTIFIER",n.TAOBAO_OPEN_API_DOWN_NOTIFIER="TAOBAO_OPEN_API_DOWN_NOTIFIER",n.TAOBAO_CLOSE_API_DOWN_NOTIFIER="TAOBAO_CLOSE_API_DOWN_NOTIFIER",n.TAOBAO_MATERIAL_LIB_TYPE_HAS_CASHBACK=["1","1,2"],n.SHOPBACK_TAOBAO_CART="shopback-taobao-cart",n.GET_TAB_OF_CONTENT_SCRIPT="GET_TAB_OF_CONTENT_SCRIPT",n.SET_ICON_BADGE_TEXT="SET_ICON_BADGE_TEXT",n.COUNTRIES=["au","id","my","ph","sg","th","tw"],n.c=0,n.s=1,n.COUNTRY_LOCALES={au:"en-AU",id:"id",my:"ms-MY",ph:"en",sg:"en-SG",th:"th",tw:"en"},n.COUNTRY_CURRENCY_CODES={au:"AUD",id:"IDR",my:"MYR",ph:"PHP",sg:"SGD",th:"THB",tw:"NTD"},n.TOP_MERCHANT_TAB="topMerchants",n.COUPONS_TAB="coupons",n.MY_ACCOUNT_TAB="myAccount",n.UTM_BE_NOTIFIER_CASHBACK="be_cashback_notifier",n.l="be_disable_notifier",n.UTM_BE_CONFIRM_NOTIFIER="be_confirmation_notifier",n.UTM_BE_MENU_CASHBACK="be_menu_getcashback",n.UTM_BE_MENU_LOGIN_CASHBACK="be_menu_logintogetcashback",n.UTM_BE_MENU_STORE_NONLOGIN="be_menu_store_nonlogin",n.UTM_BE_MENU_STORE="be_menu_store",n.UTM_BE_LOGIN_NOTIFIER="be_login_notifier",n.UTM_BE_TAOBAO_LOGIN_CASHBACK_NOTIFIER="be_taobao_login_cashback_notifier",n.UTM_BE_TAOBAO_SEARCH="be_taobao_searchbar",n.UTM_BE_TAOBAO_CASHBACK_NOTIFIER="be_taobao_cashback_notifier",n.UTM_BE_TAOBAO_LOGIN_SEARCHBAR="be_taobao_login_searchbar",n.HEIGHT_OF_NORMAL_MENU=468,n.HEIGHT_OF_MERCHANT_MENU=537,n.HEIGHT_OF_TAOBAO_MENU=603,n.ACTIVATED_NOTIFIER_NOT_YET_VISITED=0,n.ACTIVATED_NOTIFIER_VISITED=1,n.ACTIVATED_NOTIFIER_CLOSED=2,n.SENTRY_ERROR_LOGGING="SENTRY_ERROR_LOGGING",n.SERP_LIST=[{domain:"yahoo",rx:"search\\.yahoo\\.com\\/",pattern:"h3.title > a",href:"=(http[^/]*)",searchInputPattern:"div#sbq-wrap > #yschsp"},{domain:"bing",rx:"\\.bing\\.com\\/search.*[&?]q=([^&]*)",pattern:'#b_results>.b_algo, #b_results>li, #b_results h2 a, div[class="sb_tlst"] * a',searchInputPattern:"#sb_form_q"},{domain:"google",rx:"^https?:\\/\\/(?:www\\.|encrypted\\.)?google\\.[\\w\\.]{2,6}.*",pattern:"div.rc > .r > a",searchInputPattern:".gLFyf"}],n.OTHER_SERP_PATTERN_LIST=[".ebates-serp","#gym_serp"],n.OPEN_BROWSER_WINDOW="OPEN_BROWSER_WINDOW",n.COUNTRY_BOOKING_IDENTIFIER={au:{aid:"1465791"},id:{aid:"1691096"},my:{aid:"1691091"},ph:{aid:"1244848"},sg:{aid:"1691090"},th:{aid:"1275028"},tw:{aid:"1244849"},com:{aid:"1691090"}},n.ICON_BADGE_BACKGROUND_COLOR="#fbb215",n.COUPON_NOTIFIER_DIV_ID="shopback-coupon-notifier",n.COUPON_APPLIER_DIV_ID="shopback-coupon-applier",n.CASHBACK_NOTIFIER_DIV_ID="shopback-cashback-notifier",n.POPUP_SEARCH_MERCHANT_INPUT_BOX_ID="shopback-popup-search-input-box",n.TAOBAO_NAVIGATOR_DIV_ID="shopback-taobao-navigator",n.IS_FIREFOX=-1===navigator.userAgent.indexOf("Chrome"),n.ACCESS_TOKEN_NAME="sbet",n.SECONDS_OF_ONE_YEAR=31536e3,n.HEADERS={X_SHOPBACK_LAST_CC:"X-SHOPBACK-LAST-CC",X_SHOPBACK_IRONGATE_ENABLED:"X-SHOPBACK-IRONGATE-ENABLED",X_SHOPBACK_DOMAIN:"X-SHOPBACK-DOMAIN",X_SHOPBACK_CLIENT_USER_AGENT:"X-SHOPBACK-CLIENT-USER-AGENT",X_SHOPBACK_ACCESS_TOKEN:"X-SHOPBACK-ACCESS-TOKEN",X_SHOPBACK_REFRESH_TOKEN:"X-SHOPBACK-REFRESH-TOKEN",CONTENT_TYPE:"Content-Type",ACCEPT:"Accept"},n.DEFAULT_EVENT_REASON="For more information, please visit",n.DEFAULT_USER_DATA_POLICY_URL="https://support.shopback.sg/hc/en-us/articles/360039652893",n.EVENT_REASONS_MAP={EVENT_EXT_INSTALLED:"To report ShopBack installs for product analytics. For more information, please visit",EVENT_EXT_PAGE_VISITED:"To look up domain to determine if it is a site ShopBack supports and determine appropriate ShopBack behavior. For more information, please visit",EVENT_EXT_NOTIFIER_PROMPT:"To report first interaction with ShopBack for product analytics. For more information, please visit",EVENT_EXT_REDIRECT:"To report affiliate tagging for product analytics. For more information, please visit",EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT:"To report affiliate activation to verify ShopBack is performing as expected. For more information, please visit",EVENT_EXT_MENU_OPEN:"To report ShopBack manually opened for product analytics. For more information, please visit",EVENT_EXT_CLICK:"To report interactions with ShopBack for product analytics. For more information, please visit",EVENT_EXT_SEARCH:"To report interactions with ShopBack for product analytics. For more information, please visit",EVENT_EXT_ERROR_OCCURED:"To report when ShopBack is not performing as expected. For more information, please visit",EVENT_EXT_LOGIN:"To report interactions with ShopBack for product analytics. For more information, please visit",EVENT_EXT_UPDATED:"To report version update for product analytics. For more information, please visit",EVENT_EXT_APPLY_COUPON_CODE:"To report coupon application status for product analytics. For more information, please visit",EVENT_EXT_MANUAL_APPLY_COUPON_CODE:"To report coupon application status for product analytics. For more information, please visit",EVENT_EXT_SERP_VISITED:"To report interactions with ShopBack for product analytics. For more information, please visit",EVENT_EXT_SERP_CLICKED:"To report interactions with ShopBack for product analytics. For more information, please visit"},n.USER_DATA_POLICY_PAGE_URLS={au:"https://support.shopback.com.au/hc/en-us/articles/360039114834",tw:"https://support.shopback.com.tw/hc/zh-tw/articles/360039187814",id:"https://support.shopback.co.id/hc/id/articles/360039941853",my:"https://support.shopback.my/hc/en-us/articles/360026274913",sg:"https://support.shopback.sg/hc/en-us/articles/360039652893",ph:"https://support.shopback.ph/hc/en-us/articles/115010370828",th:"https://support.shopback.co.th/hc/th/articles/360037977973"}},,function(t,n){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(t,n,e){var r=e(41)("wks"),i=e(27),o=e(4).Symbol,u="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=r},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n,e){"use strict";n.__esModule=!0;var r,i=e(93),o=(r=i)&&r.__esModule?r:{default:r};n.default=o.default||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}},function(t,n,e){t.exports=!e(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},,function(t,n,e){var r=e(9),i=e(58),o=e(47),u=Object.defineProperty;n.f=e(6)?Object.defineProperty:function(t,n,e){if(r(t),n=o(n,!0),r(e),i)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(15);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){t.exports=e(145)()},function(t,n,e){var r=e(8),i=e(22);t.exports=e(6)?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(4),i=e(2),o=e(46),u=e(12),c=e(10),a=function(t,n,e){var s,f,l,p=t&a.F,h=t&a.G,d=t&a.S,v=t&a.P,m=t&a.B,b=t&a.W,_=h?i:i[n]||(i[n]={}),y=_.prototype,E=h?r:d?r[n]:(r[n]||{}).prototype;for(s in h&&(e=n),e)(f=!p&&E&&void 0!==E[s])&&c(_,s)||(l=f?E[s]:e[s],_[s]=h&&"function"!=typeof E[s]?e[s]:m&&f?o(l,r):b&&E[s]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(l):v&&"function"==typeof l?o(Function.call,l):l,v&&((_.virtual||(_.virtual={}))[s]=l,t&a.R&&y&&!y[s]&&u(y,s,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n){t.exports={}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){var r=e(53),i=e(33);t.exports=function(t){return r(i(t))}},,function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isYahooRedirectUrl=n.patchCouponStatsAPI=n.getTrendingCouponsAPI=n.getCouponReportIssuePage=n.getCouponCodesNotWorkPage=n.isSBHomePage=n.getHtmlParseServiceUrl=n.getCouponsByMerchantAPI=n.getDealsAPI=n.getEventTrackingAPI=n.getSettingsAPI=n.getMerchantsAPI=n.getRefreshTokenAPI=n.getAccountAPI=n.getTaobaoGuidePage=n.getLinkTaoBaoToActivatePage=n.getLoginToActivatePage=n.getFAQPage=n.getReferPage=n.getOverviewPage=n.getWithdrawPage=n.getLogoutPage=n.getLoginPage=n.getHomePage=n.getTaobaoActivatePage=n.getActivatePage=n.getUrlDomain=n.getHelpCenterFromCC=n.getExtensionStoreFromCC=n.getDomainFromCC=n.getCCFromDomain=n.listWebsiteLoginAPIPatterns=n.getHost=n.isSBPage=n.isLoginPage=n.isProductRedirectPage=n.isMerchantRedirectPage=n.isRedirectPage=void 0;var r=e(0),i=e(52);n.default=i;n.isRedirectPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY,n=arguments[1];return n.includes(i.SB_WEBSITE_XX[t]+"/redirect/alink")||n.includes(i.SB_WEBSITE_XX[t]+"/product/redirect/plink")},n.isMerchantRedirectPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return arguments[1].includes(i.SB_WEBSITE_XX[t]+"/redirect/alink")},n.isProductRedirectPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY,n=arguments[1];return n.includes(i.SB_WEBSITE_XX[t]+"/product/redirect/plink")||new URL(n).searchParams.get("storeId")},n.isLoginPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return arguments[1].includes(i.SB_WEBSITE_XX[t]+"/login")},n.isSBPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return arguments[1].includes(""+i.SB_WEBSITE_XX[t])};var o=n.getHost=function(t){return"https://"+((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{api:!0}).api?i.API_HOST_XX:i.SB_WEBSITE_XX)[function(t){return i.API_HOST_XX[t]?t:r.DEFAULT_COUNTRY}(t)]},u=(n.listWebsiteLoginAPIPatterns=function(){return Object.keys(i.SB_WEBSITE_XX).reduce(function(t,n){return t.push("*://"+i.SB_WEBSITE_XX[n]+"/account/login","*://"+i.SB_WEBSITE_XX[n]+"/account/authenticateWithFacebook")&&t},[])},n.getCCFromDomain=function(t){var n=t.split(".");return n[n.length-1].toUpperCase()},n.getDomainFromCC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return i.SB_WEBSITE_XX[t]},n.getExtensionStoreFromCC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return r.IS_FIREFOX?i.EXTENSION_STORES.FIREFOX:i.EXTENSION_STORES[t]},n.getHelpCenterFromCC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return i.HELP_CENTER[t]},n.getUrlDomain=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(?:https?:\/\/)?(?:\w+:\/)?[^:?#/\s]*?([^.\s]+\.(?:[a-z]{2,}|co\.uk|org\.uk|ac\.uk|org\.au|com\.au))(?:[:?#/]|$)/gi.exec(t)},n.getActivatePage=function(t,n){var e=new URL(t);return e.searchParams.has("utm_medium")&&"be"!==e.searchParams.get("utm_medium")||e.searchParams.set("utm_medium",n),e.href}),c=n.getTaobaoActivatePage=function(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.UTM_BE_TAOBAO_SEARCH,o=encodeURIComponent(e),u=new URL(t);return u.searchParams.set("storeId",n),u.searchParams.set("search",o),u.searchParams.set("utm_medium",i),u.toString()},a=n.getHomePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return""+o(t,{api:!1})};n.getLoginPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t,{api:!1})+"/login"},n.getLogoutPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t,{api:!1})+"/logout"},n.getWithdrawPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t,{api:!1})+"/payment"},n.getOverviewPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t,{api:!1})+"/cashback"},n.getReferPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t,{api:!1})+"/referral/invite"},n.getFAQPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t,{api:!1})+"/cashback-button/how-it-works"},n.getLoginToActivatePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY,n=arguments[1],e=arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(n&&e){var a=new URL(u(n,e)),s=""+a.pathname+a.search;i&&c&&(s+="&from_taobao");var f=encodeURIComponent(s);return o(t,{api:!1})+"/login?redirect="+f}return o(t,{api:!1})+"/login"},n.getLinkTaoBaoToActivatePage=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=r&&i?c(n,r,i,e):u(n,e),s=new URL(a),f=""+s.pathname+s.search,l=encodeURIComponent(f);return o(t,{api:!1})+"/taobao/link?redirect="+l},n.getTaobaoGuidePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t,{api:!1})+"/taobao#guide"},n.getAccountAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t)+"/api/v2/accounts/me"},n.getRefreshTokenAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t)+"/members/me/refresh-jwt-token"},n.getMerchantsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?new URL(o(t)+"/api/v2/stores"):new URL(o(t)+"/api/stores");return n.confirmation&&e.push("confirmation-urls"),n.disableReason&&e.push("cashback-disable-reasons"),n.metaInfo?e.push("store-meta-info"):n.top&&i.searchParams.set("top","true"),e.length>0&&i.searchParams.set("metadata",e.join(",")),i.toString()},n.getSettingsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t)+"/api/settings"},n.getEventTrackingAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY,n=arguments[1];return n===r.EVENT_EXT_INSTALLED?o(t)+"/api/events/ext-installed":n===r.EVENT_EXT_PAGE_VISITED?o(t)+"/api/events/ext-page-visited":n===r.EVENT_EXT_NOTIFIER_PROMPT?o(t)+"/api/events/ext-notifier-prompt":n===r.EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT?o(t)+"/api/events/ext-notifier-activated":n===r.EVENT_EXT_SEARCH?o(t)+"/api/events/ext-search":n===r.EVENT_EXT_CLICK?o(t)+"/api/events/ext-click":n===r.EVENT_EXT_REDIRECT?o(t)+"/api/events/ext-redirect":n===r.EVENT_EXT_LOGIN?o(t)+"/api/events/ext-login":n===r.EVENT_EXT_MENU_OPEN?o(t)+"/api/events/ext-menu-open":n===r.EVENT_EXT_UPDATED?o(t)+"/api/events/ext-updated":n===r.EVENT_EXT_SERP_VISITED?o(t)+"/api/events/ext-serp-view":n===r.EVENT_EXT_SERP_CLICKED?o(t)+"/api/events/ext-serp-click":n===r.EVENT_EXT_APPLY_COUPON_CODE?o(t)+"/api/events/ext-apply-coupon-code":n===r.EVENT_EXT_ERROR_OCCURED?o(t)+"/api/events/ext-error":n===r.EVENT_EXT_MANUAL_APPLY_COUPON_CODE?o(t)+"/api/events/ext-success-code":""},n.getDealsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY,n=arguments[1];return isNaN(parseInt(n,10))?o(t)+"/deals?top=true":o(t)+"/deals?store_id="+n},n.getCouponsByMerchantAPI=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DEFAULT_COUNTRY;return o(n)+"/api/v2/coupons/merchant/"+t},n.getHtmlParseServiceUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t)+"/api/parsers/html"},n.isSBHomePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY,n=arguments[1],e=new URL(n),i=new URL(a(t));return e.href===i.href},n.getCouponCodesNotWorkPage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return i.SB_HELP_CENTER_COUPON_CODES_NOT_WORK_XX[t]},n.getCouponReportIssuePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return i.SB_COUPONS_REPORT_ISSUE_XX[t]},n.getTrendingCouponsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY;return o(t)+"/api/v1/coupons/trending-codes"},n.patchCouponStatsAPI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_COUNTRY,n=arguments[1];return o(t)+"/api/v1/coupons/"+n},n.isYahooRedirectUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!t&&/r\.search\.yahoo\.com/.test(t)}},,function(t,n,e){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports=!0},function(t,n,e){"use strict";n.__esModule=!0;var r,i=e(97),o=(r=i)&&r.__esModule?r:{default:r};n.default=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==(void 0===n?"undefined":(0,o.default)(n))&&"function"!=typeof n?t:n}},function(t,n,e){"use strict";n.__esModule=!0;var r=u(e(138)),i=u(e(142)),o=u(e(97));function u(t){return t&&t.__esModule?t:{default:t}}n.default=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":(0,o.default)(n)));t.prototype=(0,i.default)(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(r.default?(0,r.default)(t,n):t.__proto__=n)}},function(t,n,e){var r=e(60),i=e(42);t.exports=Object.keys||function(t){return r(t,i)}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n,e){"use strict";var r=e(88)(!0);e(54)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getActivatedMerchantInfo=n.p=n.h=n.d=n.isActivateFromPartnership=n.isActivated=n.getActivatedTimeByMerchant=n.findByExt=void 0;var r=e(17),i=function(t){return t.activation.byExt},o=function(t,n){return n.merchant},u=n.findByExt=function(t,n){return t.activation.byExt[n.merchantId]},c=(n.getActivatedTimeByMerchant=(0,r.createSelector)([o,i],function(t,n){return n[t.id]?n[t.id].activatedAt:null}),n.isActivated=(0,r.createSelector)([o,i],function(t,n){return!!t&&!(!n[t.id]||!n[t.id].activated)})),a=(n.isActivateFromPartnership=(0,r.createSelector)([o,i],function(t,n){return!!t&&!(!n[t.id]||void 0===n[t.id].partnershipId)}),n.d=(0,r.createSelector)([o,i],function(t,n){if(!t)return!1;var e=n[t.id];return!!(e&&e.disabled&&e.focusing)})),s=n.h=(0,r.createSelector)([o,i],function(t,n){return!!t&&!(!n[t.id]||!n[t.id].disabled)});n.p=(0,r.createSelector)([s,a],function(t,n){return t&&!n}),n.getActivatedMerchantInfo=(0,r.createSelector)([c,o,function(t){return t}],function(t,n,e){if(t)return u(e,{merchantId:n.id})})},function(t,n,e){var r=e(169),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,n,e){"use strict";n.__esModule=!0;var r,i=e(74),o=(r=i)&&r.__esModule?r:{default:r};n.default=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}()},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(41)("keys"),i=e(27);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(33);t.exports=function(t){return Object(r(t))}},function(t,n,e){"use strict";n.__esModule=!0;var r=o(e(78)),i=o(e(90));function o(t){return t&&t.__esModule?t:{default:t}}n.default=function(){return function(t,n){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,n){var e=[],r=!0,o=!1,u=void 0;try{for(var c,a=(0,i.default)(t);!(r=(c=a.next()).done)&&(e.push(c.value),!n||e.length!==n);r=!0);}catch(t){o=!0,u=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,n,e){e(80);for(var r=e(4),i=e(12),o=e(14),u=e(3)("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<c.length;a++){var s=c[a],f=r[s],l=f&&f.prototype;l&&!l[u]&&i(l,u,s),o[s]=o.Array}},function(t,n,e){var r=e(8).f,i=e(10),o=e(3)("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,o)&&r(t,o,{configurable:!0,value:n})}},function(t,n,e){var r=e(2),i=e(4),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:e(23)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getMerchantByAffiliateId=n.shouldFetchMerchants=n.getMerchantMetaHash=n.getMerchantOfSerpMap=n.merchantHasCashback=n.getStandDownNotifierTimerId=n.isReloadNecessaryMerchant=n.transformWithPartnership=n.mapReason=n.v=n.findPartnershipMerchant=n.findMerchant=n.matchConfirmPage=n.isInConfirmPage=n.matchMerchant=n.findTaobaoRelatedMerchant=void 0;var r=s(e(5)),i=s(e(38)),o=e(17),u=e(0),c=e(29),a=e(19);function s(t){return t&&t.__esModule?t:{default:t}}var f=function(t){return t.merchants.all},l=function(t,n){return n.url},p=function(t,n){return n.id};n.findTaobaoRelatedMerchant=(0,o.createSelector)([f],function(t){return t.filter(function(t){return t.isTaobao})});var h=n.matchMerchant=(0,o.createSelector)([f,l,function(t,n){return(0,a.getUrlDomain)(n.url)}],function(t,n,e){if(e){var r=(0,i.default)(e,2),o=r[0],u=r[1],c=t.filter(function(t){return t.rx=t.url_pattern?new RegExp(t.url_pattern):null,(o.indexOf(t.url_domain)>=0||u.indexOf(t.url_domain)>=0)&&t.rx&&t.rx.test(n)});if(c.length)return a=c,s=(0,i.default)(a,1)[0],a.forEach(function(t){t.rx>s.rx&&(s=t)}),s}var a,s;return null}),d=n.isInConfirmPage=(0,o.createSelector)([function(t,n){return n.merchant},l],function(t,n){return!!t&&(t.metadata.confirmation_urls.length>0&&t.metadata.confirmation_urls.some(function(t){return new RegExp(t).test(n)}))}),v=(n.matchConfirmPage=(0,o.createSelector)([f,l],function(t,n){return t.find(function(t){return d({},{merchant:t,url:n})})}),n.findMerchant=(0,o.createSelector)([f,p],function(t,n){return t.find(function(t){return t.id===n})})),m=(n.findPartnershipMerchant=(0,o.createSelector)([f,p],function(t,n){return t.find(function(t){var e=Object.keys(t.partnership_stores);return e.length>0&&e.indexOf(""+n)>-1})}),n.v=(0,o.createSelector)([function(t){return t},function(t,n){return n.referrer},function(t,n){return n.merchant}],function(t,n,e){var r=h(t,{url:n});return e.metadata.check_referrer&&!(0,a.isSBPage)(t.cc,n)&&!(r&&r.id===e.id)}),n.mapReason=(0,o.createSelector)([function(t){return t.settings.cashbackDisableReasons},function(t,n){return n.merchant}],function(t,n){return n?t[n.metadata.cashback_disable_reasons]||t[u.DEFAULT_DISABLE_REASON]:null}),n.transformWithPartnership=(0,o.createSelector)([function(t){return t},function(t,n){return n.merchant},c.isActivateFromPartnership,function(t,n){return n.activated},function(t,n){return n.disabled}],function(t,n,e,i,o){if(!n||!e)return n;if(i||o){var u=(0,c.findByExt)(t,{merchantId:n.id}),a=(0,r.default)({},n),s=n.partnership_stores[u.partnershipId];return a.activation_url=s.activation_url,a.cashback_amount=s.cashback_amount,a.cashbackHeader=s.cashbackHeader,a.reActivateX=s.reActivateX,a}return n}),n.isReloadNecessaryMerchant=(0,o.createSelector)([function(t,n){return n.merchant}],function(t){return t&&t.metadata.reload_tabs}),n.getStandDownNotifierTimerId=(0,o.createSelector)([v],function(t){return t&&t.standDownTimerId}),n.merchantHasCashback=(0,o.createSelector)([v],function(t){return!(!t||!t.cashback)&&!!parseFloat(t.cashback.amount)}));n.getMerchantOfSerpMap=(0,o.createSelector)([function(t,n){return n.links.filter(function(t){return!t.getAttribute("shopback-serp")})},function(t){return t}],function(t,n){var e=[];return t.forEach(function(t){var r=t.getAttribute("href");if((0,a.isYahooRedirectUrl)(r)){var i=new URL(r).pathname.split("/").find(function(t){return t.startsWith("RU=")});i&&(r=decodeURIComponent(i.split("=").pop()))}var o=h(n,{url:r});o&&!1!==o.isSerpEnabled&&m(n,{id:o.id})&&e.push({link:t,merchant:o})}),e}),n.getMerchantMetaHash=(0,o.createSelector)([f],function(t){var n={};return t.forEach(function(t){n[t.id]={logoUrl:t.logo_url,activationUrl:t.activation_url,hasCashBack:!!t.cashback&&!!parseFloat(t.cashback.amount)}}),n}),n.shouldFetchMerchants=(0,o.createSelector)([function(t){return t.merchants},function(t,n){return n.now}],function(t,n){if(!t)return!0;var e=t.fetchedAt;return"number"!=typeof e||n-e>u.REFETCH_MERCHANT_INTERVAL_MS}),n.getMerchantByAffiliateId=(0,o.createSelector)([f,function(t,n){return n.affiliateId}],function(t,n){return t.find(function(t){return t.affiliated_id===n})})},function(t,n){var e=Array.isArray;t.exports=e},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.uiDirtyLoginFromMenu=n.dirtyLoginFromMenu=n.clearDirtyLoginFromMenu=n.cleanActivation=n.uiPopupOpen=n.popupOpen=n.uiDeepLinkRedirect=n.deepLinkRedirect=n.apiError=void 0;var r,i=e(5),o=(r=i)&&r.__esModule?r:{default:r},u=e(0);n.apiError=function(t){return{type:u.API_ERROR,payload:t}},n.deepLinkRedirect=function(t){var n=t.merchantId,e=t.productId,r=t.tabId;return{type:u.DEEP_LINK_REDIRECT,payload:{merchantId:n,productId:e,tabId:r}}},n.uiDeepLinkRedirect=function(t){var n=t.merchantId,e=t.productId,r=t.tabId;return{type:u.DEEP_LINK_REDIRECT,merchantId:n,productId:e,tabId:r}},n.popupOpen=function(){return{type:u.OPEN_POPUP_UI}},n.uiPopupOpen=function(){return{type:u.OPEN_POPUP_UI}},n.cleanActivation=function(){return{type:u.CLEAN_ACTIVATION}},n.clearDirtyLoginFromMenu=function(t){return{type:u.CLEAR_DIRTY_LOGIN_FROM_MENU,payload:{from:t}}},n.dirtyLoginFromMenu=function(t){return{type:u.DIRTY_LOGIN_FROM_MENU,payload:(0,o.default)({},t)}},n.uiDirtyLoginFromMenu=function(t){return{type:u.DIRTY_LOGIN_FROM_MENU,from:t}}},function(t,n,e){var r=e(65);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(15);t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(9),i=e(84),o=e(42),u=e(35)("IE_PROTO"),c=function(){},a=function(){var t,n=e(50)("iframe"),r=o.length;for(n.style.display="none",e(73).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[o[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(c.prototype=r(t),e=new c,c.prototype=null,e[u]=t):e=a(),void 0===n?e:i(e,n)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(15),i=e(4).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,e){var r=e(32),i=e(3)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var n,e,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),i))?e:o?r(n):"Object"==(u=r(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n){t.exports={URL_AFTER_INSTALL:"https://www.shopback.com/cashback-button/success",URL_AFTER_UNINSTALL:"https://www.shopback.com/uninstall",URL_COUNTRY_CODE:"https://api.shopback.com/location/countrycode",API_HOST_XX:{COM:"api.shopback.com",SG:"api.shopback.sg",MY:"api.shopback.my",PH:"api.shopback.ph",ID:"api.shopback.co.id",IN:"api.shopback.in",TW:"api.shopback.com.tw",AU:"api.shopback.com.au",TH:"api.myshopback.co.th"},SB_WEBSITE_XX:{COM:"www.shopback.com",SG:"www.shopback.sg",MY:"www.shopback.my",PH:"www.shopback.ph",ID:"www.shopback.co.id",IN:"www.shopback.in",TW:"www.shopback.com.tw",AU:"www.shopback.com.au",TH:"www.shopback.co.th"},EXTENSION_STORES:{COM:"https://chrome.google.com/webstore/detail/shopback-cashback-button/clomojagppekiladdknhnpjoihabjmnm",SG:"https://chrome.google.com/webstore/detail/shopback-cashback-button/hjngckebbndpdeeakdgohmcdnecidcjk",MY:"https://chrome.google.com/webstore/detail/shopback-cashback-button/fgobhpdfgjoognbahjpeabmlheajfpik",PH:"https://chrome.google.com/webstore/detail/shopback-cashback-button/ngeinbnbakgkpcmokhonplkllgbnohoo",ID:"https://chrome.google.com/webstore/detail/shopback-cashback-button/ambfhpcdfdlobjbckfbajgdoohfhaahn",TW:"https://chrome.google.com/webstore/detail/shopback-%E7%8F%BE%E9%87%91%E5%9B%9E%E9%A5%8B%E5%B0%8F%E5%B9%AB%E6%89%8B/djjjmdgomejlopjnccoejdhgjmiappap",AU:"https://chrome.google.com/webstore/detail/shopback-cashback-button/dlkceoecbkpgngncmlcbmcnedjkpihni",TH:"https://chrome.google.com/webstore/detail/shopback-cashback-button/ccbgpokbhaoahpebadnnjeoamielibki",FIREFOX:"https://addons.mozilla.org/en-US/firefox/addon/shopback-cashback-button"},HELP_CENTER:{COM:"https://shopback.zendesk.com/hc/en-us/articles/215540757",SG:"https://support.shopback.sg/hc/en-us/articles/115010365348",MY:"https://support.shopback.my/hc/en-us/articles/115010204007",PH:"https://support.shopback.ph/hc/en-us/articles/115010204547",ID:"https://support.shopback.co.id/hc/en-us/articles/115010369648",TW:"https://support.shopback.com.tw/hc/zh-tw/articles/360013698513",AU:"https://support.shopback.com.au/hc/en-us/articles/360001888848",TH:"https://support.shopback.co.th/hc/th/articles/360013913233"},SB_HELP_CENTER_COUPON_CODES_NOT_WORK_XX:{COM:"https://support.shopback.sg/hc/en-us/articles/360025371214",SG:"https://support.shopback.sg/hc/en-us/articles/360025371214",MY:"https://support.shopback.sg/hc/en-us/articles/360025371214",PH:"https://support.shopback.sg/hc/en-us/articles/360025371214",ID:"https://support.shopback.sg/hc/en-us/articles/360025371214",IN:"https://support.shopback.sg/hc/en-us/articles/360025371214",TW:"https://support.shopback.sg/hc/en-us/articles/360025371214",AU:"https://support.shopback.sg/hc/en-us/articles/360025371214",TH:"https://support.shopback.sg/hc/en-us/articles/360025371214"},SB_COUPONS_REPORT_ISSUE_XX:{COM:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",SG:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",MY:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",PH:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",ID:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",IN:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",TW:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",AU:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform",TH:"https://docs.google.com/forms/d/e/1FAIpQLSfxFrimy14t7QlvhiaAwvhKXSt1RFPdKjtxKDu_HHNlQ-zHtg/viewform"},ACTIVATED_EXPIRED_MS:36e5,ACTIVATED_EXPIRED_MS_FOR_TAOBAO:864e5,PERMISSION_NOTIFIER_TTL:36e5,SENTRY_DSN:"https://5740ea62fe804eeaa16f0b7c55d9f521@sentry.io/1189626",SENTRY_SAMPLE_RATE:.2}},function(t,n,e){var r=e(32);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){"use strict";var r=e(23),i=e(13),o=e(59),u=e(12),c=e(14),a=e(83),s=e(40),f=e(87),l=e(3)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,n,e,d,v,m,b){a(e,n,d);var _,y,E,g=function(t){if(!p&&t in w)return w[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},T=n+" Iterator",A="values"==v,O=!1,w=t.prototype,k=w[l]||w["@@iterator"]||v&&w[v],C=k||g(v),S=v?A?g("entries"):C:void 0,I="Array"==n&&w.entries||k;if(I&&(E=f(I.call(new t)))!==Object.prototype&&E.next&&(s(E,T,!0),r||"function"==typeof E[l]||u(E,l,h)),A&&k&&"values"!==k.name&&(O=!0,C=function(){return k.call(this)}),r&&!b||!p&&!O&&w[l]||u(w,l,C),c[n]=C,c[T]=h,v)if(_={values:A?C:g("values"),keys:m?C:g("keys"),entries:S},b)for(y in _)y in w||o(w,y,_[y]);else i(i.P+i.F*(p||O),n,_);return _}},function(t,n,e){(function(n){var r=e(71),i="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};function o(t){return void 0===t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(t){return"[object String]"===Object.prototype.toString.call(t)}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(){try{return new ErrorEvent(""),!0}catch(t){return!1}}function f(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function l(t,n){var e,r;if(o(t.length))for(e in t)p(t,e)&&n.call(null,e,t[e]);else if(r=t.length)for(e=0;e<r;e++)n.call(null,e,t[e])}function p(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function h(t){for(var n,e=[],r=0,i=t.length;r<i;r++)c(n=t[r])?e.push(n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):n&&n.source&&e.push(n.source);return new RegExp(e.join("|"),"i")}function d(t){var n,e,r,i,o,u=[];if(!t||!t.tagName)return"";if(u.push(t.tagName.toLowerCase()),t.id&&u.push("#"+t.id),(n=t.className)&&c(n))for(e=n.split(/\s+/),o=0;o<e.length;o++)u.push("."+e[o]);var a=["type","name","title","alt"];for(o=0;o<a.length;o++)r=a[o],(i=t.getAttribute(r))&&u.push("["+r+'="'+i+'"]');return u.join("")}function v(t,n){return!!(!!t^!!n)}function m(t,n){if(v(t,n))return!1;var e,r,i=t.frames,o=n.frames;if(i.length!==o.length)return!1;for(var u=0;u<i.length;u++)if(e=i[u],r=o[u],e.filename!==r.filename||e.lineno!==r.lineno||e.colno!==r.colno||e.function!==r.function)return!1;return!0}var b=3,_=51200,y=40;function E(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function g(t){if("string"==typeof t)return t.length<=40?t:t.substr(0,39)+"…";if("number"==typeof t||"boolean"==typeof t||void 0===t)return t;var n=Object.prototype.toString.call(t);return"[object Object]"===n?"[Object]":"[object Array]"===n?"[Array]":"[object Function]"===n?t.name?"[Function: "+t.name+"]":"[Function]":t}t.exports={isObject:function(t){return"object"==typeof t&&null!==t},isError:function(t){switch({}.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},isErrorEvent:function(t){return s()&&"[object ErrorEvent]"==={}.toString.call(t)},isUndefined:o,isFunction:function(t){return"function"==typeof t},isPlainObject:u,isString:c,isArray:a,isEmptyObject:function(t){if(!u(t))return!1;for(var n in t)if(t.hasOwnProperty(n))return!1;return!0},supportsErrorEvent:s,supportsFetch:f,supportsReferrerPolicy:function(){if(!f())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(t){return function(n,e){var r=t(n)||n;return e&&e(r)||r}},each:l,objectMerge:function(t,n){return n?(l(n,function(n,e){t[n]=e}),t):t},truncate:function(t,n){return!n||t.length<=n?t:t.substr(0,n)+"…"},objectFrozen:function(t){return!!Object.isFrozen&&Object.isFrozen(t)},hasKey:p,joinRegExp:h,urlencode:function(t){var n=[];return l(t,function(t,e){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.join("&")},uuid4:function(){var t=i.crypto||i.msCrypto;if(!o(t)&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var e=function(t){for(var n=t.toString(16);n.length<4;)n="0"+n;return n};return e(n[0])+e(n[1])+e(n[2])+e(n[3])+e(n[4])+e(n[5])+e(n[6])+e(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"===t?n:3&n|8).toString(16)})},htmlTreeAsString:function(t){for(var n,e=[],r=0,i=0,o=" > ".length;t&&r++<5&&!("html"===(n=d(t))||r>1&&i+e.length*o+n.length>=80);)e.push(n),i+=n.length,t=t.parentNode;return e.reverse().join(" > ")},htmlElementAsString:d,isSameException:function(t,n){return!v(t,n)&&(t=t.values[0],n=n.values[0],t.type===n.type&&t.value===n.value&&(e=t.stacktrace,r=n.stacktrace,(!o(e)||!o(r))&&m(t.stacktrace,n.stacktrace)));var e,r},isSameStacktrace:m,parseUrl:function(t){if("string"!=typeof t)return{};var n=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),e=n[6]||"",r=n[8]||"";return{protocol:n[2],host:n[4],path:n[5],relative:n[5]+e+r}},fill:function(t,n,e,r){if(null!=t){var i=t[n];t[n]=e(i),t[n].__raven__=!0,t[n].__orig__=i,r&&r.push([t,n,i])}},safeJoin:function(t,n){if(!a(t))return"";for(var e=[],r=0;r<t.length;r++)try{e.push(String(t[r]))}catch(t){e.push("[value cannot be serialized]")}return e.join(n)},serializeException:function t(n,e,i){if(!u(n))return n;i="number"!=typeof(e="number"!=typeof e?b:e)?_:i;var o=function t(n,e){return 0===e?g(n):u(n)?Object.keys(n).reduce(function(r,i){return r[i]=t(n[i],e-1),r},{}):Array.isArray(n)?n.map(function(n){return t(n,e-1)}):g(n)}(n,e);return E(r(o))>i?t(n,e-1):o},serializeKeysForMessage:function(t,n){if("number"==typeof t||"string"==typeof t)return t.toString();if(!Array.isArray(t))return"";if(0===(t=t.filter(function(t){return"string"==typeof t})).length)return"[object has no keys]";if(n="number"!=typeof n?y:n,t[0].length>=n)return t[0];for(var e=t.length;e>0;e--){var r=t.slice(0,e).join(", ");if(!(r.length>n))return e===t.length?r:r+"…"}return""},sanitize:function(t,n){if(!a(n)||a(n)&&0===n.length)return t;var e,i=h(n),o="********";try{e=JSON.parse(r(t))}catch(n){return t}return function t(n){return a(n)?n.map(function(n){return t(n)}):u(n)?Object.keys(n).reduce(function(e,r){return i.test(r)?e[r]=o:e[r]=t(n[r]),e},{}):n}(e)}}}).call(n,e(20))},,function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,n,e){t.exports=!e(6)&&!e(18)(function(){return 7!=Object.defineProperty(e(50)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){t.exports=e(12)},function(t,n,e){var r=e(10),i=e(16),o=e(85)(!1),u=e(35)("IE_PROTO");t.exports=function(t,n){var e,c=i(t),a=0,s=[];for(e in c)e!=u&&r(c,e)&&s.push(e);for(;n.length>a;)r(c,e=n[a++])&&(~o(s,e)||s.push(e));return s}},function(t,n,e){n.f=e(3)},function(t,n,e){var r=e(4),i=e(2),o=e(23),u=e(61),c=e(8).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fetchWithRetry=n.handleErrors=void 0;var r=e(113);n.handleErrors=function(t){if(!t.ok)throw(0,r.sendToSentry)(t),Error(t.statusText);return t},n.fetchWithRetry=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.retries||3,i=n.retryDelay||1e3,o=n.retryOnHttpStatus;o=o instanceof Array?o:[];var u=function(t,n){var e=n-1;setTimeout(function(){t(e)},i)};return new Promise(function(i,c){!function e(a){fetch(t,n).then(function(t){t.ok||t.redirected||(0,r.sendToSentry)(t),o&&-1===o.indexOf(t.status)?i(t):a>0?u(e,a):c(t)}).catch(function(t){(0,r.sendToSentry)(t),a>0?u(e,a):c(t)})}(e)})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.logger=void 0;var r,i=e(1),o=(r=i)&&r.__esModule?r:{default:r},u=e(110),c=e(0);var a=n.logger={info:function(t,n){if((0,u.isLoggerEnabled)(t.getState())){var e={message:n,timeStamp:(0,o.default)().format(o.default.HTML5_FMT.DATETIME_LOCAL_MS)};console.groupCollapsed(n,e.timeStamp),console.trace(),console.info(e),console.groupEnd()}},warn:function(t,n){if((0,u.isLoggerEnabled)(t.getState())){var e={message:n,timeStamp:(0,o.default)().format(o.default.HTML5_FMT.DATETIME_LOCAL_MS)};c.IS_FIREFOX?(console.groupCollapsed(n,e.timeStamp),console.trace(),console.warn(e),console.groupEnd()):console.warn(e)}},error:function(t,n){if((0,u.isLoggerEnabled)(t.getState())){var e={message:n,timeStamp:(0,o.default)().format(o.default.HTML5_FMT.DATETIME_LOCAL_MS)};console.error(e)}}};n.default=a},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(34),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,n,e){var r=e(51),i=e(3)("iterator"),o=e(14);t.exports=e(2).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,n,e){var r=e(208),i=e(213);t.exports=function(t,n){var e=i(t,n);return r(e)?e:void 0}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.uiTrackExtManualSuccessfulCode=n.trackExtManualSuccessfulCode=n.uiTrackExtErrorOccured=n.trackExtErrorOccured=n.uiTrackExtApplyCouponCode=n.trackExtApplyCouponCode=n.uiTrackExtSerpClicked=n.trackExtSerpClicked=n.uiTrackExtSerpVisited=n.trackExtSerpVisited=n.uiTrackExtMenuOpen=n.trackExtMenuOpen=n.uiTrackExtSwitchLogin=n.trackExtSwitchLogin=n.uiTrackExtRedirect=n.trackExtRedirect=n.uiTrackExtClick=n.trackExtClick=n.uiTrackExtSearch=n.trackExtSearch=n.uiTrackExtNotifierActivatedPrompt=n.trackExtNotifierActivatedPrompt=n.uiTrackExtNotifierPrompt=n.trackExtNotifierPrompt=n.uiTrackExtPageVisited=n.trackExtPageVisited=n.trackExtLogin=n.trackExtUpdated=n.trackExtInstalled=void 0;var r=u(e(105)),i=u(e(5)),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(0));function u(t){return t&&t.__esModule?t:{default:t}}n.trackExtInstalled=function(){return{type:o.EVENT_EXT_INSTALLED,payload:{message:"cute whale born"}}},n.trackExtUpdated=function(){return{type:o.EVENT_EXT_UPDATED,payload:{message:"little whale grow"}}},n.trackExtLogin=function(t,n,e,r){return{type:o.EVENT_EXT_LOGIN,payload:{location:t,countrySelected:n,status:e,url:r}}},n.trackExtPageVisited=function(t){return{type:o.EVENT_EXT_PAGE_VISITED,payload:(0,i.default)({},t)}},n.uiTrackExtPageVisited=function(t,n,e){return{type:o.EVENT_EXT_PAGE_VISITED,url:n,storeId:t,referrerUrl:e}};n.trackExtNotifierPrompt=function(t){var n=t.propertyType,e=(0,r.default)(t,["propertyType"]);return{type:o.EVENT_EXT_NOTIFIER_PROMPT,payload:(0,i.default)({},e,{type:n})}};n.uiTrackExtNotifierPrompt=function(t,n,e){return{type:o.EVENT_EXT_NOTIFIER_PROMPT,propertyType:t,storeId:n,url:e}},n.trackExtNotifierActivatedPrompt=function(t){return{type:o.EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT,payload:(0,i.default)({},t)}},n.uiTrackExtNotifierActivatedPrompt=function(t,n){return{type:o.EVENT_EXT_NOTIFIER_ACTIVATED_PROMPT,storeId:t,url:n}},n.trackExtSearch=function(t){return{type:o.EVENT_EXT_SEARCH,payload:(0,i.default)({},t)}},n.uiTrackExtSearch=function(t,n,e,r){return{type:o.EVENT_EXT_SEARCH,storeId:e,url:r,location:t,searchTerm:n}},n.trackExtClick=function(t){return{type:o.EVENT_EXT_CLICK,payload:(0,i.default)({},t)}},n.uiTrackExtClick=function(t,n,e,r,u,c,a,s,f){var l={type:o.EVENT_EXT_CLICK,componentName:t,objectName:n,objectPosition:e,objectType:r,objectId:u,objectDestinationUrl:c,storeId:a,url:s};return f?(0,i.default)({},l,{applyingId:f}):l},n.trackExtRedirect=function(t){return{type:o.EVENT_EXT_REDIRECT,payload:(0,i.default)({},t)}},n.uiTrackExtRedirect=function(t){return(0,i.default)({type:o.EVENT_EXT_REDIRECT},t)},n.trackExtSwitchLogin=function(t){return{type:o.EVENT_EXT_LOGIN,payload:(0,i.default)({},t)}},n.uiTrackExtSwitchLogin=function(t,n,e,r){return{type:o.EVENT_EXT_LOGIN,location:t,countrySelected:n,status:e,url:r}},n.trackExtMenuOpen=function(t){return{type:o.EVENT_EXT_MENU_OPEN,payload:(0,i.default)({},t)}},n.uiTrackExtMenuOpen=function(t,n){return{type:o.EVENT_EXT_MENU_OPEN,storeId:t,url:n}},n.trackExtSerpVisited=function(t){return{type:o.EVENT_EXT_SERP_VISITED,payload:(0,i.default)({},t)}},n.uiTrackExtSerpVisited=function(t,n,e,r){return{type:o.EVENT_EXT_SERP_VISITED,serpDomain:t,url:n,searchKeyword:e,injectionCount:r}},n.trackExtSerpClicked=function(t){return{type:o.EVENT_EXT_SERP_CLICKED,payload:(0,i.default)({},t)}},n.uiTrackExtSerpClicked=function(t,n,e,r){return{type:o.EVENT_EXT_SERP_CLICKED,serpDomain:t,linkUrl:n,storeId:e,clickTarget:r}};n.trackExtApplyCouponCode=function(t){var n=t.applyType,e=(0,r.default)(t,["applyType"]);return{type:o.EVENT_EXT_APPLY_COUPON_CODE,payload:(0,i.default)({},e,{type:n})}};n.uiTrackExtApplyCouponCode=function(t){return(0,i.default)({type:o.EVENT_EXT_APPLY_COUPON_CODE},t)},n.trackExtErrorOccured=function(t){return{type:o.EVENT_EXT_ERROR_OCCURED,payload:(0,i.default)({},t)}},n.uiTrackExtErrorOccured=function(t,n,e,r,i,u,c){return{type:o.EVENT_EXT_ERROR_OCCURED,applyingId:t,location:n,errorCode:e,errorMessage:r,targetPattern:i,url:u,storeId:c}},n.trackExtManualSuccessfulCode=function(t,n){return{type:o.EVENT_EXT_MANUAL_APPLY_COUPON_CODE,payload:{storeId:t,successfulCode:n}}},n.uiTrackExtManualSuccessfulCode=function(t,n){return{type:o.EVENT_EXT_MANUAL_APPLY_COUPON_CODE,storeId:t,successfulCode:n}}},,function(t,n){function e(t,n){for(var e=0;e<t.length;++e)if(t[e]===n)return e;return-1}function r(t,n){var r=[],i=[];return null==n&&(n=function(t,n){return r[0]===n?"[Circular ~]":"[Circular ~."+i.slice(0,e(r,n)).join(".")+"]"}),function(o,u){if(r.length>0){var c=e(r,this);~c?r.splice(c+1):r.push(this),~c?i.splice(c,1/0,o):i.push(o),~e(r,u)&&(u=n.call(this,o,u))}else r.push(u);return null==t?u instanceof Error?function(t){var n={stack:t.stack,message:t.message,name:t.name};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}(u):u:t.call(this,o,u)}}(t.exports=function(t,n,e,i){return JSON.stringify(t,r(n,i),e)}).getSerialize=r},function(t,n,e){var r=e(103),i=e(209),o=e(210),u="[object Null]",c="[object Undefined]",a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?c:u:a&&a in Object(t)?i(t):o(t)}},function(t,n,e){var r=e(4).document;t.exports=r&&r.documentElement},function(t,n,e){t.exports={default:e(106),__esModule:!0}},function(t,n,e){"use strict";n.__esModule=!0;var r,i=e(74),o=(r=i)&&r.__esModule?r:{default:r};n.default=function(t,n,e){return n in t?(0,o.default)(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}},function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SearchResultNumber=n.ClearButton=n.SearchIcon=n.InputBox=n.SearchBoxContainer=n.Checkbox=n.CheckboxDiv=n.GradientGreyRectangle=n.LeftHalfCircle=n.RightHalfCircle=n.HalfCircle=n.CloseButton=n.Button=n.Text=n.CenterScreenContainer=n.FlexColumnCenterContainer=n.FlexColumnContainer=n.FlexRowCenterContainer=n.FlexRowContainer=n.DottedLine=n.Line=n.EmptyHeight=n.EmptyWidth=void 0;var r=c(e(121)),i=e(0),o=c(e(204)),u=c(e(339));function c(t){return t&&t.__esModule?t:{default:t}}n.EmptyWidth=r.default.div.withConfig({displayName:"styledComponents__EmptyWidth",componentId:"jmlbk0-0"})(["&&{width:",";}"],function(t){return t.width}),n.EmptyHeight=r.default.div.withConfig({displayName:"styledComponents__EmptyHeight",componentId:"jmlbk0-1"})(["&&{min-height:",";}"],function(t){return t.height});var a=n.Line=r.default.div.withConfig({displayName:"styledComponents__Line",componentId:"jmlbk0-2"})(["&&{width:",";height:",";border:none;border-top:solid 1px #ebebeb;background-color:",";}"],function(t){return t.width?t.width:"262px"},function(t){return t.height?t.height:"1px"},function(t){return t.backgroundColor?t.backgroundColor:null}),s=(n.DottedLine=(0,r.default)(a).withConfig({displayName:"styledComponents__DottedLine",componentId:"jmlbk0-3"})(["&&{border-top:dotted 2px #ebebeb;width:","}"],function(t){return t.width?t.width:"100px"}),n.FlexRowContainer=r.default.div.withConfig({displayName:"styledComponents__FlexRowContainer",componentId:"jmlbk0-4"})(["&&{display:flex;flex-direction:row;width:",";}"],function(t){return t.width?t.width:null})),f=(n.FlexRowCenterContainer=(0,r.default)(s).withConfig({displayName:"styledComponents__FlexRowCenterContainer",componentId:"jmlbk0-5"})(["&&{justify-content:center;align-items:center;}"]),n.FlexColumnContainer=r.default.div.withConfig({displayName:"styledComponents__FlexColumnContainer",componentId:"jmlbk0-6"})(["&&{display:flex;flex-direction:column;width:",";}"],function(t){return t.width?t.width:null})),l=(n.FlexColumnCenterContainer=(0,r.default)(f).withConfig({displayName:"styledComponents__FlexColumnCenterContainer",componentId:"jmlbk0-7"})(["&&{justify-content:center;align-items:center;}"]),n.CenterScreenContainer=r.default.div.withConfig({displayName:"styledComponents__CenterScreenContainer",componentId:"jmlbk0-8"})(["&&{display:flex;align-items:center;justify-content:center;position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483647 !important;background-color:",";}"],function(t){return t.backgroundColor?t.backgroundColor:null}),n.Text=r.default.div.attrs(function(t){var n=t.fontSize,e=t.fontWeight,r=t.fontStyle,i=t.fontStretch,o=t.lineHeight,u=t.letterSpacing,c=t.textAlign,a=t.color,s=t.cursor;return{fontSize:n||"16px",fontWeight:e||"normal",fontStyle:r||"normal",fontStretch:i||"normal",lineHeight:o||"normal",letterSpacing:u||"normal",textAlign:c||"center",color:a||"#40485a",cursor:s||null}}).withConfig({displayName:"styledComponents__Text",componentId:"jmlbk0-9"})(["&&{font-family:",";font-size:",";font-weight:",";font-style:",";font-stretch:",";line-height:",";letter-spacing:",";text-align:",";color:",";cursor:",";}"],i.FONT_FAMILY,function(t){return t.fontSize},function(t){return t.fontWeight},function(t){return t.fontStyle},function(t){return t.fontStretch},function(t){return t.lineHeight},function(t){return t.letterSpacing},function(t){return t.textAlign},function(t){return t.color},function(t){return t.cursor}),n.Button=r.default.div.withConfig({displayName:"styledComponents__Button",componentId:"jmlbk0-10"})(["&&{display:flex;justify-content:center;align-items:center;width:",";height:",";border-radius:",";background-color:",";cursor:",";}"],function(t){return t.width?t.width:"262px"},function(t){return t.height?t.height:"40px"},function(t){return t.borderRadius?t.borderRadius:"3px"},function(t){return t.backgroundColor?t.backgroundColor:"#ff4e4e"},function(t){return t.cursor?t.cursor:null}),n.CloseButton=r.default.div.withConfig({displayName:"styledComponents__CloseButton",componentId:"jmlbk0-11"})(["&&{background-image:url(",") !important;background-size:contain;background-repeat:no-repeat;width:14px!important;height:14px!important;position:absolute!important;top:","!important;right:","!important;cursor:pointer!important;z-index:2147483647 !important;}"],o.default,function(t){return t.top?t.top:"56px"},function(t){return t.right?t.right:"16px"}),n.HalfCircle=r.default.div.withConfig({displayName:"styledComponents__HalfCircle",componentId:"jmlbk0-12"})(["&&{width:","px;height:","px;background-color:",";}"],function(t){return t.size},function(t){return 2*t.size},function(t){return t.backgroundColor?t.backgroundColor:"#9e978e"}));n.RightHalfCircle=(0,r.default)(l).withConfig({displayName:"styledComponents__RightHalfCircle",componentId:"jmlbk0-13"})(["&&{border-bottom-right-radius:","px;border-top-right-radius:","px;background-image:linear-gradient(to top right,#F8F8F8,#F5F5F5,#C8C8C8);}"],function(t){return 2*t.size},function(t){return 2*t.size}),n.LeftHalfCircle=(0,r.default)(l).withConfig({displayName:"styledComponents__LeftHalfCircle",componentId:"jmlbk0-14"})(["&&{border-bottom-left-radius:","px;border-top-left-radius:","px;background-image:linear-gradient(to top left,#F8F8F8,#F5F5F5,#C8C8C8);}"],function(t){return 2*t.size},function(t){return 2*t.size}),n.GradientGreyRectangle=r.default.div.withConfig({displayName:"styledComponents__GradientGreyRectangle",componentId:"jmlbk0-15"})(["&&{width:",";height:",";position:absolute;background:-webkit-linear-gradient(#FFFFFF,90%,#f8f8f8);background:-o-linear-gradient(#FFFFFF,90%,#f8f8f8);background:-moz-linear-gradient(#FFFFFF,90%,#f8f8f8);background:linear-gradient(#FFFFFF,90%,#f8f8f8);z-index:0;}"],function(t){return t.width?t.width:"600px"},function(t){return t.height?t.height:"40px"}),n.CheckboxDiv=r.default.div.withConfig({displayName:"styledComponents__CheckboxDiv",componentId:"jmlbk0-16"})(["&&{display:flex;justify-content:",";align-items:",";width:",";height:",";border-radius:",";background-color:",";cursor:",";}"],function(t){return t.justifyContent?t.justifyContent:"left"},function(t){return t.alignItems?t.alignItems:"left"},function(t){return t.width?t.width:"262px"},function(t){return t.height?t.height:"40px"},function(t){return t.borderRadius?t.borderRadius:"3px"},function(t){return t.backgroundColor?t.backgroundColor:"#ffffff"},function(t){return t.cursor?t.cursor:null}),n.Checkbox=r.default.input.attrs(function(t){return{type:t.type||"checkbox"}}).withConfig({displayName:"styledComponents__Checkbox",componentId:"jmlbk0-17"})(["&&{top:0;left:0;cursor:pointer!important;display:block!important;opacity:",";position:",";width:",";height:",";border-radius:",";border:solid 1px #d6d6d6!important;background-color:#ffffff!important;padding:",";margin:",";-webkit-appearance:none!important;}"],function(t){return t.opacity?t.opacity:"100!important"},function(t){return t.position?t.position:"static!important"},function(t){return t.width?t.width:"16px!important"},function(t){return t.height?t.height:"16px!important"},function(t){return t.borderRadius?t.borderRadius:"3px"},function(t){return t.padding?t.padding:"0!important"},function(t){return t.margin?t.margin:"0 0 0 0"}),n.SearchBoxContainer=r.default.div.withConfig({displayName:"styledComponents__SearchBoxContainer",componentId:"jmlbk0-18"})(["&&{display:flex;flex-direction:row;width:",";min-height:40px;flex-direction:row;border-radius:3px;box-shadow:0 0 10px 0 rgba(0,0,0,0.1);background-color:#ffffff;margin:16px;border-style:hidden;align-items:center;}"],function(t){return t.width?t.width:null}),n.InputBox=r.default.input.withConfig({displayName:"styledComponents__InputBox",componentId:"jmlbk0-19"})(["&&{width:280px;height:20px;margin-left:8px;font-family:",";font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#40485a;caret-color:#d8d8d8;background-color:#ffffff;border-style:hidden;}&&:placeholder{width:111px;height:16px;font-family:",";font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;vertical-align:middle;color:rgba(64,72,90,0.5);}"],i.FONT_FAMILY,i.FONT_FAMILY),n.SearchIcon=r.default.div.withConfig({displayName:"styledComponents__SearchIcon",componentId:"jmlbk0-20"})(["&&{width:24px;height:24px;flex-direction:row;background-size:contain;margin-left:10px;background-image:url(",") !important;background-repeat:no-repeat !important;}"],u.default),n.ClearButton=r.default.div.withConfig({displayName:"styledComponents__ClearButton",componentId:"jmlbk0-21"})(["&&{width:12px;height:12px;cursor:pointer;background-image:url(",") !important;background-size:contain;background-repeat:no-repeat;display:",";}"],o.default,function(t){return t.display}),n.SearchResultNumber=r.default.div.withConfig({displayName:"styledComponents__SearchResultNumber",componentId:"jmlbk0-22"})(["&&{font-family:",";min-height:22px;font-size:16px;font-weight:bold;font-style:normal;font-stretch:normal;line-height:1.38;letter-spacing:normal;color:#40485a;margin-left:16px;margin-bottom:8px;display:",";}"],i.FONT_FAMILY,function(t){return t.displayResult})},function(t,n,e){t.exports={default:e(79),__esModule:!0}},function(t,n,e){e(39),e(28),t.exports=e(89)},function(t,n,e){"use strict";var r=e(81),i=e(82),o=e(14),u=e(16);t.exports=e(54)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){"use strict";var r=e(48),i=e(22),o=e(40),u={};e(12)(u,e(3)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(u,{next:i(1,e)}),o(t,n+" Iterator")}},function(t,n,e){var r=e(8),i=e(9),o=e(26);t.exports=e(6)?Object.defineProperties:function(t,n){i(t);for(var e,u=o(n),c=u.length,a=0;c>a;)r.f(t,e=u[a++],n[e]);return t}},function(t,n,e){var r=e(16),i=e(66),o=e(86);t.exports=function(t){return function(n,e,u){var c,a=r(n),s=i(a.length),f=o(u,s);if(t&&e!=e){for(;s>f;)if((c=a[f++])!=c)return!0}else for(;s>f;f++)if((t||f in a)&&a[f]===e)return t||f||0;return!t&&-1}}},function(t,n,e){var r=e(34),i=Math.max,o=Math.min;t.exports=function(t,n){return(t=r(t))<0?i(t+n,0):o(t,n)}},function(t,n,e){var r=e(10),i=e(37),o=e(35)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(34),i=e(33);t.exports=function(t){return function(n,e){var o,u,c=String(i(n)),a=r(e),s=c.length;return a<0||a>=s?t?"":void 0:(o=c.charCodeAt(a))<55296||o>56319||a+1===s||(u=c.charCodeAt(a+1))<56320||u>57343?t?c.charAt(a):o:t?c.slice(a,a+2):u-56320+(o-55296<<10)+65536}}},function(t,n,e){var r=e(51),i=e(3)("iterator"),o=e(14);t.exports=e(2).isIterable=function(t){var n=Object(t);return void 0!==n[i]||"@@iterator"in n||o.hasOwnProperty(r(n))}},function(t,n,e){t.exports={default:e(91),__esModule:!0}},function(t,n,e){e(39),e(28),t.exports=e(92)},function(t,n,e){var r=e(9),i=e(67);t.exports=e(2).getIterator=function(t){var n=i(t);if("function"!=typeof n)throw TypeError(t+" is not iterable!");return r(n.call(t))}},function(t,n,e){t.exports={default:e(94),__esModule:!0}},function(t,n,e){e(95),t.exports=e(2).Object.assign},function(t,n,e){var r=e(13);r(r.S+r.F,"Object",{assign:e(96)})},function(t,n,e){"use strict";var r=e(6),i=e(26),o=e(49),u=e(36),c=e(37),a=e(53),s=Object.assign;t.exports=!s||e(18)(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=s({},t)[e]||Object.keys(s({},n)).join("")!=r})?function(t,n){for(var e=c(t),s=arguments.length,f=1,l=o.f,p=u.f;s>f;)for(var h,d=a(arguments[f++]),v=l?i(d).concat(l(d)):i(d),m=v.length,b=0;m>b;)h=v[b++],r&&!p.call(d,h)||(e[h]=d[h]);return e}:s},function(t,n,e){"use strict";n.__esModule=!0;var r=u(e(127)),i=u(e(129)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}n.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,n,e){var r=e(60),i=e(42).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,n,e){var r=e(36),i=e(22),o=e(16),u=e(47),c=e(10),a=e(58),s=Object.getOwnPropertyDescriptor;n.f=e(6)?s:function(t,n){if(t=o(t),n=u(n,!0),a)try{return s(t,n)}catch(t){}if(c(t,n))return i(!r.f.call(t,n),t[n])}},,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=h(e(38)),i=h(e(75)),o=h(e(5));n.fetchMerchants=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.DEFAULT_COUNTRY,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,r){var o;return(0,u.fetchWithRetry)((0,f.getMerchantsAPI)(t,{confirmation:!0,disableReason:!0,metaInfo:!0},(0,p.ironGateEnabled)(r())),{headers:(o={},(0,i.default)(o,s.HEADERS.X_SHOPBACK_LAST_CC,t),(0,i.default)(o,s.HEADERS.X_SHOPBACK_IRONGATE_ENABLED,(0,p.ironGateEnabled)(r())),o),retryOnHttpStatus:[500,502,503,504]}).then(function(t){return t.json()}).then(function(i){e(function(t,n,e){return{type:n?s.REFETCH_MERCHANTS_SUCCESS:s.FETCH_MERCHANTS_SUCCESS,payload:{cc:e,merchants:t,activateX:browser.i18n.getMessage("notifier_cashback_activate"),reActivateX:browser.i18n.getMessage("disabler_cashback_activate"),loginToActivateX:browser.i18n.getMessage("notifier_log_in_first"),cashbackHeader:browser.i18n.getMessage("popup_header_cashback"),serpCashbackInfo:browser.i18n.getMessage("serp_cashback_info"),cashbackModifiers:{"<":browser.i18n.getMessage("notifier_cashback_modifier_up_to"),"<=":browser.i18n.getMessage("notifier_cashback_modifier_up_to"),"=":""}}}}(d(i,(0,p.ironGateEnabled)(r())),n,t))}).catch(function(t){var n=t.message;e((0,a.apiError)({errorType:s.FETCH_MERCHANTS_ERROR,message:n}))})}},n.standDownMerchantNotifier=function(t){var n=t.merchantId;return{type:s.STAND_DOWN_MERCHANT_NOTIFIER,payload:{merchantId:n}}},n.standUpMerchantNotifier=function(t){var n=t.merchantId;return{type:s.STAND_UP_MERCHANT_NOTIFIER,payload:{merchantId:n}}},n.closeMerchantNotifier=function(t){var n=t.merchantId;return{type:s.CLOSE_MERCHANT_NOTIFIER,payload:{merchantId:n}}},n.uiCloseMerchantNotifier=function(t){return{type:s.CLOSE_MERCHANT_NOTIFIER,merchantId:t}},n.fetchTopMerchants=function(){return function(t,n){var e;return fetch((0,f.getMerchantsAPI)(n().cc,{top:!0},(0,p.ironGateEnabled)(n())),{headers:(e={},(0,i.default)(e,s.HEADERS.X_SHOPBACK_LAST_CC,n().cc),(0,i.default)(e,s.HEADERS.X_SHOPBACK_IRONGATE_ENABLED,(0,p.ironGateEnabled)(n())),e)}).then(u.handleErrors).then(function(t){return t.json()}).then(function(e){var r;t((r=d(e,(0,p.ironGateEnabled)(n())),{type:s.FETCH_TOP_MERCHANTS_SUCCESS,payload:r}))}).catch(function(n){var e=n.message;t((0,a.apiError)({errorType:s.FETCH_TOP_MERCHANTS_ERROR,message:e}))})}},n.uiFetchTopMerchants=function(){return{type:s.FETCH_TOP_MERCHANTS}},n.deActivate=function(t){return{type:s.DE_ACTIVATE,payload:(0,o.default)({},t)}},n.uiDeActivate=function(t){return{type:s.DE_ACTIVATE,merchantId:t}},n.startActivate=function(t){return function(n){return browser.tabs.query({active:!0,currentWindow:!0}).then(function(e){var i=(0,r.default)(e,1),o=i[0];n({type:s.START_ACTIVATE,payload:{tabId:o.id,referrer:t.forceToSetReferrer?t.prevUrl||o.url:null,merchantId:t.merchantId}}),n({type:s.ADD_DIRTY_REDIRECT,payload:{tabId:o.id,from:t.from,merchantId:t.merchantId}})})}},n.uiStartActivate=function(t){return(0,o.default)({type:s.START_ACTIVATE},t)},n.deleteExpiredActivatedMerchant=function(t){return{type:s.DELETE_EXPIRED_ACTIVATED_MERCHANT,payload:{merchant:t}}},n.closeActivatedMerchantNotifier=v,n.uiCloseActivatedMerchantNotifier=function(t){return{type:s.CLOSE_ACTIVATED_MERCHANT_NOTIFIER,merchantId:t}},n.detectSBRedirectPage=function(t){return{type:s.DETECT_SB_REDIRECT_PAGE,payload:(0,o.default)({},t)}},n.uiDetectSBRedirectPage=function(t){return(0,o.default)({type:s.DETECT_SB_REDIRECT_PAGE},t)},n.visitActivatedMerchantNotifier=function(t){var n=t.merchant;return function(t,e){var r=(0,c.getActivatedMerchantInfo)(e(),{merchant:n});return r&&r.visited===s.ACTIVATED_NOTIFIER_NOT_YET_VISITED?(t({type:s.VISIT_ACTIVATED_MERCHANT_NOTIFIER,payload:{merchantId:n.id}}),new Promise(function(e){setTimeout(function(){t(v({merchantId:n.id})),e()},s.TIME_TO_CLOSE_ACTIVATED_NOTIFIER)})):Promise.resolve()}},n.uiVisitActivatedMerchantNotifier=function(t){return{type:s.VISIT_ACTIVATED_MERCHANT_NOTIFIER,merchant:t}},n.m=function(t,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){return t.isTaobao||(0,l.h)(i(),{merchant:t})&&!(0,c.p)(i(),{merchant:t})?Promise.resolve({}):r({type:s.o,payload:{merchantId:t.id,focusing:e,tabId:n}})}};var u=e(63),c=e(29),a=e(45),s=e(0),f=e(19),l=e(29),p=e(109);function h(t){return t&&t.__esModule?t:{default:t}}function d(t,n){return t.map(function(t){var e=void 0;try{RegExp(t.url_pattern),e=t.url_pattern}catch(n){console.log("Incorrect url_pattern: "+t.url_pattern),e=""}return(0,o.default)({},t,{id:n?t.merchantId:t.id,url_pattern:e})})}function v(t){var n=t.merchantId;return{type:s.CLOSE_ACTIVATED_MERCHANT_NOTIFIER,payload:{merchantId:n}}}},,function(t,n,e){var r=e(30).Symbol;t.exports=r},function(t,n,e){(function(n){var r=e(114),i="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},o=i.Raven,u=new r;u.noConflict=function(){return i.Raven=o,u},u.afterLoad(),t.exports=u,t.exports.Client=r}).call(n,e(20))},function(t,n,e){"use strict";n.__esModule=!0,n.default=function(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}},function(t,n,e){e(107);var r=e(2).Object;t.exports=function(t,n,e){return r.defineProperty(t,n,e)}},function(t,n,e){var r=e(13);r(r.S+r.F*!e(6),"Object",{defineProperty:e(8).f})},,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shouldFetchSettings=n.taoBaoLinkEnabled=n.couponsEnabled=n.ironGateEnabled=void 0;var r=e(17),i=e(0),o=function(t){return t.cc},u=function(t){return t.settings.serviceEnableCountry},c=(0,r.createSelector)([u],function(t){return t.ironGate}),a=(0,r.createSelector)([u],function(t){return t.coupons}),s=(0,r.createSelector)([u],function(t){return t.taoBaoLink});n.ironGateEnabled=(0,r.createSelector)([o,c],function(t,n){return n.some(function(n){return n.toUpperCase()===t.toUpperCase()})}),n.couponsEnabled=(0,r.createSelector)([o,a],function(t,n){return n.some(function(n){return n.toUpperCase()===t.toUpperCase()})}),n.taoBaoLinkEnabled=(0,r.createSelector)([o,s],function(t,n){return n.some(function(n){return n.toUpperCase()===t.toUpperCase()})}),n.shouldFetchSettings=(0,r.createSelector)([function(t){return t.settings},function(t,n){return n.now}],function(t,n){if(!t)return!0;var e=t.fetchedAt;return"number"!=typeof e||n-e>i.REFETCH_SETTING_INTERVAL_MS})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isLoggerEnabled=void 0;var r=e(17);n.isLoggerEnabled=(0,r.createSelector)([function(t){return t.extension}],function(t){return!!t.loggerEnabled})},function(t,n,e){var r=e(224),i=e(160),o=e(225),u=e(199),c=e(190),a=e(72),s=e(170),f=s(r),l=s(i),p=s(o),h=s(u),d=s(c),v=a;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||u&&"[object Set]"!=v(new u)||c&&"[object WeakMap]"!=v(new c))&&(v=function(t){var n=a(t),e="[object Object]"==n?t.constructor:void 0,r=e?s(e):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case d:return"[object WeakMap]"}return n}),t.exports=v},,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sendToSentry=void 0;var r,i=e(104),o=(r=i)&&r.__esModule?r:{default:r};n.sendToSentry=function(t){t instanceof Error?o.default.captureException(t):t instanceof Response&&o.default.captureMessage("Error : "+t.status+" "+t.statusText)}},function(t,n,e){(function(n){var r=e(115),i=e(71),o=e(116),u=e(117),c=e(55),a=c.isError,s=c.isObject,f=c.isPlainObject,l=c.isErrorEvent,p=c.isUndefined,h=c.isFunction,d=c.isString,v=c.isArray,m=c.isEmptyObject,b=c.each,_=c.objectMerge,y=c.truncate,E=c.objectFrozen,g=c.hasKey,T=c.joinRegExp,A=c.urlencode,O=c.uuid4,w=c.htmlTreeAsString,k=c.isSameException,C=c.isSameStacktrace,S=c.parseUrl,I=c.fill,N=c.supportsFetch,R=c.supportsReferrerPolicy,x=c.serializeKeysForMessage,j=c.serializeException,F=c.sanitize,P=e(118).wrapMethod,M="source protocol user pass host port path".split(" "),D=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function U(){return+new Date}var L="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},H=L.document,B=L.navigator;function K(t,n){return h(n)?function(e){return n(e,t)}:n}function V(){for(var t in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!p(H),this._hasNavigator=!p(B),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:L.SENTRY_RELEASE&&L.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:R()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=L.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=U(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=L.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}V.prototype={VERSION:"3.24.1",debug:!1,TraceKit:r,config:function(t,n){var e=this;if(e._globalServer)return this._logDebug("error","Error: Raven has already been configured"),e;if(!t)return e;var i=e._globalOptions;n&&b(n,function(t,n){"tags"===t||"extra"===t||"user"===t?e._globalContext[t]=n:i[t]=n}),e.setDSN(t),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=T(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&T(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&T(i.whitelistUrls),i.includePaths=T(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},u=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(u)?u=_(o,u):!1!==u&&(u=o),i.autoBreadcrumbs=u;var c={tryCatch:!0},a=i.instrument;return"[object Object]"==={}.toString.call(a)?a=_(c,a):!1!==a&&(a=c),i.instrument=a,r.collectWindowErrors=!!i.collectWindowErrors,e},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(r.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var n=this._parseDSN(t),e=n.path.lastIndexOf("/"),r=n.path.substr(1,e);this._dsn=t,this._globalKey=n.user,this._globalSecret=n.pass&&n.pass.substr(1),this._globalProject=n.path.substr(e+1),this._globalServer=this._getGlobalServer(n),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(t,n,e){return h(t)&&(e=n||[],n=t,t=void 0),this.wrap(t,n).apply(this,e)},wrap:function(t,n,e){var r=this;if(p(n)&&!h(t))return t;if(h(t)&&(n=t,t=void 0),!h(n))return n;try{if(n.__raven__)return n;if(n.__raven_wrapper__)return n.__raven_wrapper__}catch(t){return n}function i(){var i=[],o=arguments.length,u=!t||t&&!1!==t.deep;for(e&&h(e)&&e.apply(this,arguments);o--;)i[o]=u?r.wrap(t,arguments[o]):arguments[o];try{return n.apply(this,i)}catch(n){throw r._ignoreNextOnError(),r.captureException(n,t),n}}for(var o in n)g(n,o)&&(i[o]=n[o]);return i.prototype=n.prototype,n.__raven_wrapper__=i,i.__raven__=!0,i.__orig__=n,i},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{extra:{unhandledPromiseRejection:!0}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),L.addEventListener&&L.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return L.removeEventListener&&L.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(t,n){if(n=_({trimHeadFrames:0},n||{}),l(t)&&t.error)t=t.error;else if(a(t))t=t;else{if(!f(t))return this.captureMessage(t,_(n,{stacktrace:!0,trimHeadFrames:n.trimHeadFrames+1}));n=this._getCaptureExceptionOptionsFromPlainObject(n,t),t=new Error(n.message)}this._lastCapturedException=t;try{var e=r.computeStackTrace(t);this._handleStackInfo(e,n)}catch(n){if(t!==n)throw n}return this},_getCaptureExceptionOptionsFromPlainObject:function(t,n){var e=Object.keys(n).sort(),r=_(t,{message:"Non-Error exception captured with keys: "+x(e),fingerprint:[o(e)],extra:t.extra||{}});return r.extra.__serialized__=j(n),r},captureMessage:function(t,n){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){var e,i=_({message:t+=""},n=n||{});try{throw new Error(t)}catch(t){e=t}e.name=null;var o=r.computeStackTrace(e),u=v(o.stack)&&o.stack[1],c=u&&u.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(c))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(c))){if(this._globalOptions.stacktrace||n&&n.stacktrace){i.fingerprint=null==i.fingerprint?t:i.fingerprint,(n=_({trimHeadFrames:0},n)).trimHeadFrames+=1;var a=this._prepareFrames(o,n);i.stacktrace={frames:a.reverse()}}return i.fingerprint&&(i.fingerprint=v(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(t){var n=_({timestamp:U()/1e3},t);if(h(this._globalOptions.breadcrumbCallback)){var e=this._globalOptions.breadcrumbCallback(n);if(s(e)&&!m(e))n=e;else if(!1===e)return this}return this._breadcrumbs.push(n),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var n=[].slice.call(arguments,1);return this._plugins.push([t,n]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var n=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=K(n,t),this},setBreadcrumbCallback:function(t){var n=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=K(n,t),this},setShouldSendCallback:function(t){var n=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=K(n,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var t=L.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(H){var n=(t=t||{}).eventId||this.lastEventId();if(!n)throw new u("Missing eventId");var e=t.dsn||this._dsn;if(!e)throw new u("Missing DSN");var r=encodeURIComponent,i="";i+="?eventId="+r(n),i+="&dsn="+r(e);var o=t.user||this._globalContext.user;o&&(o.name&&(i+="&name="+r(o.name)),o.email&&(i+="&email="+r(o.email)));var c=this._getGlobalServer(this._parseDSN(e)),a=H.createElement("script");a.async=!0,a.src=c+"/api/embed/error-page/"+i,(H.head||H.body).appendChild(a)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,n){var e,r;if(this._hasDocument){for(r in n=n||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),H.createEvent?(e=H.createEvent("HTMLEvents")).initEvent(t,!0,!0):(e=H.createEventObject()).eventType=t,n)g(n,r)&&(e[r]=n[r]);if(H.createEvent)H.dispatchEvent(e);else try{H.fireEvent("on"+e.eventType.toLowerCase(),e)}catch(t){}}},_breadcrumbEventHandler:function(t){var n=this;return function(e){if(n._keypressTimeout=null,n._lastCapturedEvent!==e){var r;n._lastCapturedEvent=e;try{r=w(e.target)}catch(t){r="<unknown>"}n.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function(){var t=this;return function(n){var e;try{e=n.target}catch(t){return}var r=e&&e.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||e.isContentEditable)){var i=t._keypressTimeout;i||t._breadcrumbEventHandler("input")(n),clearTimeout(i),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},1e3)}}},_captureUrlChange:function(t,n){var e=S(this._location.href),r=S(n),i=S(t);this._lastHref=n,e.protocol===r.protocol&&e.host===r.host&&(n=r.relative),e.protocol===i.protocol&&e.host===i.host&&(t=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:n,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var t=this,n=t._wrappedBuiltIns;function e(n){return function(e,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var u=i[0];return h(u)&&(i[0]=t.wrap(u)),n.apply?n.apply(this,i):n(i[0],i[1])}}var r=this._globalOptions.autoBreadcrumbs;function i(e){var i=L[e]&&L[e].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(I(i,"addEventListener",function(n){return function(i,o,u,c){try{o&&o.handleEvent&&(o.handleEvent=t.wrap(o.handleEvent))}catch(t){}var a,s,f;return r&&r.dom&&("EventTarget"===e||"Node"===e)&&(s=t._breadcrumbEventHandler("click"),f=t._keypressEventHandler(),a=function(t){if(t){var n;try{n=t.type}catch(t){return}return"click"===n?s(t):"keypress"===n?f(t):void 0}}),n.call(this,i,t.wrap(o,void 0,a),u,c)}},n),I(i,"removeEventListener",function(t){return function(n,e,r,i){try{e=e&&(e.__raven_wrapper__?e.__raven_wrapper__:e)}catch(t){}return t.call(this,n,e,r,i)}},n))}I(L,"setTimeout",e,n),I(L,"setInterval",e,n),L.requestAnimationFrame&&I(L,"requestAnimationFrame",function(n){return function(e){return n(t.wrap(e))}},n);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],u=0;u<o.length;u++)i(o[u])},_instrumentBreadcrumbs:function(){var t=this,n=this._globalOptions.autoBreadcrumbs,e=t._wrappedBuiltIns;function r(n,e){n in e&&h(e[n])&&I(e,n,function(n){return t.wrap(n)})}if(n.xhr&&"XMLHttpRequest"in L){var i=L.XMLHttpRequest&&L.XMLHttpRequest.prototype;I(i,"open",function(n){return function(e,r){return d(r)&&-1===r.indexOf(t._globalKey)&&(this.__raven_xhr={method:e,url:r,status_code:null}),n.apply(this,arguments)}},e),I(i,"send",function(n){return function(){var e=this;function i(){if(e.__raven_xhr&&4===e.readyState){try{e.__raven_xhr.status_code=e.status}catch(t){}t.captureBreadcrumb({type:"http",category:"xhr",data:e.__raven_xhr})}}for(var o=["onload","onerror","onprogress"],u=0;u<o.length;u++)r(o[u],e);return"onreadystatechange"in e&&h(e.onreadystatechange)?I(e,"onreadystatechange",function(n){return t.wrap(n,void 0,i)}):e.onreadystatechange=i,n.apply(this,arguments)}},e)}n.xhr&&N()&&I(L,"fetch",function(n){return function(){for(var e=new Array(arguments.length),r=0;r<e.length;++r)e[r]=arguments[r];var i,o=e[0],u="GET";if("string"==typeof o?i=o:"Request"in L&&o instanceof L.Request?(i=o.url,o.method&&(u=o.method)):i=""+o,-1!==i.indexOf(t._globalKey))return n.apply(this,e);e[1]&&e[1].method&&(u=e[1].method);var c={method:u,url:i,status_code:null};return n.apply(this,e).then(function(n){return c.status_code=n.status,t.captureBreadcrumb({type:"http",category:"fetch",data:c}),n})}},e),n.dom&&this._hasDocument&&(H.addEventListener?(H.addEventListener("click",t._breadcrumbEventHandler("click"),!1),H.addEventListener("keypress",t._keypressEventHandler(),!1)):H.attachEvent&&(H.attachEvent("onclick",t._breadcrumbEventHandler("click")),H.attachEvent("onkeypress",t._keypressEventHandler())));var o=L.chrome,u=!(o&&o.app&&o.app.runtime)&&L.history&&history.pushState&&history.replaceState;if(n.location&&u){var c=L.onpopstate;L.onpopstate=function(){var n=t._location.href;if(t._captureUrlChange(t._lastHref,n),c)return c.apply(this,arguments)};var a=function(n){return function(){var e=arguments.length>2?arguments[2]:void 0;return e&&t._captureUrlChange(t._lastHref,e+""),n.apply(this,arguments)}};I(history,"pushState",a,e),I(history,"replaceState",a,e)}if(n.console&&"console"in L&&console.log){var s=function(n,e){t.captureBreadcrumb({message:n,level:e.level,category:"console"})};b(["debug","info","warn","error","log"],function(t,n){P(console,n,s)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){var n=(t=this._wrappedBuiltIns.shift())[0],e=t[1],r=t[2];n[e]=r}},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;b(this._plugins,function(n,e){var r=e[0],i=e[1];r.apply(t,[t].concat(i))})},_parseDSN:function(t){var n=D.exec(t),e={},r=7;try{for(;r--;)e[M[r]]=n[r]||""}catch(n){throw new u("Invalid DSN: "+t)}if(e.pass&&!this._globalOptions.allowSecretKey)throw new u("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return e},_getGlobalServer:function(t){var n="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(n=t.protocol+":"+n),n},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,n){var e=this._prepareFrames(t,n);this._triggerEvent("handle",{stackInfo:t,options:n}),this._processException(t.name,t.message,t.url,t.lineno,e,n)},_prepareFrames:function(t,n){var e=this,r=[];if(t.stack&&t.stack.length&&(b(t.stack,function(n,i){var o=e._normalizeFrame(i,t.url);o&&r.push(o)}),n&&n.trimHeadFrames))for(var i=0;i<n.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t,n){var e={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(e.filename=n),e.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(e.filename)||/(Raven|TraceKit)\./.test(e.function)||/raven\.(min\.)?js$/.test(e.filename)),e},_processException:function(t,n,e,r,i,o){var u,c=(t?t+": ":"")+(n||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(n)&&!this._globalOptions.ignoreErrors.test(c))&&(i&&i.length?(e=i[0].filename||e,i.reverse(),u={frames:i}):e&&(u={frames:[{filename:e,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(e))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(e)))){var a=_({exception:{values:[{type:t,value:n,stacktrace:u}]},culprit:e},o);this._send(a)}},_trimPacket:function(t){var n=this._globalOptions.maxMessageLength;if(t.message&&(t.message=y(t.message,n)),t.exception){var e=t.exception.values[0];e.value=y(e.value,n)}var r=t.request;return r&&(r.url&&(r.url=y(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=y(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var n,e,r,i=["to","from","url"],o=0;o<t.values.length;++o)if((e=t.values[o]).hasOwnProperty("data")&&s(e.data)&&!E(e.data)){r=_({},e.data);for(var u=0;u<i.length;++u)n=i[u],r.hasOwnProperty(n)&&r[n]&&(r[n]=y(r[n],this._globalOptions.maxUrlLength));t.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&B.userAgent&&(t.headers={"User-Agent":navigator.userAgent}),L.location&&L.location.href&&(t.url=L.location.href),this._hasDocument&&H.referrer&&(t.headers||(t.headers={}),t.headers.Referer=H.referrer),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&U()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var n=this._lastData;return!(!n||t.message!==n.message||t.culprit!==n.culprit)&&(t.stacktrace||n.stacktrace?C(t.stacktrace,n.stacktrace):!t.exception&&!n.exception||k(t.exception,n.exception))},_setBackoffState:function(t){if(!this._shouldBackoff()){var n=t.status;if(400===n||401===n||429===n){var e;try{e=N()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),e=1e3*parseInt(e,10)}catch(t){}this._backoffDuration=e||(2*this._backoffDuration||1e3),this._backoffStart=U()}}},_send:function(t){var n=this._globalOptions,e={project:this._globalProject,logger:n.logger,platform:"javascript"},r=this._getHttpData();r&&(e.request=r),t.trimHeadFrames&&delete t.trimHeadFrames,(t=_(e,t)).tags=_(_({},this._globalContext.tags),t.tags),t.extra=_(_({},this._globalContext.extra),t.extra),t.extra["session:duration"]=U()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),n.environment&&(t.environment=n.environment),n.release&&(t.release=n.release),n.serverName&&(t.server_name=n.serverName),t=this._sanitizeData(t),Object.keys(t).forEach(function(n){(null==t[n]||""===t[n]||m(t[n]))&&delete t[n]}),h(n.dataCallback)&&(t=n.dataCallback(t)||t),t&&!m(t)&&(h(n.shouldSendCallback)&&!n.shouldSendCallback(t)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",t):"number"==typeof n.sampleRate?Math.random()<n.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)))},_sanitizeData:function(t){return F(t,this._globalOptions.sanitizeKeys)},_getUuid:function(){return O()},_sendProcessedPayload:function(t,n){var e=this,r=this._globalOptions;if(this.isSetup())if(t=this._trimPacket(t),this._globalOptions.allowDuplicates||!this._isRepeatData(t)){this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var u=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:u,auth:i,data:t,options:r,onSuccess:function(){e._resetBackoff(),e._triggerEvent("success",{data:t,src:u}),n&&n()},onError:function(r){e._logDebug("error","Raven transport failed to send: ",r),r.request&&e._setBackoffState(r.request),e._triggerEvent("failure",{data:t,src:u}),r=r||new Error("Raven send failed (no additional details provided)"),n&&n(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",t)},_makeRequest:function(t){var n=t.url+"?"+A(t.auth),e=null,r={};if(t.options.headers&&(e=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(r=this._evaluateHash(t.options.fetchParameters)),N()){r.body=i(t.data);var o=_({},this._fetchDefaults),u=_(o,r);return e&&(u.headers=e),L.fetch(n,u).then(function(n){if(n.ok)t.onSuccess&&t.onSuccess();else{var e=new Error("Sentry error code: "+n.status);e.request=n,t.onError&&t.onError(e)}}).catch(function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))})}var c=L.XMLHttpRequest&&new L.XMLHttpRequest;c&&(("withCredentials"in c||"undefined"!=typeof XDomainRequest)&&("withCredentials"in c?c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status)t.onSuccess&&t.onSuccess();else if(t.onError){var n=new Error("Sentry error code: "+c.status);n.request=c,t.onError(n)}}:(c=new XDomainRequest,n=n.replace(/^https?:/,""),t.onSuccess&&(c.onload=t.onSuccess),t.onError&&(c.onerror=function(){var n=new Error("Sentry error code: XDomainRequest");n.request=c,t.onError(n)})),c.open("POST",n),e&&b(e,function(t,n){c.setRequestHeader(t,n)}),c.send(i(t.data))))},_evaluateHash:function(t){var n={};for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];n[e]="function"==typeof r?r():r}return n},_logDebug:function(t){this._originalConsoleMethods[t]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,n){p(n)?delete this._globalContext[t]:this._globalContext[t]=_(this._globalContext[t]||{},n)}},V.prototype.setUser=V.prototype.setUserContext,V.prototype.setReleaseContext=V.prototype.setRelease,t.exports=V}).call(n,e(20))},function(t,n,e){(function(n){var r=e(55),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},u=[].slice,c="?",a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function s(){return"undefined"==typeof document||null==document.location?"":document.location.href}i.report=function(){var t,n,e=[],f=null,l=null,p=null;function h(t,n){var r=null;if(!n||i.collectWindowErrors){for(var o in e)if(e.hasOwnProperty(o))try{e[o].apply(null,[t].concat(u.call(arguments,2)))}catch(t){r=t}if(r)throw r}}function d(n,e,o,u,f){var l=r.isErrorEvent(f)?f.error:f,d=r.isErrorEvent(n)?n.message:n;if(p)i.computeStackTrace.augmentStackTraceWithInitialElement(p,e,o,d),v();else if(l&&r.isError(l))h(i.computeStackTrace(l),!0);else{var m,b={url:e,line:o,column:u},_=void 0;if("[object String]"==={}.toString.call(d))(m=d.match(a))&&(_=m[1],d=m[2]);b.func=c,h({name:_,message:d,url:s(),stack:[b]},!0)}return!!t&&t.apply(this,arguments)}function v(){var t=p,n=f;f=null,p=null,l=null,h.apply(null,[t,!1].concat(n))}function m(t,n){var e=u.call(arguments,1);if(p){if(l===t)return;v()}var r=i.computeStackTrace(t);if(p=r,l=t,f=e,setTimeout(function(){l===t&&v()},r.incomplete?2e3:0),!1!==n)throw t}return m.subscribe=function(r){n||(t=o.onerror,o.onerror=d,n=!0),e.push(r)},m.unsubscribe=function(t){for(var n=e.length-1;n>=0;--n)e[n]===t&&e.splice(n,1)},m.uninstall=function(){n&&(o.onerror=t,n=!1,t=void 0),e=[]},m}(),i.computeStackTrace=function(){function t(t){if(void 0!==t.stack&&t.stack){for(var n,e,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=t.stack.split("\n"),p=[],h=(/^(.*) is undefined$/.exec(t.message),0),d=l.length;h<d;++h){if(e=i.exec(l[h])){var v=e[2]&&0===e[2].indexOf("native");e[2]&&0===e[2].indexOf("eval")&&(n=f.exec(e[2]))&&(e[2]=n[1],e[3]=n[2],e[4]=n[3]),r={url:v?null:e[2],func:e[1]||c,args:v?[e[2]]:[],line:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}else if(e=o.exec(l[h]))r={url:e[2],func:e[1]||c,args:[],line:+e[3],column:e[4]?+e[4]:null};else{if(!(e=u.exec(l[h])))continue;e[3]&&e[3].indexOf(" > eval")>-1&&(n=a.exec(e[3]))?(e[3]=n[1],e[4]=n[2],e[5]=null):0!==h||e[5]||void 0===t.columnNumber||(p[0].column=t.columnNumber+1),r={url:e[3],func:e[1]||c,args:e[2]?e[2].split(","):[],line:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}!r.func&&r.line&&(r.func=c),p.push(r)}return p.length?{name:t.name,message:t.message,url:s(),stack:p}:null}}function n(t,n,e,r){var i={url:n,line:e};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=c),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function e(t,o){for(var u,a,f=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],p={},h=!1,d=e.caller;d&&!h;d=d.caller)if(d!==r&&d!==i.report){if(a={url:null,func:c,line:null,column:null},d.name?a.func=d.name:(u=f.exec(d.toString()))&&(a.func=u[1]),void 0===a.func)try{a.func=u.input.substring(0,u.input.indexOf("{"))}catch(t){}p[""+d]?h=!0:p[""+d]=!0,l.push(a)}o&&l.splice(0,o);var v={name:t.name,message:t.message,url:s(),stack:l};return n(v,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),v}function r(n,r){var o=null;r=null==r?0:+r;try{if(o=t(n))return o}catch(t){if(i.debug)throw t}try{if(o=e(n,r+1))return o}catch(t){if(i.debug)throw t}return{name:n.name,message:n.message,url:s()}}return r.augmentStackTraceWithInitialElement=n,r.computeStackTraceFromStackProp=t,r}(),t.exports=i}).call(n,e(20))},function(t,n){function e(t,n){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}function r(t,n,r,i,o,u){return e((c=e(e(n,t),e(i,u)))<<(a=o)|c>>>32-a,r);var c,a}function i(t,n,e,i,o,u,c){return r(n&e|~n&i,t,n,o,u,c)}function o(t,n,e,i,o,u,c){return r(n&i|e&~i,t,n,o,u,c)}function u(t,n,e,i,o,u,c){return r(n^e^i,t,n,o,u,c)}function c(t,n,e,i,o,u,c){return r(e^(n|~i),t,n,o,u,c)}function a(t,n){var r,a,s,f,l;t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;var p=1732584193,h=-271733879,d=-1732584194,v=271733878;for(r=0;r<t.length;r+=16)a=p,s=h,f=d,l=v,h=c(h=c(h=c(h=c(h=u(h=u(h=u(h=u(h=o(h=o(h=o(h=o(h=i(h=i(h=i(h=i(h,d=i(d,v=i(v,p=i(p,h,d,v,t[r],7,-680876936),h,d,t[r+1],12,-389564586),p,h,t[r+2],17,606105819),v,p,t[r+3],22,-1044525330),d=i(d,v=i(v,p=i(p,h,d,v,t[r+4],7,-176418897),h,d,t[r+5],12,1200080426),p,h,t[r+6],17,-1473231341),v,p,t[r+7],22,-45705983),d=i(d,v=i(v,p=i(p,h,d,v,t[r+8],7,1770035416),h,d,t[r+9],12,-1958414417),p,h,t[r+10],17,-42063),v,p,t[r+11],22,-1990404162),d=i(d,v=i(v,p=i(p,h,d,v,t[r+12],7,1804603682),h,d,t[r+13],12,-40341101),p,h,t[r+14],17,-1502002290),v,p,t[r+15],22,1236535329),d=o(d,v=o(v,p=o(p,h,d,v,t[r+1],5,-165796510),h,d,t[r+6],9,-1069501632),p,h,t[r+11],14,643717713),v,p,t[r],20,-373897302),d=o(d,v=o(v,p=o(p,h,d,v,t[r+5],5,-701558691),h,d,t[r+10],9,38016083),p,h,t[r+15],14,-660478335),v,p,t[r+4],20,-405537848),d=o(d,v=o(v,p=o(p,h,d,v,t[r+9],5,568446438),h,d,t[r+14],9,-1019803690),p,h,t[r+3],14,-187363961),v,p,t[r+8],20,1163531501),d=o(d,v=o(v,p=o(p,h,d,v,t[r+13],5,-1444681467),h,d,t[r+2],9,-51403784),p,h,t[r+7],14,1735328473),v,p,t[r+12],20,-1926607734),d=u(d,v=u(v,p=u(p,h,d,v,t[r+5],4,-378558),h,d,t[r+8],11,-2022574463),p,h,t[r+11],16,1839030562),v,p,t[r+14],23,-35309556),d=u(d,v=u(v,p=u(p,h,d,v,t[r+1],4,-1530992060),h,d,t[r+4],11,1272893353),p,h,t[r+7],16,-155497632),v,p,t[r+10],23,-1094730640),d=u(d,v=u(v,p=u(p,h,d,v,t[r+13],4,681279174),h,d,t[r],11,-358537222),p,h,t[r+3],16,-722521979),v,p,t[r+6],23,76029189),d=u(d,v=u(v,p=u(p,h,d,v,t[r+9],4,-640364487),h,d,t[r+12],11,-421815835),p,h,t[r+15],16,530742520),v,p,t[r+2],23,-995338651),d=c(d,v=c(v,p=c(p,h,d,v,t[r],6,-198630844),h,d,t[r+7],10,1126891415),p,h,t[r+14],15,-1416354905),v,p,t[r+5],21,-57434055),d=c(d,v=c(v,p=c(p,h,d,v,t[r+12],6,1700485571),h,d,t[r+3],10,-1894986606),p,h,t[r+10],15,-1051523),v,p,t[r+1],21,-2054922799),d=c(d,v=c(v,p=c(p,h,d,v,t[r+8],6,1873313359),h,d,t[r+15],10,-30611744),p,h,t[r+6],15,-1560198380),v,p,t[r+13],21,1309151649),d=c(d,v=c(v,p=c(p,h,d,v,t[r+4],6,-145523070),h,d,t[r+11],10,-1120210379),p,h,t[r+2],15,718787259),v,p,t[r+9],21,-343485551),p=e(p,a),h=e(h,s),d=e(d,f),v=e(v,l);return[p,h,d,v]}function s(t){var n,e="",r=32*t.length;for(n=0;n<r;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function f(t){var n,e=[];for(e[(t.length>>2)-1]=void 0,n=0;n<e.length;n+=1)e[n]=0;var r=8*t.length;for(n=0;n<r;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function l(t){var n,e,r="";for(e=0;e<t.length;e+=1)n=t.charCodeAt(e),r+="0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n);return r}function p(t){return unescape(encodeURIComponent(t))}function h(t){return function(t){return s(a(f(t),8*t.length))}(p(t))}function d(t,n){return function(t,n){var e,r,i=f(t),o=[],u=[];for(o[15]=u[15]=void 0,i.length>16&&(i=a(i,8*t.length)),e=0;e<16;e+=1)o[e]=909522486^i[e],u[e]=1549556828^i[e];return r=a(o.concat(f(n)),512+8*n.length),s(a(u.concat(r),640))}(p(t),p(n))}t.exports=function(t,n,e){return n?e?d(n,t):l(d(n,t)):e?h(t):l(h(t))}},function(t,n){function e(t){this.name="RavenConfigError",this.message=t}e.prototype=new Error,e.prototype.constructor=e,t.exports=e},function(t,n,e){var r=e(55);t.exports={wrapMethod:function(t,n,e){var i=t[n],o=t;if(n in t){var u="warn"===n?"warning":n;t[n]=function(){var t=[].slice.call(arguments),c=r.safeJoin(t," "),a={level:u,logger:"console",extra:{arguments:t}};"assert"===n?!1===t[0]&&(c="Assertion failed: "+(r.safeJoin(t.slice(1)," ")||"console.assert"),a.extra.arguments=t.slice(1),e&&e(c,a)):e&&e(c,a),i&&Function.prototype.apply.call(i,o,t)}}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.findLoginHistory=n.isLogoutAllSBAccount=n.isLoginByCC=n.isLoggedIn=void 0;var r=e(17),i=e(0),o=function(t){return t.user},u=function(t,n){return n.cc};n.isLoggedIn=(0,r.createSelector)([o],function(t){return!!t.token}),n.isLoginByCC=(0,r.createSelector)([o,u],function(t,n){return!!t.loginHistories[n]}),n.isLogoutAllSBAccount=(0,r.createSelector)([u],function(t){return t===i.DEFAULT_COUNTRY}),n.findLoginHistory=(0,r.createSelector)([o,u],function(t,n){return t.loginHistories[n]})},function(t,n){},,,function(t,n,e){var r=e(220),i=e(57),o=Object.prototype,u=o.hasOwnProperty,c=o.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(t){return i(t)&&u.call(t,"callee")&&!c.call(t,"callee")};t.exports=a},function(t,n,e){(function(t){var r=e(30),i=e(221),o="object"==typeof n&&n&&!n.nodeType&&n,u=o&&"object"==typeof t&&t&&!t.nodeType&&t,c=u&&u.exports===o?r.Buffer:void 0,a=(c?c.isBuffer:void 0)||i;t.exports=a}).call(n,e(168)(t))},function(t,n){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},,function(t,n,e){t.exports={default:e(128),__esModule:!0}},function(t,n,e){e(28),e(39),t.exports=e(61).f("iterator")},function(t,n,e){t.exports={default:e(130),__esModule:!0}},function(t,n,e){e(131),e(120),e(136),e(137),t.exports=e(2).Symbol},function(t,n,e){"use strict";var r=e(4),i=e(10),o=e(6),u=e(13),c=e(59),a=e(132).KEY,s=e(18),f=e(41),l=e(40),p=e(27),h=e(3),d=e(61),v=e(62),m=e(133),b=e(134),_=e(9),y=e(15),E=e(37),g=e(16),T=e(47),A=e(22),O=e(48),w=e(135),k=e(99),C=e(49),S=e(8),I=e(26),N=k.f,R=S.f,x=w.f,j=r.Symbol,F=r.JSON,P=F&&F.stringify,M=h("_hidden"),D=h("toPrimitive"),U={}.propertyIsEnumerable,L=f("symbol-registry"),H=f("symbols"),B=f("op-symbols"),K=Object.prototype,V="function"==typeof j&&!!C.f,X=r.QObject,G=!X||!X.prototype||!X.prototype.findChild,z=o&&s(function(){return 7!=O(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=N(K,n);r&&delete K[n],R(t,n,e),r&&t!==K&&R(K,n,r)}:R,Q=function(t){var n=H[t]=O(j.prototype);return n._k=t,n},Y=V&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},W=function(t,n,e){return t===K&&W(B,n,e),_(t),n=T(n,!0),_(e),i(H,n)?(e.enumerable?(i(t,M)&&t[M][n]&&(t[M][n]=!1),e=O(e,{enumerable:A(0,!1)})):(i(t,M)||R(t,M,A(1,{})),t[M][n]=!0),z(t,n,e)):R(t,n,e)},J=function(t,n){_(t);for(var e,r=m(n=g(n)),i=0,o=r.length;o>i;)W(t,e=r[i++],n[e]);return t},q=function(t){var n=U.call(this,t=T(t,!0));return!(this===K&&i(H,t)&&!i(B,t))&&(!(n||!i(this,t)||!i(H,t)||i(this,M)&&this[M][t])||n)},Z=function(t,n){if(t=g(t),n=T(n,!0),t!==K||!i(H,n)||i(B,n)){var e=N(t,n);return!e||!i(H,n)||i(t,M)&&t[M][n]||(e.enumerable=!0),e}},$=function(t){for(var n,e=x(g(t)),r=[],o=0;e.length>o;)i(H,n=e[o++])||n==M||n==a||r.push(n);return r},tt=function(t){for(var n,e=t===K,r=x(e?B:g(t)),o=[],u=0;r.length>u;)!i(H,n=r[u++])||e&&!i(K,n)||o.push(H[n]);return o};V||(c((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===K&&n.call(B,e),i(this,M)&&i(this[M],t)&&(this[M][t]=!1),z(this,t,A(1,e))};return o&&G&&z(K,t,{configurable:!0,set:n}),Q(t)}).prototype,"toString",function(){return this._k}),k.f=Z,S.f=W,e(98).f=w.f=$,e(36).f=q,C.f=tt,o&&!e(23)&&c(K,"propertyIsEnumerable",q,!0),d.f=function(t){return Q(h(t))}),u(u.G+u.W+u.F*!V,{Symbol:j});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)h(nt[et++]);for(var rt=I(h.store),it=0;rt.length>it;)v(rt[it++]);u(u.S+u.F*!V,"Symbol",{for:function(t){return i(L,t+="")?L[t]:L[t]=j(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in L)if(L[n]===t)return n},useSetter:function(){G=!0},useSimple:function(){G=!1}}),u(u.S+u.F*!V,"Object",{create:function(t,n){return void 0===n?O(t):J(O(t),n)},defineProperty:W,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=s(function(){C.f(1)});u(u.S+u.F*ot,"Object",{getOwnPropertySymbols:function(t){return C.f(E(t))}}),F&&u(u.S+u.F*(!V||s(function(){var t=j();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){for(var n,e,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(e=n=r[1],(y(n)||void 0!==t)&&!Y(t))return b(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!Y(n))return n}),r[1]=n,P.apply(F,r)}}),j.prototype[D]||e(12)(j.prototype,D,j.prototype.valueOf),l(j,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){var r=e(27)("meta"),i=e(15),o=e(10),u=e(8).f,c=0,a=Object.isExtensible||function(){return!0},s=!e(18)(function(){return a(Object.preventExtensions({}))}),f=function(t){u(t,r,{value:{i:"O"+ ++c,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!a(t))return"F";if(!n)return"E";f(t)}return t[r].i},getWeak:function(t,n){if(!o(t,r)){if(!a(t))return!0;if(!n)return!1;f(t)}return t[r].w},onFreeze:function(t){return s&&l.NEED&&a(t)&&!o(t,r)&&f(t),t}}},function(t,n,e){var r=e(26),i=e(49),o=e(36);t.exports=function(t){var n=r(t),e=i.f;if(e)for(var u,c=e(t),a=o.f,s=0;c.length>s;)a.call(t,u=c[s++])&&n.push(u);return n}},function(t,n,e){var r=e(32);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){var r=e(16),i=e(98).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return u.slice()}}(t):i(r(t))}},function(t,n,e){e(62)("asyncIterator")},function(t,n,e){e(62)("observable")},function(t,n,e){t.exports={default:e(139),__esModule:!0}},function(t,n,e){e(140),t.exports=e(2).Object.setPrototypeOf},function(t,n,e){var r=e(13);r(r.S,"Object",{setPrototypeOf:e(141).set})},function(t,n,e){var r=e(15),i=e(9),o=function(t,n){if(i(t),!r(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=e(46)(Function.call,e(99).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,n,e){t.exports={default:e(143),__esModule:!0}},function(t,n,e){e(144);var r=e(2).Object;t.exports=function(t,n){return r.create(t,n)}},function(t,n,e){var r=e(13);r(r.S,"Object",{create:e(48)})},function(t,n,e){"use strict";var r=e(176),i=e(146),o=e(147);t.exports=function(){function t(t,n,e,r,u,c){c!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function n(){return t}t.isRequired=t;var e={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n};return e.checkPropTypes=r,e.PropTypes=e,e}},function(t,n,e){"use strict";var r=function(t){};t.exports=function(t,n,e,i,o,u,c,a){if(r(n),!t){var s;if(void 0===n)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[e,i,o,u,c,a],l=0;(s=new Error(n.replace(/%s/g,function(){return f[l++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(t,n,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,,,,,function(t,n){var e=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}},,,function(t,n,e){"use strict";(function(t){t.browser||(t.browser=e(196))}).call(n,e(20))},,,function(t,n,e){var r=e(68)(e(30),"Map");t.exports=r},function(t,n,e){var r=e(72),i=e(76),o="[object AsyncFunction]",u="[object Function]",c="[object GeneratorFunction]",a="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var n=r(t);return n==u||n==c||n==o||n==a}},function(t,n,e){var r=e(222),i=e(172),o=e(173),u=o&&o.isTypedArray,c=u?i(u):r;t.exports=c},,,function(t,n,e){var r=e(125),i=e(223),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var n=[];for(var e in Object(t))o.call(t,e)&&"constructor"!=e&&n.push(e);return n}},function(t,n,e){var r=e(161),i=e(154);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},,,function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(n,e(20))},function(t,n){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},,function(t,n){t.exports=function(t){return function(n){return t(n)}}},function(t,n,e){(function(t){var r=e(169),i="object"==typeof n&&n&&!n.nodeType&&n,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=o&&o.exports===i&&r.process,c=function(){try{var t=o&&o.require&&o.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=c}).call(n,e(168)(t))},,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.addDOMContentCompleteEventListener=function(t){"complete"!==document.readyState?window.addEventListener("load",function(){t()}):t()},n.addDOMContentLoadedEventListener=function(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){t()}):t()},n.createMutationObserver=function(t){var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;return n?new n(function(n){n.forEach(function(n){t(n)})}):null}},,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isPermissionNotifierResumable=n.isRecordPermissionChanged=n.isAnyInvalidPermission=void 0;var r=e(17),i=e(0),o=function(t,n){if(n.merchant)return t.permission[n.merchant.id]};n.isAnyInvalidPermission=function(t){return Object.keys(t.permission).length>0},n.isRecordPermissionChanged=(0,r.createSelector)([o],function(t){return!!t}),n.isPermissionNotifierResumable=(0,r.createSelector)([o],function(t){if(t){if(!t.ts)return!0;var n=t.ts;return Date.now()-n>i.PERMISSION_NOTIFIER_TTL}return!1})},,,,,function(t,n,e){(function(t){!function(t){var n=function(){try{return!!Symbol.iterator}catch(t){return!1}}(),e=function(t){var e={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return n&&(e[Symbol.iterator]=function(){return e}),e},r=function(t){return encodeURIComponent(t).replace(/%20/g,"+")},i=function(t){return decodeURIComponent(t).replace(/\+/g," ")};"URLSearchParams"in t&&"a=1"===new URLSearchParams("?a=1").toString()||function(){var o=function(t){if(Object.defineProperty(this,"_entries",{value:{}}),"string"==typeof t){if(""!==t)for(var n,e=(t=t.replace(/^\?/,"")).split("&"),r=0;r<e.length;r++)n=e[r].split("="),this.append(i(n[0]),n.length>1?i(n[1]):"")}else if(t instanceof o){var u=this;t.forEach(function(t,n){u.append(t,n)})}},u=o.prototype;u.append=function(t,n){t in this._entries?this._entries[t].push(n.toString()):this._entries[t]=[n.toString()]},u.delete=function(t){delete this._entries[t]},u.get=function(t){return t in this._entries?this._entries[t][0]:null},u.getAll=function(t){return t in this._entries?this._entries[t].slice(0):[]},u.has=function(t){return t in this._entries},u.set=function(t,n){this._entries[t]=[n.toString()]},u.forEach=function(t,n){var e;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){e=this._entries[r];for(var i=0;i<e.length;i++)t.call(n,e[i],r,this)}},u.keys=function(){var t=[];return this.forEach(function(n,e){t.push(e)}),e(t)},u.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),e(t)},u.entries=function(){var t=[];return this.forEach(function(n,e){t.push([e,n])}),e(t)},n&&(u[Symbol.iterator]=u.entries),u.toString=function(){var t="";return this.forEach(function(n,e){t.length>0&&(t+="&"),t+=r(e)+"="+r(n)}),t},t.URLSearchParams=o}()}(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t){if(function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(t){return!1}}()||function(){var n=t.URL,e=function(t,n){"string"!=typeof t&&(t=String(t));var e=document.implementation.createHTMLDocument("");if(window.doc=e,n){var r=e.createElement("base");r.href=n,e.head.appendChild(r)}var i=e.createElement("a");if(i.href=t,e.body.appendChild(i),i.href=i.href,":"===i.protocol||!/:/.test(i.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:i})},r=e.prototype;["hash","host","hostname","port","protocol","search"].forEach(function(t){!function(t){Object.defineProperty(r,t,{get:function(){return this._anchorElement[t]},set:function(n){this._anchorElement[t]=n},enumerable:!0})}(t)}),Object.defineProperties(r,{toString:{get:function(){var t=this;return function(){return t.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(t){this._anchorElement.href=t},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(t){this._anchorElement.pathname=t},enumerable:!0},origin:{get:function(){var t={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],n=this._anchorElement.port!=t&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(n?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(t){},enumerable:!0},username:{get:function(){return""},set:function(t){},enumerable:!0},searchParams:{get:function(){var t=new URLSearchParams(this.search),n=this;return["append","delete","set"].forEach(function(e){var r=t[e];t[e]=function(){r.apply(t,arguments),n.search=t.toString()}}),t},enumerable:!0}}),e.createObjectURL=function(t){return n.createObjectURL.apply(n,arguments)},e.revokeObjectURL=function(t){return n.revokeObjectURL.apply(n,arguments)},t.URL=e}(),void 0!==t.location&&!("origin"in t.location)){var n=function(){return t.location.protocol+"//"+t.location.hostname+(t.location.port?":"+t.location.port:"")};try{Object.defineProperty(t.location,"origin",{get:n,enumerable:!0})}catch(e){setInterval(function(){t.location.origin=n()},100)}}}(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}).call(n,e(20))},,,,,,function(t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},function(t,n,e){var r=e(68)(e(30),"WeakMap");t.exports=r},,,,,,,,,function(t,n,e){var r=e(68)(e(30),"Set");t.exports=r},,,,,function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAARBJREFUKBV9kjFuAjEQRT12FuqUXCDpcwMkTpASoVQBKSdIyAGS3ACBUiIKzoCUlip9TkBJhRS0sif+Y9k4i5cpduzvefrj8dLDeHpj2b5zpR9Xs4+9uhDDp5drqt2nITPV1tVzdu6ejnaDgzZOIF+DWjCaTGdIRD+s+K4NThBqfK0wcBhNXnts6y9mviVF39w1g9j2OVT1l4u3HcXWSjDO0IV0I04BEj2CyE0YWgmCnhyxQeQw9uFOJydoCB3S6euM+/U2h6T4tWhJCIt/js1BoKQ0MOgJbEJkqr6ALdMWsARh5ADzO+dPRZcggIgSrNXRrttGHjCl5MF96/EPA6P1lXr2whZ3iu1FIM8ZvAXzB3Yn5+j6oZMiAAAAAElFTkSuQmCC"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=o(e(7)),i=o(e(11));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(t){return r.default.createElement("div",{style:{textAlign:"right"}},r.default.createElement("span",{className:"shopback-notification-close",onClick:t.onClick}))};u.propTypes={onClick:i.default.func.isRequired},n.default=u},,,function(t,n,e){var r=e(161),i=e(211),o=e(76),u=e(170),c=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,f=a.toString,l=s.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?p:c).test(u(t))}},function(t,n,e){var r=e(103),i=Object.prototype,o=i.hasOwnProperty,u=i.toString,c=r?r.toStringTag:void 0;t.exports=function(t){var n=o.call(t,c),e=t[c];try{t[c]=void 0;var r=!0}catch(t){}var i=u.call(t);return r&&(n?t[c]=e:delete t[c]),i}},function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,n,e){var r,i=e(212),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,n,e){var r=e(30)["__core-js_shared__"];t.exports=r},function(t,n){t.exports=function(t,n){return null==t?void 0:t[n]}},,,,,,,function(t,n,e){var r=e(72),i=e(57),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,n){t.exports=function(){return!1}},function(t,n,e){var r=e(72),i=e(154),o=e(57),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!u[r(t)]}},function(t,n,e){var r=e(189)(Object.keys,Object);t.exports=r},function(t,n,e){var r=e(68)(e(30),"DataView");t.exports=r},function(t,n,e){var r=e(68)(e(30),"Promise");t.exports=r},function(t,n,e){var r=e(165),i=e(111),o=e(123),u=e(44),c=e(166),a=e(124),s=e(125),f=e(162),l="[object Map]",p="[object Set]",h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(c(t)&&(u(t)||"string"==typeof t||"function"==typeof t.splice||a(t)||f(t)||o(t)))return!t.length;var n=i(t);if(n==l||n==p)return!t.size;if(s(t))return!r(t).length;for(var e in t)if(h.call(t,e))return!1;return!0}},,,,,,,,,,,,,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.renderContainer=n.unMountContainer=void 0;var r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(7)),i=e(148),o=e(70),u=a(e(242)),c=a(e(64));function a(t){return t&&t.__esModule?t:{default:t}}var s=n.unMountContainer=function(t,n){(0,i.unmountComponentAtNode)(n),document.documentElement.removeChild(n),c.default.warn(t,"unmount container: "+n.id)};n.renderContainer=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,f=document.createElement("div");e&&(f.id=e),f.style="z-index: 2147483647 !important";document.documentElement.appendChild(f),c.default.info(t,"render container: "+e),(0,i.render)(r.createElement(o.Provider,{store:t},r.createElement(u.default,null,r.createElement(n,{url:window.location.href,unMount:function(){return s(t,f)},tabId:a}))),f)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=l(e(21)),i=l(e(24)),o=l(e(31)),u=l(e(25)),c=e(7),a=l(c),s=l(e(11)),f=e(0);function l(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(t){(0,r.default)(this,n);var e=(0,i.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={hasError:!1},e}return(0,u.default)(n,t),(0,o.default)(n,null,[{key:"renderErrorView",value:function(){return a.default.createElement("div",{className:"shopback-error-desc"},a.default.createElement("h3",null,browser.i18n.getMessage("notifier_error_title")),a.default.createElement("p",null,browser.i18n.getMessage("notifier_error_description")))}}]),(0,o.default)(n,[{key:"componentDidCatch",value:function(t,n){this.setState({hasError:!0}),browser.runtime.sendMessage({errorMessage:t.message,extra:n,action:f.SENTRY_ERROR_LOGGING})}},{key:"render",value:function(){return this.state.hasError?a.default.cloneElement(this.props.children,{errorView:n.renderErrorView()}):this.props.children}}]),n}(c.Component);p.propTypes={children:s.default.any},p.defaultProps={children:null},n.default=p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isDetectedStandDownAffiliateNetWorks=n.isDisplay=void 0;var r=e(17),i=e(0),o=e(29);n.isDisplay=(0,r.createSelector)([function(t,n){return n.merchant},function(t){return t}],function(t,n){if(!t||!t.popup_enabled)return!1;if(t.standDown)return!1;var e=(0,o.getActivatedMerchantInfo)(n,{merchant:t});return e?!(e.visited===i.ACTIVATED_NOTIFIER_CLOSED):!t.closed}),n.isDetectedStandDownAffiliateNetWorks=(0,r.createSelector)([function(t){return t.standDownAffiliateNetworks},function(t,n){return n.tabId}],function(t,n){return t[n]})},,,,,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=u(e(7)),i=u(e(11)),o=u(e(337));function u(t){return t&&t.__esModule?t:{default:t}}e(338);var c=function(t){var n=t.loggedIn,e=t.onClick,i=t.activated,u=t.merchant,c=t.forPopup,a=void 0,s=!c&&u&&u.old_cashback&&u.old_cashback.description&&(!n||!i),f={className:"shopback-activate-button",onClick:e};return n?i?(a=c?browser.i18n.getMessage("menu_cashback_activated"):browser.i18n.getMessage("notifier_cashback_activated"),f.className+=" shopback-activated-button",delete f.onClick):a=c?browser.i18n.getMessage("menu_get_cashback"):u.x||u.cashback_amount:a=c?browser.i18n.getMessage("menu_log_in_first"):u.loginToActivateX,r.default.createElement("div",f,s?r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"shopback-activate-button-text-content-for-notifier"},a),r.default.createElement("div",{className:"shopback-activate-button-old-text-content-for-notifier"},u.old_cashback.description)):a,i?[" ",r.default.createElement("img",{key:"img",alt:"tick",src:o.default})]:null)};c.propTypes={onClick:i.default.func.isRequired,loggedIn:i.default.bool.isRequired,activated:i.default.bool.isRequired,merchant:i.default.object.isRequired,forPopup:i.default.bool},c.defaultProps={forPopup:!1},n.default=c},function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJCAYAAAGTY+a7AAAAAXNSR0IArs4c6QAAAKtJREFUGBl9jD0KwkAUhGO0EgkWKpaCjQjiz3G8gVeyFY9gJ9hJcgML66BiJVYWPr9ZTdhFceBj582bt1GEzGys1xPRQvkOatAvdwxtbTKwMv1pKLTUQo1YDcxFE3Zaeev+dcl+W/VTggNzrHMpgQ2cXQkzBOnhX6k9CYJ/A+Ue5CAtdd2FNTSLQ3wdUpCO0HE7zABOIO1h5ZzZjXdWfBC8LEZwhSfMg+VneAFpyqjX42xpWQAAAABJRU5ErkJggg=="},function(t,n){},function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABmtJREFUeAHtWj1sHEUY9flXliwRcZ1tSDCykECisrDkn/NdEwxBUFgpoUQpIA2NaZw4DU6RgoQiooYqckGUGBuKOwfbkiNXQSCBxCX8yCKFiSOdYvnnzrxHdp3N7nyb2d3ZQ3eale5m9puZ973v7czs7sy2tNjDKmAVsApYBawCVgGrgFXAKmAVsApYBeqtQCYthxsbGx2VSiV/eHh4KpPJDCDtRdoLf1n8tnC+ifNNpGWkN3t6ekpDQ0P7afGJi2tcoOXl5RyCPoPf2yD1XARiDyHUAn5XJyYmbkVol2pVYwKtrKy8dnBwMAdh3knKGCLdaG9vnx4bG/spKVbS9okFKhaL7QjoEoh8BHFakxJy2wOzhvwXwPykUCgcuPZ6p4kEWl9fz+7s7FxDEIW0iEOoYnd39+nh4eGttHyE4cYWCEPqFQypBYgzEObARBlEKre1tb01Pj7+qwm8KBixBHJ6zu1niYPAKiCziN91BPgz6m9ms9ktHFmU9Var1Vdhew/5N5H2hBGnSOhJb9S7J0UWyJlzvkdAeSkgBLON31xHR8flkZGRHamea19bW+ve398/C8xp/I65dn8KzCLKT9ZzToo8qYLkJZDM+8l7zuc7Oztfxq36oo44bMd6rM92OJ33YD2Vhd8C/T9lTPkkUg9ybuV3QFQSdjafz88iiMO4vIGdwbPUeaQzKgxg1/AI8Hq9HgGkQFXcWpznHKnNLLr++STi0CnbQ+RzSC+oSPDikIeqLA2bdg/iE3KtVlsWSMwjqNNJxfFisyeVSqVrsE157W6+tbUVozL9J26pN7g8jlIQPnN04slAlO2urq4PTYpDeOI5uNsed0dZic9RBUMZLYH44glCfLcKHAhkDpPsP4ECAwbiEl8FRT7kpSozadMSiG/lcBp48QT5Cm/lJgn5sYhPP347+Ti8FEXmTFoC4WqdElwu6t7KhfbPNBMf/pdUFUN4qarHsmkJhCs4IKBfF+xGzfD/jQowhJeqeiyblkC4UlzoChx8fQgYUzBIfiReJiloCYQrpRQIBDdNkpGwJD8SLwknjl1LIABzmTRw8MUzYEzBEOJHycskBV2BlELwrdwkGQlL8oOe9UBqY8quJdD/2cUZqDSUYL9vSggJR0sgEFHONVzPkYBN2kP8/G3SjwpLSyD0oLKqMWzvCnbTZqUf8PrRtCM/npZA6EE3/Q2d80kudgllRswO/qQAxtXKVA8tgbipBxYP/UxwBXv29vY+9ttNnjsrjYHlWFy0R/39/T+Y9KXC0hKIO54gtKACgO1TXOXnhbJEZuLiIkwLIAuDg4O7Qpkxs5ZA9AaBrqq8IoBju7u7XyLVXltS4fhtxHNwlWvUKL/ob5PGubZAXJyCSDcEElNY3DonlMUyO3hTqsbgsYjVyw1VmWmbtkB0zO1gkOOOZ+CAfQY7HlxLTtST2J44cCAJXsVqolQW4JXUEDkYXNnPEcTZEMfzXAmMs4jGOYfDCtjKnuP4/G/tO8S/0aLIAjn7Yt9BpILEBL2Jy6SfYRvnis56EW/lOvtiwFzF2vcE8KuSb9P2yAKRgMmdVcDxIXASggdu5fTlPSDMV5gLP0Aae1vJi6eTjyUQgeu5Ny8E8jvseUzW94RyI+ZIk7TXIzbufuFeOa5m0Ws3nQf+GjC/VuAeh62EIX9CUWbMFFsgMuCHBBgaJxEEF9aVd7cETKvAvIAhlcO8876Acxx1iqurqxQrlSP2EPOzMfmFGbCXsMw6k8vlbrt+0FPEeQci3cPuR350dJTDzuhhTCCXVdxvFBHkI/TGb4Ezp3oIxONFGeUvuX78aVoiGRfIJR72lSsCfYCAuNh1H/k7yC/19fXdCnu34jDCo0AJ9U+4PvxpGiKlJpCfvIlzTZHu4ok/j5vIHyZ8JpqkTRCIgsE5hnMNespdqR2HIb7+KGFOfFGqE8XeUAIxMIrEHlIvkRpqiHmvPHsIewp7jNfuzUNEfsWfx6PCn157lHzDCsQg6yFSQwtUD5EaXiBdkVDvN/z47vYX2+geDTdJqwLjLd2ZuMuqcsfGL2j57tYfUidQ1BQCMSqKxAmZE3MgyieGyCI1jUDUgHcrDZGeyKWRa4o5yB8n3gdfwO2fjwADvrLI81BTCkRRFCJFFoc4TSuQKxK+7S4yjyPyHexxsyb/Z0+KeudqcklseFYBq4BVwCpgFbAKPFbgX6eT3EH1Mh81AAAAAElFTkSuQmCC"},,,,,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Amount=n.Name=n.TierContainer=n.TitleText=n.Money=n.TitleContainer=n.WhiteBackGround=n.CashBackTiersContainer=n.ViewAllRatesText=n.ViewAllRatesContainer=n.Arrow=void 0;var r,i=e(121),o=(r=i)&&r.__esModule?r:{default:r},u=e(77);var c=browser.runtime.getURL("images/cashbackTiers/money.png");n.Arrow=o.default.div.withConfig({displayName:"cashbackTiers__Arrow",componentId:"sc-6cbkxx-0"})(["&&{border:solid #ffffff;border-width:0 1.5px 1.5px 0 !important;border-radius:2px;display:inline-block;padding:3px !important;cursor:pointer;align-self:",";transform:",";}"],function(t){return t.displayCashbackTiers?"flex-end":"flex-start"},function(t){return t.displayCashbackTiers?"rotate(-135deg)":"rotate(45deg)"}),n.ViewAllRatesContainer=(0,o.default)(u.FlexRowContainer).withConfig({displayName:"cashbackTiers__ViewAllRatesContainer",componentId:"sc-6cbkxx-1"})(["&&{align-self:flex-end;align-items:center;margin:7px 30px 7px 0px !important;height:11px;}"]),n.ViewAllRatesText=(0,o.default)(u.Text).withConfig({displayName:"cashbackTiers__ViewAllRatesText",componentId:"sc-6cbkxx-2"})(["&&{color:#ffffff;cursor:pointer;text-align:right;font-size:12px;letter-spacing:0.3px;margin-right:6px;}"]),n.CashBackTiersContainer=(0,o.default)(u.FlexColumnContainer).withConfig({displayName:"cashbackTiers__CashBackTiersContainer",componentId:"sc-6cbkxx-3"})(["&&{max-width:511px;max-height:410px;box-shadow:0px 6px 8px 0px rgba(0,0,0,0.3);border-radius:3px;background-color:rgb(243,242,243);}"]),n.WhiteBackGround=(0,o.default)(u.FlexColumnContainer).withConfig({displayName:"cashbackTiers__WhiteBackGround",componentId:"sc-6cbkxx-4"})(["&&{margin:16px;border-radius:3px;padding-bottom:6px;box-shadow:0 2px 4px 0 rgba(0,0,0,0.1);background-color:#ffffff;overflow:auto;overflow-x:hidden;}&&::-webkit-scrollbar{width:8px;background-color:#E2E2E2;}&&::-webkit-scrollbar-thumb{background-color:rgba(90,98,116,0.5);border-radius:4px;}"]),n.TitleContainer=(0,o.default)(u.FlexRowContainer).withConfig({displayName:"cashbackTiers__TitleContainer",componentId:"sc-6cbkxx-5"})(["&&{margin:16px 0px 12px 16px;}"]),n.Money=o.default.div.withConfig({displayName:"cashbackTiers__Money",componentId:"sc-6cbkxx-6"})(["&&{width:24px;height:13px;margin-right:8px;align-self:center;background-size:24px 13px !important;background-repeat:no-repeat !important;background-image:url(",") !important;}"],c),n.TitleText=(0,o.default)(u.Text).withConfig({displayName:"cashbackTiers__TitleText",componentId:"sc-6cbkxx-7"})(["&&{font-size:16px;align-self:center;font-weight:bold;color:#40485a;}"]),n.TierContainer=(0,o.default)(u.FlexRowContainer).withConfig({displayName:"cashbackTiers__TierContainer",componentId:"sc-6cbkxx-8"})(["&&{margin-bottom:10px;max-height:40px;}"]),n.Name=(0,o.default)(u.Text).withConfig({displayName:"cashbackTiers__Name",componentId:"sc-6cbkxx-9"})(["&&{max-width:288px;margin-left:16px;flex:1 0 auto;font-size:14px;text-align:left;color:#40485a;display:-webkit-box;overflow:hidden;-webkit-line-clamp:",";-webkit-box-orient:vertical;}"],function(t){return t.lineCount?t.lineCount:"2"}),n.Amount=(0,o.default)(u.Text).withConfig({displayName:"cashbackTiers__Amount",componentId:"sc-6cbkxx-10"})(["&&{width:46px;height:16px;margin-right:16px;flex:1 0 auto;font-size:14px;text-align:right;color:#ff4e4e;}"])},,,,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detectPermissionChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:"-1"};return{type:r.DETECCT_PERMISSION_CHANGE,payload:{merchantId:t.id}}},n.closePermissionNotifier=function(t){var n=t.merchantId;return{type:r.CLOSE_PERMISSION_NOTIFIER,payload:{merchantId:n,ts:(new Date).getTime()}}},n.uiClosePermissionNotifier=function(t){return{type:r.CLOSE_PERMISSION_NOTIFIER,merchantId:t}},n.resetPermissionNotifier=o,n.cleanInvalidPermission=function(){return{type:r.CLEAN_INVALID_PERMISSION,payload:{}}},n.checkPermissionNotifierResumable=function(t){return function(n,e){var r=e();return(0,i.isPermissionNotifierResumable)(r,{merchant:t})&&n(o(t.id)),Promise.resolve()}};var r=e(0),i=e(178);function o(t){return{type:r.RESET_PERMISSION_NOTIFIER,payload:{merchantId:t}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=p(e(21)),i=p(e(31)),o=p(e(24)),u=p(e(25)),c=e(7),a=p(c),s=p(e(11)),f=e(0),l=p(e(447));function p(t){return t&&t.__esModule?t:{default:t}}e(448);var h=function(t){function n(){var t,e,i,u;(0,r.default)(this,n);for(var c=arguments.length,a=Array(c),s=0;s<c;s++)a[s]=arguments[s];return e=i=(0,o.default)(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a))),i.state={displayExplanation:!1},i.toggleReason=function(){i.trackToggleReasonEvent(),i.setState(function(){return{displayExplanation:!i.state.displayExplanation}})},i.dismissSelf=function(){var t=i.props,n=t.close,e=t.unMount,r=t.merchant;n&&e&&(i.trackCloseEvent(),n(r.id),e())},i.stopPropagation=function(t){t.stopPropagation()},i.handleClickFindoutMore=function(){i.trackFindoutMoreEvent()},i.handleChangePermission=function(){i.trackPermissionChangeEvent(),browser.runtime.sendMessage({action:f.OPEN_BROWESER_SETTING_PAGE}).catch(function(){})},u=e,(0,o.default)(i,u)}return(0,u.default)(n,t),(0,i.default)(n,[{key:"componentDidMount",value:function(){this.props.display&&this.trackPromptEvent()}},{key:"render",value:function(){var t=this.props,n=t.display,r=t.fromPop,i=t.helpCenterUrl,o=this.state.displayExplanation;return n?a.default.createElement("div",{className:"shopback-permission",onClick:this.dismissSelf},a.default.createElement("div",{className:"permission-content",onClick:this.stopPropagation},a.default.createElement("div",{className:"permission-logo"}),a.default.createElement("p",{className:"permission-title"},browser.i18n.getMessage("permission_title")),a.default.createElement("p",{className:"permission-subline"},browser.i18n.getMessage("permission_subline")),a.default.createElement("button",{onClick:this.handleChangePermission,className:"change-permission-button"},browser.i18n.getMessage("permission_change")),a.default.createElement("div",{onClick:this.toggleReason,className:"permission-explanation-block"},a.default.createElement("div",{className:"permission-explanation-title"},browser.i18n.getMessage("permission_it_is_safe")),a.default.createElement("img",{key:"img",alt:"toggle",className:"permission-explanation-toggle "+(o?"expand":""),src:e(449)})),a.default.createElement("div",{className:"permission-explanation-content",style:{display:o?"block":"none"}},browser.i18n.getMessage("permission_explanation")),a.default.createElement("hr",null),a.default.createElement("div",{className:"permission-find-out-more",onClick:this.handleClickFindoutMore},a.default.createElement("a",{href:i,target:"_blank"},browser.i18n.getMessage("permission_find_out_more"))),r?null:a.default.createElement("div",null,a.default.createElement("span",{className:"permission-close",onClick:this.dismissSelf})))):null}}]),n}((0,l.default)(c.Component));n.default=h,h.propTypes={display:s.default.bool.isRequired,helpCenterUrl:s.default.string.isRequired,merchant:s.default.object,fromPop:s.default.bool,unMount:s.default.func,close:s.default.func},h.defaultProps={fromPop:!1,merchant:null,unMount:null,close:null}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e(21)),i=a(e(31)),o=a(e(24)),u=a(e(25)),c=e(69);function a(t){return t&&t.__esModule?t:{default:t}}n.default=function(t){var n,e;return e=n=function(t){function n(t){(0,r.default)(this,n);var e=(0,o.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.trackCloseEvent=e.trackCloseEvent.bind(e),e.trackPromptEvent=e.trackPromptEvent.bind(e),e.trackFindoutMoreEvent=e.trackFindoutMoreEvent.bind(e),e.trackToggleReasonEvent=e.trackToggleReasonEvent.bind(e),e.trackPermissionChangeEvent=e.trackPermissionChangeEvent.bind(e),e}return(0,u.default)(n,t),(0,i.default)(n,[{key:"trackPermissionChangeEvent",value:function(){var t=this.props,e=t.merchant,r=t.dispatch,i=t.url;r((0,c.uiTrackExtClick)(n.type,"Change Settings","","cta","","",e?e.id:-1,i))}},{key:"trackCloseEvent",value:function(){var t=this.props,e=t.merchant,r=t.dispatch,i=t.url;r((0,c.uiTrackExtClick)(n.type,"Close","","cta","","",e?e.id:-1,i))}},{key:"trackToggleReasonEvent",value:function(){var t=this.props,e=t.merchant,r=t.dispatch,i=t.url;r((0,c.uiTrackExtClick)(n.type,"Expand","","cta","","",e?e.id:-1,i))}},{key:"trackFindoutMoreEvent",value:function(){var t=this.props,e=t.merchant,r=t.dispatch,i=t.url;r((0,c.uiTrackExtClick)(n.type,"Find out more","","cta","","",e?e.id:-1,i))}},{key:"trackPromptEvent",value:function(){var t=this.props,e=t.merchant,r=t.url;(0,t.dispatch)((0,c.uiTrackExtNotifierPrompt)(n.type,e?e.id:-1,r))}}]),n}(t),n.type="Permission Notifier",e}},function(t,n){},function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAOJJREFUSA1jYBgFoyEwGgJ4Q8DRN14brwKgJCE1zLgMcPKKafj/9+8yRTX9mw9uX7qKTZ2jV0wYUM1uJTV95vu3Lx3ApoYJmyCSGMv/f/+WggxCEgMzwYYD5YAcFnQ5ZD5OH4BcBHQZ4////50YGf4HKajq3Xxw5zLYJw6e0eFAsWUgw5mYmBr3bVvSgGwoMpsRmYONDQqqf//+1TMyMvz9z8AYDVIDNHzp//8MzIQMh6jFZiqaGLIlICliDQepxRlEIEkYQAouR6AY0OH4gwWmj2Qa5BMQJlnjqIbREBjhIQAA535XawGPR5QAAAAASUVORK5CYII="},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Notifier=void 0;var r=I(e(5)),i=I(e(21)),o=I(e(31)),u=I(e(24)),c=I(e(25)),a=e(7),s=I(a),f=I(e(11)),l=e(70),p=e(100),h=e(243),d=I(e(226)),v=e(101),m=e(119),b=e(43),_=e(29),y=e(312),E=e(178),g=e(19),T=I(e(336)),A=I(e(205)),O=e(0),w=e(77);e(451);var k=I(e(452)),C=I(e(453)),S=e(346);function I(t){return t&&t.__esModule?t:{default:t}}var N=n.Notifier=function(t){function n(t){(0,i.default)(this,n);var e=(0,u.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={in:!1,activateAgain:t.activatedInConfirmPage,displayCashbackTiers:!1},e.handleActivate=e.handleActivate.bind(e),e.handleClose=e.handleClose.bind(e),e}return(0,c.default)(n,t),(0,o.default)(n,[{key:"getMerchant",value:function(){var t=this.props,n=t.confirmPageMerchant,e=t.merchant;return this.isConfirmNotifier()&&n?n:e}},{key:"componentWillReceiveProps",value:function(t){this.props.disabled&&!t.disabled&&this.props.unMount()}},{key:"componentDidMount",value:function(){var t=this,n=this.props,e=n.merchant,r=n.confirmPageMerchant;if(e||r){var i=this.isConfirmNotifier()||r;i&&!this.getMerchant().isTaobao&&this.props.deActivate(r.id),e.isTaobao||this.trackPromptEvent(i),setTimeout(function(){t.setState(function(){return{in:!0}})},0)}else this.props.unMount();this.visitActivated()}},{key:"visitActivated",value:function(){var t=this.props,n=t.activated,e=t.visitActivatedNotifier,r=t.merchant,i=t.disabled;r&&n&&!r.isTaobao&&!i&&e(r)}},{key:"handleActivate",value:function(){var t=this.props,n=t.loggedIn,e=t.activate,r=t.cc,i=this.getMerchant();if(e({merchantId:i.id,prevUrl:window.location.href,forceToSetReferrer:!0,from:this.getType()}),n){this.trackActivateEvent();var o=this.isConfirmNotifier()?O.UTM_BE_CONFIRM_NOTIFIER:O.UTM_BE_NOTIFIER_CASHBACK;window.location.replace((0,g.getActivatePage)(i.activation_url,o))}else this.trackLoginEvent(),window.location.replace((0,g.getLoginToActivatePage)(r,i.activation_url,O.UTM_BE_LOGIN_NOTIFIER))}},{key:"handleClose",value:function(){var t=this.props,n=t.closeNotifier,e=t.closeActivatedNotifier,r=t.activated,i=this.getMerchant().id,o=this.isConfirmNotifier();this.trackCloseEvent(),o?this.props.unMount():r?e(i):n(i)}},{key:"isConfirmNotifier",value:function(){return!(!this.props.confirmPageMerchant||this.props.confirmPageMerchant.isTaobao)&&(this.state.activateAgain||this.props.activatedInConfirmPage)}},{key:"renderNotifier",value:function(t){var n=this.props,e=n.activated,r=n.loggedIn;return s.default.createElement(T.default,{key:"activation_button",onClick:this.handleActivate,loggedIn:r,activated:!t&&e,merchant:this.getMerchant()})}},{key:"renderReActiveInfo",value:function(t){return t?s.default.createElement("div",{key:"confirmInfo",className:"shopback-confirmation-desc"},browser.i18n.getMessage("notifier_place_order_successfully"),"\n",browser.i18n.getMessage("notifier_reactivate")):null}},{key:"render",value:function(){var t=this;if(this.props.display){var e=this.props,i=e.merchant,o=e.confirmPageMerchant,u=e.cc,c=e.errorView,a=this.isConfirmNotifier();if(i&&i.isTaobao||o&&o.isTaobao)return null;var f=a?"shopback-confirmation":"shopback-notification",l=a?"shopback-confirmation-logo":"shopback-notification-logo-bg-"+u.toLowerCase(),p=i&&!a&&!(0,d.default)(i.cashback_tiers);return s.default.createElement(h.Transition,{in:this.state.in,timeout:500},function(e){return s.default.createElement(w.FlexColumnContainer,null,s.default.createElement("div",{className:f,style:(0,r.default)({},n.defaultStyle,n.defaultTransitionStyles[e])},s.default.createElement(w.FlexRowContainer,{style:{flex:"1 0 auto"}},s.default.createElement("div",{className:l}),s.default.createElement(w.FlexColumnContainer,null,c||[t.renderReActiveInfo(a),t.renderNotifier(a)],p&&s.default.createElement(S.ViewAllRatesContainer,{onClick:function(){return t.setState(function(t){return{displayCashbackTiers:!t.displayCashbackTiers}})}},s.default.createElement(S.ViewAllRatesText,null,browser.i18n.getMessage("notifier_view_all_rates")),s.default.createElement(S.Arrow,{displayCashbackTiers:t.state.displayCashbackTiers})),s.default.createElement(A.default,{onClick:t.handleClose}))),t.state.displayCashbackTiers&&p&&s.default.createElement(C.default,{cashbackTiers:i.cashback_tiers})))})}return null}}]),n}((0,k.default)(a.Component));N.defaultStyle={transition:"opacity 500ms ease-in-out",opacity:0,top:"-20px"},N.defaultTransitionStyles={entered:{opacity:1,top:"10px"}},N.propTypes={merchant:f.default.object,confirmPageMerchant:f.default.object,display:f.default.bool.isRequired,loggedIn:f.default.bool.isRequired,unMount:f.default.func.isRequired,closeNotifier:f.default.func.isRequired,closeActivatedNotifier:f.default.func.isRequired,visitActivatedNotifier:f.default.func.isRequired,activate:f.default.func.isRequired,activated:f.default.bool.isRequired,disabled:f.default.bool.isRequired,cc:f.default.string.isRequired,dispatch:f.default.func.isRequired,activatedInConfirmPage:f.default.bool.isRequired,deActivate:f.default.func.isRequired,errorView:f.default.element},N.defaultProps={merchant:null,errorView:null,confirmPageMerchant:null},n.default=(0,l.connect)(function(t,n){var e=n.url,r=(0,b.matchMerchant)(t,n),i=(0,_.isActivated)(t,{merchant:r}),o=(0,b.matchConfirmPage)(t,n),u=(0,_.isActivated)(t,{merchant:o}),c=(0,_.h)(t,{merchant:r}),a=(0,E.isRecordPermissionChanged)(t,{merchant:r});return{merchant:r,activated:i,confirmPageMerchant:o,disabled:c,cc:t.cc,activatedInConfirmPage:u,loggedIn:(0,m.isLoggedIn)(t),display:!c&&!a&&(0,y.isDisplay)(t,{merchant:r,url:e})}},function(t){return(0,r.default)({},(0,p.bindActionCreators)({closeNotifier:v.uiCloseMerchantNotifier,closeActivatedNotifier:v.uiCloseActivatedMerchantNotifier,visitActivatedNotifier:v.uiVisitActivatedMerchantNotifier,activate:v.uiStartActivate,deActivate:v.uiDeActivate},t),{dispatch:t})})(N)},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e(21)),i=a(e(31)),o=a(e(24)),u=a(e(25)),c=e(69);function a(t){return t&&t.__esModule?t:{default:t}}n.default=function(t){return function(t){function n(t){(0,r.default)(this,n);var e=(0,o.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.trackLoginEvent=e.trackLoginEvent.bind(e),e.trackCloseEvent=e.trackCloseEvent.bind(e),e.trackPromptEvent=e.trackPromptEvent.bind(e),e.trackTaobaoSearch=e.trackTaobaoSearch.bind(e),e.trackActivateEvent=e.trackActivateEvent.bind(e),e}return(0,u.default)(n,t),(0,i.default)(n,[{key:"getType",value:function(t){return this.isConfirmNotifier()?"Confirmation Notifier":t&&this.props.activated?"Cashback Notifier Activated":this.props.loggedIn?"Cashback Notifier":"Login Notifier"}},{key:"trackActivateEvent",value:function(){this.props.dispatch((0,c.uiTrackExtClick)(this.getType(),"Activate","","cta","","",this.getMerchant().id,window.location.href))}},{key:"trackLoginEvent",value:function(){this.props.dispatch((0,c.uiTrackExtClick)(this.getType(),"Login","","cta","","",this.getMerchant().id,window.location.href))}},{key:"trackCloseEvent",value:function(){this.props.dispatch((0,c.uiTrackExtClick)(this.getType(!0),"Close","","cta","","",this.getMerchant().id,window.location.href))}},{key:"trackPromptEvent",value:function(t){var n=this.props.merchant;if(this.props.display)if(this.props.activated&&!t)this.props.dispatch((0,c.uiTrackExtNotifierActivatedPrompt)(n.id,window.location.href));else{var e=this.getMerchant().id;this.props.dispatch((0,c.uiTrackExtNotifierPrompt)(this.getType(),e,window.location.href))}else if(t){var r=this.getMerchant().id;this.props.dispatch((0,c.uiTrackExtNotifierPrompt)(this.getType(),r,window.location.href))}}},{key:"trackTaobaoSearch",value:function(t){this.props.dispatch((0,c.uiTrackExtSearch)(this.getType(),t,this.props.merchant.id,window.location.href))}}]),n}(t)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=c(e(5)),i=c(e(7)),o=c(e(11)),u=e(346);function c(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var n=t.cashbackTiers.map(function(t,n){return(0,r.default)({},t,{id:n})});return i.default.createElement(u.CashBackTiersContainer,null,i.default.createElement(u.WhiteBackGround,null,i.default.createElement(u.TitleContainer,null,i.default.createElement(u.Money,null),i.default.createElement(u.TitleText,null,browser.i18n.getMessage("notifier_cashback_tiers_title"))),n.map(function(t){return i.default.createElement(u.TierContainer,{key:t.id},i.default.createElement(u.Name,null,t.name),i.default.createElement(u.Amount,null,t.amount))})))};a.propTypes={cashbackTiers:o.default.array.isRequired},n.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";e(183);var r=e(156);e(157);var i=e(69),o=e(43),u=e(175),c=e(241),a=e(0),s=p(e(64)),f=p(e(817)),l=p(e(818));function p(t){return t&&t.__esModule?t:{default:t}}(0,r.createUIStore)().then(function(t){var n=window.location.href,r=t.getState(),p=(0,f.default)(t,n);if(s.default.info(t,"notifier content script launch"),s.default.info(t,"url: "+n),s.default.info(t,"deepLink: "+p),p!==n)s.default.info(t,"redirect to "+p),window.location.replace(p);else{var h=(0,o.matchMerchant)(r,{url:n});h&&t.dispatch((0,i.uiTrackExtPageVisited)(h.id,n,document.referrer)),(0,u.addDOMContentLoadedEventListener)(function(){if(window.self===window.top&&(window.menubar&&window.menubar.visible||!window.menubar)){s.default.info(t,"render notifier container");var n=e(450).default,r=e(820).default,i=(0,l.default)();(0,c.renderContainer)(t,n,a.CASHBACK_NOTIFIER_DIV_ID),(0,c.renderContainer)(t,r),(0,c.renderContainer)(t,i)}})}})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(45),i=e(43),o=e(29);n.default=function(t,n){var e=t.getState(),u=(0,i.matchMerchant)(e,{url:n}),c=(0,o.getActivatedMerchantInfo)(e,{merchant:u});if(c){var a=(0,i.matchMerchant)(e,{url:c.referrer});if(!(0,i.matchConfirmPage)(e,{url:c.referrer})&&!c.redirectToDeeplink&&!u.isTaobao&&a&&a.id===u.id&&u.is_extension_deeplink_enabled){var s=new URL(n),f=new URL(c.referrer);return""===f.pathname||"/"===f.pathname?n:(t.dispatch((0,r.uiDeepLinkRedirect)({merchantId:u.id})),s.searchParams.forEach(function(t,n){f.searchParams.set(n,t)}),f.href)}}return n}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e(5),o=(r=i)&&r.__esModule?r:{default:r},u=e(70),c=e(100),a=e(19),s=e(352),f=e(43),l=e(178);n.default=function(){e(819);var t=e(446).default;return(0,u.connect)(function(t,n){var e=(0,f.matchMerchant)(t,n);return{merchant:e,display:(0,l.isPermissionNotifierResumable)(t,{merchant:e}),helpCenterUrl:(0,a.getHelpCenterFromCC)(t.cc)}},function(t){return(0,o.default)({},(0,c.bindActionCreators)({close:s.uiClosePermissionNotifier},t),{dispatch:t})})(t)}},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Disabler=void 0;var r=y(e(5)),i=y(e(21)),o=y(e(31)),u=y(e(24)),c=y(e(25)),a=e(7),s=y(a),f=y(e(11)),l=e(70),p=e(100),h=e(101),d=e(43),v=e(29),m=e(0),b=e(19);e(821);var _=y(e(822));function y(t){return t&&t.__esModule?t:{default:t}}var E=n.Disabler=function(t){function n(){var t,e,r,o;(0,i.default)(this,n);for(var c=arguments.length,a=Array(c),s=0;s<c;s++)a[s]=arguments[s];return e=r=(0,u.default)(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a))),r.state={displayReason:!1},r.handleActivate=function(){var t=r.props,n=t.activate,e=t.merchant;window.location.replace((0,b.getActivatePage)(e.activation_url,m.l)),n({merchantId:e.id,prevUrl:window.location.href,forceToSetReferrer:!0,from:"Disable Notifier"}),r.trackReActivateEvent()},r.toggleReason=function(){var t=!r.state.displayReason;r.trackToggleExplanation(t),r.setState(function(){return{displayReason:t}})},r.dismissSelf=function(){r.props.unMount()},r.stopPropagation=function(t){t.stopPropagation()},r.close=function(){r.trackCloseEvent(),r.dismissSelf()},o=e,(0,u.default)(r,o)}return(0,c.default)(n,t),(0,o.default)(n,[{key:"componentWillReceiveProps",value:function(t){this.trackPromptEvent(t)}},{key:"render",value:function(){var t=this.props,n=t.merchant,e=t.disabled,r=t.reasons,i=this.state.displayReason;return n&&e?s.default.createElement("div",{className:"shopback-disabler",onClick:this.dismissSelf},s.default.createElement("div",{className:"disable-content",onClick:this.stopPropagation},s.default.createElement("div",{className:"disabled-logo"}),s.default.createElement("p",{className:"disable-title"},browser.i18n.getMessage("disabler_title")),s.default.createElement("p",{className:"disable-subline"},browser.i18n.getMessage("disabler_subline")),s.default.createElement("button",{onClick:this.handleActivate,className:"reactive-button"},n.reActivateX),s.default.createElement("div",{onClick:this.toggleReason},s.default.createElement("span",{className:"disable-explanation"},browser.i18n.getMessage("disabler_explanation")),s.default.createElement("span",{className:"disable-reasons-toggle"})),s.default.createElement("div",{className:"disable-reasons",style:{display:i?"block":"none"}},r.map(function(t,n){return s.default.createElement("div",{key:n,className:"reason"},t)})),s.default.createElement("hr",null),s.default.createElement("div",{className:"disable-disclaimer"},browser.i18n.getMessage("disabler_disclaimer")),s.default.createElement("div",null,s.default.createElement("span",{className:"disable-close",onClick:this.close})))):null}}]),n}((0,_.default)(a.Component));E.propTypes={merchant:f.default.object,activate:f.default.func.isRequired,disabled:f.default.bool.isRequired,unMount:f.default.func.isRequired,dispatch:f.default.func.isRequired,reasons:f.default.array},E.defaultProps={merchant:null},n.default=(0,l.connect)(function(t,n){var e=(0,d.matchMerchant)(t,n),r=(0,v.h)(t,{merchant:e}),i=(0,d.mapReason)(t,{merchant:e});return{merchant:(0,d.transformWithPartnership)(t,{merchant:e,disabled:r}),disabled:r,reasons:i}},function(t){return(0,r.default)({},(0,p.bindActionCreators)({activate:h.uiStartActivate},t),{dispatch:t})})(E)},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e(21)),i=a(e(31)),o=a(e(24)),u=a(e(25)),c=e(69);function a(t){return t&&t.__esModule?t:{default:t}}n.default=function(t){return function(t){function n(t){(0,r.default)(this,n);var e=(0,o.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.trackCloseEvent=e.trackCloseEvent.bind(e),e.trackPromptEvent=e.trackPromptEvent.bind(e),e.trackReActivateEvent=e.trackReActivateEvent.bind(e),e.trackToggleExplanation=e.trackToggleExplanation.bind(e),e}return(0,u.default)(n,t),(0,i.default)(n,[{key:"trackPromptEvent",value:function(t){var n=t.merchant,e=t.disabled;n&&e&&this.props.disabled!==e&&this.props.dispatch((0,c.uiTrackExtNotifierPrompt)("Disable Notifier",n.id,window.location.href))}},{key:"trackReActivateEvent",value:function(){var t=this.props.merchant;this.props.dispatch((0,c.uiTrackExtClick)("Disable Notifier","Activate","","cta","","",t.id,window.location.href))}},{key:"trackCloseEvent",value:function(){var t=this.props.merchant;this.props.dispatch((0,c.uiTrackExtClick)("Disable Notifier","Close","","cta","","",t.id,window.location.href))}},{key:"trackToggleExplanation",value:function(t){var n=this.props.merchant;this.props.dispatch((0,c.uiTrackExtClick)("Disable Notifier",t?"Open Explanation":"Close Explanation","","cta","","",n.id,window.location.href))}}]),n}(t)}}],[816]);